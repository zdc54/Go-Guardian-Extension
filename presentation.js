!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1003)}([,,function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,i,o,a,s,u){if(r(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,i,o,a,s,u],f=0;(c=new Error(t.replace(/%s/g,function(){return l[f++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,n){"use strict";e.exports=function(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var i=new Error(n);throw i.name="Invariant Violation",i.framesToPop=1,i}},function(e,t,n){"use strict";var r=n(17);e.exports=r},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(s[c]=n[c]);if(r){a=r(n);for(var l=0;l<a.length;l++)o.call(n,a[l])&&(s[a[l]]=n[a[l]])}}return s}},function(e,t,n){"use strict";var r=n(3),i=n(31),o=n(131),a=(n(2),i.ID_ATTRIBUTE_NAME),s=o,u="__reactInternalInstance$"+Math.random().toString(36).slice(2);function c(e,t){return 1===e.nodeType&&e.getAttribute(a)===String(t)||8===e.nodeType&&e.nodeValue===" react-text: "+t+" "||8===e.nodeType&&e.nodeValue===" react-empty: "+t+" "}function l(e){for(var t;t=e._renderedComponent;)e=t;return e}function f(e,t){var n=l(e);n._hostNode=t,t[u]=n}function p(e,t){if(!(e._flags&s.hasCachedChildNodes)){var n=e._renderedChildren,i=t.firstChild;e:for(var o in n)if(n.hasOwnProperty(o)){var a=n[o],u=l(a)._domID;if(0!==u){for(;null!==i;i=i.nextSibling)if(c(i,u)){f(a,i);continue e}r("32",u)}}e._flags|=s.hasCachedChildNodes}}function d(e){if(e[u])return e[u];for(var t,n,r=[];!e[u];){if(r.push(e),!e.parentNode)return null;e=e.parentNode}for(;e&&(n=e[u]);e=r.pop())t=n,r.length&&p(n,e);return t}var h={getClosestInstanceFromNode:d,getInstanceFromNode:function(e){var t=d(e);return null!=t&&t._hostNode===e?t:null},getNodeFromInstance:function(e){if(void 0===e._hostNode&&r("33"),e._hostNode)return e._hostNode;for(var t=[];!e._hostNode;)t.push(e),e._hostParent||r("34"),e=e._hostParent;for(;t.length;e=t.pop())p(e,e._hostNode);return e._hostNode},precacheChildNodes:p,precacheNode:f,uncacheNode:function(e){var t=e._hostNode;t&&(delete t[u],e._hostNode=null)}};e.exports=h},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(27),o=(r=i)&&r.__esModule?r:{default:r};function a(e){return function(...t){return new o.default((n,r)=>{t.push(e=>{window.chrome.runtime.lastError?r(window.chrome.runtime.lastError.message):n(e)}),e.apply(this,t)})}}!function e(t){Object.values(t).filter(e=>"object"==typeof e&&null!==e&&!Object.keys(e).some(e=>/Async$/.test(e))).forEach(t=>{o.default.promisifyAll(t,{promisifier:a}),e(t)})}(window.chrome);const s=window.chrome;t.default=s,e.exports=t.default},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogClient=void 0;var r=p(n(27)),i=p(n(142)),o=p(n(8)),a=p(n(538)),s=p(n(48)),u=p(n(59)),c=p(n(149)),l=p(n(537)),f=p(n(139));function p(e){return e&&e.__esModule?e:{default:e}}const d="logs_flush",h=l.default.levels;class v{constructor(e={}){this.logBuffer=[],this.logLevel=e.logLevel||"warning",this.apiEndpoint="/v2/logs",this.enabled=!(void 0!==e.enabled&&!e.enabled),this.sampleRate=e.sampleRate||1,this.flushIntervalMs=e.flushIntervalMs||3e4,this.maxSubmissionSize=e.maxSubmissionSize||100,this.numRetries=e.numRetries||3,this.startFlushingLogs(this.flushIntervalMs)}write(e){if(!this.enabled)return;const t=JSON.parse(e);return this.getLogLevelInt(t.severity)>=this.getLogLevelInt(this.logLevel)&&this.addLogToBuffer(t),a.default.enabled?this.print(t):void 0}getLogLevelInt(e){return h[e.toLowerCase()]||0}addLogToBuffer(e){Math.random()>=1-this.sampleRate&&this.logBuffer.push(e)}stopFlushingLogs(){u.default.unregister(d)}startFlushingLogs(e){u.default.register(this.flushLogs.bind(this),d,e)}updateLoggingEnabled(e){!0===e&&!1===this.enabled?(this.enabled=!0,this.startFlushingLogs(this.flushIntervalMs)):!1===e&&!0===this.enabled&&(this.enabled=!1,this.stopFlushingLogs(),this.logBuffer=[])}updateLogLevel(e){e&&e.toLowerCase()!==this.logLevel.toLowerCase()&&(this.logLevel=e.toLowerCase())}updateSampleRate(e){let t;try{t=Number(e)}catch(e){return console.error("Log Client: Cannot convert sample rate to number.",e)}t>=0&&t<=1&&e!==this.sampleRate&&(this.sampleRate=e)}updateMaxSubmissionSize(e){e&&e!==this.maxSubmissionSize&&(this.maxSubmissionSize=e)}updateFlushInterval(e){e&&e!==this.flushIntervalMs&&(this.flushIntervalMs=e,this.stopFlushingLogs(),this.startFlushingLogs(e))}updateNumRetries(e){e&&e!==this.numRetries&&(this.numRetries=e)}flushLogs(){const e=this.logBuffer.splice(0,this.maxSubmissionSize);if(e&&e.length)return(0,s.default)(this.sendLogs.bind(this,e),1e3,this.numRetries).catch(t=>{f.default.increment("logs.submit_error"),console.warn("Logging Client: Error flushing logs.",t),this.logBuffer=this.logBuffer.concat(e)})}sendLogs(e){const t={logs:e,submissionTime:(new Date).getTime()};return new r.default((e,n)=>{i.default.ajax(`${String("https://countvoncount.goguardian.com")}${this.apiEndpoint}`,{type:"POST",data:JSON.stringify(t),contentType:"application/json",processData:!1,beforeSend:function(e){e.setRequestHeader("Authorization",localStorage.compRand||"Unknown"),e.setRequestHeader("ExtensionVersion",o.default.app.getDetails().version||"Unknown")},error:(e,t,r)=>{n({textStatus:t,errorThrown:r,jqXHR:e})},success:t=>{e(t)}})})}print(e){switch(e.severity){case"alert":case"critical":case"error":e.stack_trace?console.error(e.log,e.stack_trace,e):console.error(e.log,e);break;case"warning":e.stack_trace?console.warn(e.log,e.stack_trace,e):console.warn(e.log,e);break;case"info":case"debug":console.log(e.log,e)}}toJSON(){return this.logBuffer}}t.LogClient=v;const y=new v({minLevel:"warning"}),g=new l.default({stream:y}).withFields({account_id:localStorage.accountId||null,extension_version:o.default.app.getDetails().version,os:c.default.getPlatform(),org_id:localStorage.orgId||null,sub_account_id:localStorage.subAccountId||null});t.default=g},function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=i},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";e.exports=n(33)},function(e,t,n){e.exports=n(205)()},function(e,t,n){"use strict";e.exports={debugTool:null}},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(127),a=n(25),s=n(126),u=n(30),c=n(56),l=n(2),f=[],p=0,d=o.getPooled(),h=!1,v=null;function y(){k.ReactReconcileTransaction&&v||r("123")}var g=[{initialize:function(){this.dirtyComponentsLength=f.length},close:function(){this.dirtyComponentsLength!==f.length?(f.splice(0,this.dirtyComponentsLength),w()):f.length=0}},{initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}}];function m(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=o.getPooled(),this.reconcileTransaction=k.ReactReconcileTransaction.getPooled(!0)}function _(e,t){return e._mountOrder-t._mountOrder}function b(e){var t=e.dirtyComponentsLength;t!==f.length&&r("124",t,f.length),f.sort(_),p++;for(var n=0;n<t;n++){var i,o=f[n],a=o._pendingCallbacks;if(o._pendingCallbacks=null,s.logTopLevelRenders){var c=o;o._currentElement.type.isReactTopLevelWrapper&&(c=o._renderedComponent),i="React update: "+c.getName(),console.time(i)}if(u.performUpdateIfNecessary(o,e.reconcileTransaction,p),i&&console.timeEnd(i),a)for(var l=0;l<a.length;l++)e.callbackQueue.enqueue(a[l],o.getPublicInstance())}}i(m.prototype,c,{getTransactionWrappers:function(){return g},destructor:function(){this.dirtyComponentsLength=null,o.release(this.callbackQueue),this.callbackQueue=null,k.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return c.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),a.addPoolingTo(m);var w=function(){for(;f.length||h;){if(f.length){var e=m.getPooled();e.perform(b,null,e),m.release(e)}if(h){h=!1;var t=d;d=o.getPooled(),t.notifyAll(),o.release(t)}}};var k={ReactReconcileTransaction:null,batchedUpdates:function(e,t,n,r,i,o){return y(),v.batchedUpdates(e,t,n,r,i,o)},enqueueUpdate:function e(t){y(),v.isBatchingUpdates?(f.push(t),null==t._updateBatchNumber&&(t._updateBatchNumber=p+1)):v.batchedUpdates(e,t)},flushBatchedUpdates:w,injection:{injectReconcileTransaction:function(e){e||r("126"),k.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e||r("127"),"function"!=typeof e.batchedUpdates&&r("128"),"boolean"!=typeof e.isBatchingUpdates&&r("129"),v=e}},asap:function(e,t){l(v.isBatchingUpdates,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."),d.enqueue(e,t),h=!0}};e.exports=k},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=s(p);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||l||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},,function(e,t,n){"use strict";var r=n(5),i=n(25),o=n(17),a=(n(4),["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),s={type:null,target:null,currentTarget:o.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};function u(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var i=this.constructor.Interface;for(var a in i)if(i.hasOwnProperty(a)){0;var s=i[a];s?this[a]=s(n):"target"===a?this.target=r:this[a]=n[a]}var u=null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue;return this.isDefaultPrevented=u?o.thatReturnsTrue:o.thatReturnsFalse,this.isPropagationStopped=o.thatReturnsFalse,this}r(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=o.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=o.thatReturnsTrue)},persist:function(){this.isPersistent=o.thatReturnsTrue},isPersistent:o.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;for(var n=0;n<a.length;n++)this[a[n]]=null}}),u.Interface=s,u.augmentClass=function(e,t){var n=function(){};n.prototype=this.prototype;var o=new n;r(o,e.prototype),e.prototype=o,e.prototype.constructor=e,e.Interface=r({},this.Interface,t),e.augmentClass=this.augmentClass,i.addPoolingTo(e,i.fourArgumentPooler)},i.addPoolingTo(u,i.fourArgumentPooler),e.exports=u},function(e,t,n){"use strict";e.exports={current:null}},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n(506),i=n(505),o=n(341);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=p(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|d(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):p(e,t);if("Buffer"===t.type&&o(t.data))return p(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=s(e,t<0?0:0|d(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t){var n=t.length<0?0:0|d(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(e).length;default:if(r)return U(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:g(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var f=!0,p=0;p<u;p++)if(c(e,o+p)!==c(t,p)){f=!1;break}if(f)return o}return-1}function m(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function _(e,t,n,r){return q(U(t,e.length-n),e,n,r)}function b(e,t,n,r){return q(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return b(e,t,n,r)}function k(e,t,n,r){return q(V(t),e,n,r)}function E(e,t,n,r){return q(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function T(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(e){var t=e.length;if(t<=C)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=C));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=h,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return x(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var o=i-r,a=n-t,s=Math.min(o,a),c=this.slice(r,i),l=e.slice(t,n),f=0;f<s;++f)if(c[f]!==l[f]){o=c[f],a=l[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return m(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function x(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function P(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=F(e[o]);return i}function A(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function j(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function I(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function L(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function M(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,o){return o||M(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function N(e,t,n,r,o){return o||M(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if(e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||j(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||j(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||j(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||j(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||j(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||j(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||j(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||j(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||j(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||j(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);R(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);R(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=u.isBuffer(e)?e:U(new u(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function V(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(B,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(12))},function(e,t,n){(function(e,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o,a=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",c="__lodash_hash_undefined__",l=500,f="__lodash_placeholder__",p=1,d=2,h=4,v=1,y=2,g=1,m=2,_=4,b=8,w=16,k=32,E=64,S=128,T=256,C=512,x=30,O="...",P=800,A=16,j=1,R=2,I=1/0,L=9007199254740991,M=1.7976931348623157e308,D=NaN,N=4294967295,B=N-1,F=N>>>1,U=[["ary",S],["bind",g],["bindKey",m],["curry",b],["curryRight",w],["flip",C],["partial",k],["partialRight",E],["rearg",T]],V="[object Arguments]",q="[object Array]",W="[object AsyncFunction]",H="[object Boolean]",z="[object Date]",Y="[object DOMException]",Q="[object Error]",K="[object Function]",$="[object GeneratorFunction]",J="[object Map]",G="[object Number]",X="[object Null]",Z="[object Object]",ee="[object Proxy]",te="[object RegExp]",ne="[object Set]",re="[object String]",ie="[object Symbol]",oe="[object Undefined]",ae="[object WeakMap]",se="[object WeakSet]",ue="[object ArrayBuffer]",ce="[object DataView]",le="[object Float32Array]",fe="[object Float64Array]",pe="[object Int8Array]",de="[object Int16Array]",he="[object Int32Array]",ve="[object Uint8Array]",ye="[object Uint8ClampedArray]",ge="[object Uint16Array]",me="[object Uint32Array]",_e=/\b__p \+= '';/g,be=/\b(__p \+=) '' \+/g,we=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ke=/&(?:amp|lt|gt|quot|#39);/g,Ee=/[&<>"']/g,Se=RegExp(ke.source),Te=RegExp(Ee.source),Ce=/<%-([\s\S]+?)%>/g,xe=/<%([\s\S]+?)%>/g,Oe=/<%=([\s\S]+?)%>/g,Pe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ae=/^\w*$/,je=/^\./,Re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ie=/[\\^$.*+?()[\]{}|]/g,Le=RegExp(Ie.source),Me=/^\s+|\s+$/g,De=/^\s+/,Ne=/\s+$/,Be=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Fe=/\{\n\/\* \[wrapped with (.+)\] \*/,Ue=/,? & /,Ve=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,qe=/\\(\\)?/g,We=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,He=/\w*$/,ze=/^[-+]0x[0-9a-f]+$/i,Ye=/^0b[01]+$/i,Qe=/^\[object .+?Constructor\]$/,Ke=/^0o[0-7]+$/i,$e=/^(?:0|[1-9]\d*)$/,Je=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ge=/($^)/,Xe=/['\n\r\u2028\u2029\\]/g,Ze="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",et="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",tt="[\\ud800-\\udfff]",nt="["+et+"]",rt="["+Ze+"]",it="\\d+",ot="[\\u2700-\\u27bf]",at="[a-z\\xdf-\\xf6\\xf8-\\xff]",st="[^\\ud800-\\udfff"+et+it+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ut="\\ud83c[\\udffb-\\udfff]",ct="[^\\ud800-\\udfff]",lt="(?:\\ud83c[\\udde6-\\uddff]){2}",ft="[\\ud800-\\udbff][\\udc00-\\udfff]",pt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",dt="(?:"+at+"|"+st+")",ht="(?:"+pt+"|"+st+")",vt="(?:"+rt+"|"+ut+")"+"?",yt="[\\ufe0e\\ufe0f]?"+vt+("(?:\\u200d(?:"+[ct,lt,ft].join("|")+")[\\ufe0e\\ufe0f]?"+vt+")*"),gt="(?:"+[ot,lt,ft].join("|")+")"+yt,mt="(?:"+[ct+rt+"?",rt,lt,ft,tt].join("|")+")",_t=RegExp("['’]","g"),bt=RegExp(rt,"g"),wt=RegExp(ut+"(?="+ut+")|"+mt+yt,"g"),kt=RegExp([pt+"?"+at+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[nt,pt,"$"].join("|")+")",ht+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[nt,pt+dt,"$"].join("|")+")",pt+"?"+dt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",pt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",it,gt].join("|"),"g"),Et=RegExp("[\\u200d\\ud800-\\udfff"+Ze+"\\ufe0e\\ufe0f]"),St=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Tt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ct=-1,xt={};xt[le]=xt[fe]=xt[pe]=xt[de]=xt[he]=xt[ve]=xt[ye]=xt[ge]=xt[me]=!0,xt[V]=xt[q]=xt[ue]=xt[H]=xt[ce]=xt[z]=xt[Q]=xt[K]=xt[J]=xt[G]=xt[Z]=xt[te]=xt[ne]=xt[re]=xt[ae]=!1;var Ot={};Ot[V]=Ot[q]=Ot[ue]=Ot[ce]=Ot[H]=Ot[z]=Ot[le]=Ot[fe]=Ot[pe]=Ot[de]=Ot[he]=Ot[J]=Ot[G]=Ot[Z]=Ot[te]=Ot[ne]=Ot[re]=Ot[ie]=Ot[ve]=Ot[ye]=Ot[ge]=Ot[me]=!0,Ot[Q]=Ot[K]=Ot[ae]=!1;var Pt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},At=parseFloat,jt=parseInt,Rt="object"==typeof e&&e&&e.Object===Object&&e,It="object"==typeof self&&self&&self.Object===Object&&self,Lt=Rt||It||Function("return this")(),Mt="object"==typeof t&&t&&!t.nodeType&&t,Dt=Mt&&"object"==typeof r&&r&&!r.nodeType&&r,Nt=Dt&&Dt.exports===Mt,Bt=Nt&&Rt.process,Ft=function(){try{return Bt&&Bt.binding&&Bt.binding("util")}catch(e){}}(),Ut=Ft&&Ft.isArrayBuffer,Vt=Ft&&Ft.isDate,qt=Ft&&Ft.isMap,Wt=Ft&&Ft.isRegExp,Ht=Ft&&Ft.isSet,zt=Ft&&Ft.isTypedArray;function Yt(e,t){return e.set(t[0],t[1]),e}function Qt(e,t){return e.add(t),e}function Kt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function $t(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function Jt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Gt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Xt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Zt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function en(e,t){return!!(null==e?0:e.length)&&fn(e,t,0)>-1}function tn(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function nn(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function rn(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function on(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function an(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function sn(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var un=vn("length");function cn(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function ln(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function fn(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):ln(e,dn,n)}function pn(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function dn(e){return e!=e}function hn(e,t){var n=null==e?0:e.length;return n?mn(e,t)/n:D}function vn(e){return function(t){return null==t?o:t[e]}}function yn(e){return function(t){return null==e?o:e[t]}}function gn(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function mn(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==o&&(n=n===o?a:n+a)}return n}function _n(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function bn(e){return function(t){return e(t)}}function wn(e,t){return nn(t,function(t){return e[t]})}function kn(e,t){return e.has(t)}function En(e,t){for(var n=-1,r=e.length;++n<r&&fn(t,e[n],0)>-1;);return n}function Sn(e,t){for(var n=e.length;n--&&fn(t,e[n],0)>-1;);return n}var Tn=yn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Cn=yn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function xn(e){return"\\"+Pt[e]}function On(e){return Et.test(e)}function Pn(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function An(e,t){return function(n){return e(t(n))}}function jn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==f||(e[n]=f,o[i++]=n)}return o}function Rn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function In(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function Ln(e){return On(e)?function(e){var t=wt.lastIndex=0;for(;wt.test(e);)++t;return t}(e):un(e)}function Mn(e){return On(e)?function(e){return e.match(wt)||[]}(e):function(e){return e.split("")}(e)}var Dn=yn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Nn=function e(t){var n,r=(t=null==t?Lt:Nn.defaults(Lt.Object(),t,Nn.pick(Lt,Tt))).Array,i=t.Date,Ze=t.Error,et=t.Function,tt=t.Math,nt=t.Object,rt=t.RegExp,it=t.String,ot=t.TypeError,at=r.prototype,st=et.prototype,ut=nt.prototype,ct=t["__core-js_shared__"],lt=st.toString,ft=ut.hasOwnProperty,pt=0,dt=(n=/[^.]+$/.exec(ct&&ct.keys&&ct.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",ht=ut.toString,vt=lt.call(nt),yt=Lt._,gt=rt("^"+lt.call(ft).replace(Ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mt=Nt?t.Buffer:o,wt=t.Symbol,Et=t.Uint8Array,Pt=mt?mt.allocUnsafe:o,Rt=An(nt.getPrototypeOf,nt),It=nt.create,Mt=ut.propertyIsEnumerable,Dt=at.splice,Bt=wt?wt.isConcatSpreadable:o,Ft=wt?wt.iterator:o,un=wt?wt.toStringTag:o,yn=function(){try{var e=qo(nt,"defineProperty");return e({},"",{}),e}catch(e){}}(),Bn=t.clearTimeout!==Lt.clearTimeout&&t.clearTimeout,Fn=i&&i.now!==Lt.Date.now&&i.now,Un=t.setTimeout!==Lt.setTimeout&&t.setTimeout,Vn=tt.ceil,qn=tt.floor,Wn=nt.getOwnPropertySymbols,Hn=mt?mt.isBuffer:o,zn=t.isFinite,Yn=at.join,Qn=An(nt.keys,nt),Kn=tt.max,$n=tt.min,Jn=i.now,Gn=t.parseInt,Xn=tt.random,Zn=at.reverse,er=qo(t,"DataView"),tr=qo(t,"Map"),nr=qo(t,"Promise"),rr=qo(t,"Set"),ir=qo(t,"WeakMap"),or=qo(nt,"create"),ar=ir&&new ir,sr={},ur=da(er),cr=da(tr),lr=da(nr),fr=da(rr),pr=da(ir),dr=wt?wt.prototype:o,hr=dr?dr.valueOf:o,vr=dr?dr.toString:o;function yr(e){if(As(e)&&!_s(e)&&!(e instanceof br)){if(e instanceof _r)return e;if(ft.call(e,"__wrapped__"))return ha(e)}return new _r(e)}var gr=function(){function e(){}return function(t){if(!Ps(t))return{};if(It)return It(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function mr(){}function _r(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function br(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=N,this.__views__=[]}function wr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function kr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Er(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Sr(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Er;++t<n;)this.add(e[t])}function Tr(e){var t=this.__data__=new kr(e);this.size=t.size}function Cr(e,t){var n=_s(e),r=!n&&ms(e),i=!n&&!r&&Es(e),o=!n&&!r&&!i&&Bs(e),a=n||r||i||o,s=a?_n(e.length,it):[],u=s.length;for(var c in e)!t&&!ft.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||$o(c,u))||s.push(c);return s}function xr(e){var t=e.length;return t?e[Si(0,t-1)]:o}function Or(e,t){return la(oo(e),Nr(t,0,e.length))}function Pr(e){return la(oo(e))}function Ar(e,t,n){(n===o||vs(e[t],n))&&(n!==o||t in e)||Mr(e,t,n)}function jr(e,t,n){var r=e[t];ft.call(e,t)&&vs(r,n)&&(n!==o||t in e)||Mr(e,t,n)}function Rr(e,t){for(var n=e.length;n--;)if(vs(e[n][0],t))return n;return-1}function Ir(e,t,n,r){return qr(e,function(e,i,o){t(r,e,n(e),o)}),r}function Lr(e,t){return e&&ao(t,au(t),e)}function Mr(e,t,n){"__proto__"==t&&yn?yn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Dr(e,t){for(var n=-1,i=t.length,a=r(i),s=null==e;++n<i;)a[n]=s?o:tu(e,t[n]);return a}function Nr(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function Br(e,t,n,r,i,a){var s,u=t&p,c=t&d,l=t&h;if(n&&(s=i?n(e,r,i,a):n(e)),s!==o)return s;if(!Ps(e))return e;var f=_s(e);if(f){if(s=function(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&ft.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!u)return oo(e,s)}else{var v=zo(e),y=v==K||v==$;if(Es(e))return Zi(e,u);if(v==Z||v==V||y&&!i){if(s=c||y?{}:Qo(e),!u)return c?function(e,t){return ao(e,Ho(e),t)}(e,function(e,t){return e&&ao(t,su(t),e)}(s,e)):function(e,t){return ao(e,Wo(e),t)}(e,Lr(s,e))}else{if(!Ot[v])return i?e:{};s=function(e,t,n,r){var i,o,a,s=e.constructor;switch(t){case ue:return eo(e);case H:case z:return new s(+e);case ce:return function(e,t){var n=t?eo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case le:case fe:case pe:case de:case he:case ve:case ye:case ge:case me:return to(e,r);case J:return function(e,t,n){return on(t?n(Pn(e),p):Pn(e),Yt,new e.constructor)}(e,r,n);case G:case re:return new s(e);case te:return(a=new(o=e).constructor(o.source,He.exec(o))).lastIndex=o.lastIndex,a;case ne:return function(e,t,n){return on(t?n(Rn(e),p):Rn(e),Qt,new e.constructor)}(e,r,n);case ie:return i=e,hr?nt(hr.call(i)):{}}}(e,v,Br,u)}}a||(a=new Tr);var g=a.get(e);if(g)return g;a.set(e,s);var m=f?o:(l?c?Mo:Lo:c?su:au)(e);return Jt(m||e,function(r,i){m&&(r=e[i=r]),jr(s,i,Br(r,t,n,i,e,a))}),s}function Fr(e,t,n){var r=n.length;if(null==e)return!r;for(e=nt(e);r--;){var i=n[r],a=t[i],s=e[i];if(s===o&&!(i in e)||!a(s))return!1}return!0}function Ur(e,t,n){if("function"!=typeof e)throw new ot(u);return aa(function(){e.apply(o,n)},t)}function Vr(e,t,n,r){var i=-1,o=en,s=!0,u=e.length,c=[],l=t.length;if(!u)return c;n&&(t=nn(t,bn(n))),r?(o=tn,s=!1):t.length>=a&&(o=kn,s=!1,t=new Sr(t));e:for(;++i<u;){var f=e[i],p=null==n?f:n(f);if(f=r||0!==f?f:0,s&&p==p){for(var d=l;d--;)if(t[d]===p)continue e;c.push(f)}else o(t,p,r)||c.push(f)}return c}yr.templateSettings={escape:Ce,evaluate:xe,interpolate:Oe,variable:"",imports:{_:yr}},yr.prototype=mr.prototype,yr.prototype.constructor=yr,_r.prototype=gr(mr.prototype),_r.prototype.constructor=_r,br.prototype=gr(mr.prototype),br.prototype.constructor=br,wr.prototype.clear=function(){this.__data__=or?or(null):{},this.size=0},wr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},wr.prototype.get=function(e){var t=this.__data__;if(or){var n=t[e];return n===c?o:n}return ft.call(t,e)?t[e]:o},wr.prototype.has=function(e){var t=this.__data__;return or?t[e]!==o:ft.call(t,e)},wr.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=or&&t===o?c:t,this},kr.prototype.clear=function(){this.__data__=[],this.size=0},kr.prototype.delete=function(e){var t=this.__data__,n=Rr(t,e);return!(n<0||(n==t.length-1?t.pop():Dt.call(t,n,1),--this.size,0))},kr.prototype.get=function(e){var t=this.__data__,n=Rr(t,e);return n<0?o:t[n][1]},kr.prototype.has=function(e){return Rr(this.__data__,e)>-1},kr.prototype.set=function(e,t){var n=this.__data__,r=Rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Er.prototype.clear=function(){this.size=0,this.__data__={hash:new wr,map:new(tr||kr),string:new wr}},Er.prototype.delete=function(e){var t=Uo(this,e).delete(e);return this.size-=t?1:0,t},Er.prototype.get=function(e){return Uo(this,e).get(e)},Er.prototype.has=function(e){return Uo(this,e).has(e)},Er.prototype.set=function(e,t){var n=Uo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Sr.prototype.add=Sr.prototype.push=function(e){return this.__data__.set(e,c),this},Sr.prototype.has=function(e){return this.__data__.has(e)},Tr.prototype.clear=function(){this.__data__=new kr,this.size=0},Tr.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Tr.prototype.get=function(e){return this.__data__.get(e)},Tr.prototype.has=function(e){return this.__data__.has(e)},Tr.prototype.set=function(e,t){var n=this.__data__;if(n instanceof kr){var r=n.__data__;if(!tr||r.length<a-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Er(r)}return n.set(e,t),this.size=n.size,this};var qr=co(Jr),Wr=co(Gr,!0);function Hr(e,t){var n=!0;return qr(e,function(e,r,i){return n=!!t(e,r,i)}),n}function zr(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],s=t(a);if(null!=s&&(u===o?s==s&&!Ns(s):n(s,u)))var u=s,c=a}return c}function Yr(e,t){var n=[];return qr(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function Qr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=Ko),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?Qr(s,t-1,n,r,i):rn(i,s):r||(i[i.length]=s)}return i}var Kr=lo(),$r=lo(!0);function Jr(e,t){return e&&Kr(e,t,au)}function Gr(e,t){return e&&$r(e,t,au)}function Xr(e,t){return Zt(t,function(t){return Cs(e[t])})}function Zr(e,t){for(var n=0,r=(t=$i(t,e)).length;null!=e&&n<r;)e=e[pa(t[n++])];return n&&n==r?e:o}function ei(e,t,n){var r=t(e);return _s(e)?r:rn(r,n(e))}function ti(e){return null==e?e===o?oe:X:un&&un in nt(e)?function(e){var t=ft.call(e,un),n=e[un];try{e[un]=o;var r=!0}catch(e){}var i=ht.call(e);return r&&(t?e[un]=n:delete e[un]),i}(e):function(e){return ht.call(e)}(e)}function ni(e,t){return e>t}function ri(e,t){return null!=e&&ft.call(e,t)}function ii(e,t){return null!=e&&t in nt(e)}function oi(e,t,n){for(var i=n?tn:en,a=e[0].length,s=e.length,u=s,c=r(s),l=1/0,f=[];u--;){var p=e[u];u&&t&&(p=nn(p,bn(t))),l=$n(p.length,l),c[u]=!n&&(t||a>=120&&p.length>=120)?new Sr(u&&p):o}p=e[0];var d=-1,h=c[0];e:for(;++d<a&&f.length<l;){var v=p[d],y=t?t(v):v;if(v=n||0!==v?v:0,!(h?kn(h,y):i(f,y,n))){for(u=s;--u;){var g=c[u];if(!(g?kn(g,y):i(e[u],y,n)))continue e}h&&h.push(y),f.push(v)}}return f}function ai(e,t,n){var r=null==(e=ia(e,t=$i(t,e)))?e:e[pa(Ta(t))];return null==r?o:Kt(r,e,n)}function si(e){return As(e)&&ti(e)==V}function ui(e,t,n,r,i){return e===t||(null==e||null==t||!As(e)&&!As(t)?e!=e&&t!=t:function(e,t,n,r,i,a){var s=_s(e),u=_s(t),c=s?q:zo(e),l=u?q:zo(t),f=(c=c==V?Z:c)==Z,p=(l=l==V?Z:l)==Z,d=c==l;if(d&&Es(e)){if(!Es(t))return!1;s=!0,f=!1}if(d&&!f)return a||(a=new Tr),s||Bs(e)?Ro(e,t,n,r,i,a):function(e,t,n,r,i,o,a){switch(n){case ce:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ue:return!(e.byteLength!=t.byteLength||!o(new Et(e),new Et(t)));case H:case z:case G:return vs(+e,+t);case Q:return e.name==t.name&&e.message==t.message;case te:case re:return e==t+"";case J:var s=Pn;case ne:var u=r&v;if(s||(s=Rn),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=y,a.set(e,t);var l=Ro(s(e),s(t),r,i,o,a);return a.delete(e),l;case ie:if(hr)return hr.call(e)==hr.call(t)}return!1}(e,t,c,n,r,i,a);if(!(n&v)){var h=f&&ft.call(e,"__wrapped__"),g=p&&ft.call(t,"__wrapped__");if(h||g){var m=h?e.value():e,_=g?t.value():t;return a||(a=new Tr),i(m,_,n,r,a)}}return!!d&&(a||(a=new Tr),function(e,t,n,r,i,a){var s=n&v,u=Lo(e),c=u.length,l=Lo(t).length;if(c!=l&&!s)return!1;for(var f=c;f--;){var p=u[f];if(!(s?p in t:ft.call(t,p)))return!1}var d=a.get(e);if(d&&a.get(t))return d==t;var h=!0;a.set(e,t),a.set(t,e);for(var y=s;++f<c;){p=u[f];var g=e[p],m=t[p];if(r)var _=s?r(m,g,p,t,e,a):r(g,m,p,e,t,a);if(!(_===o?g===m||i(g,m,n,r,a):_)){h=!1;break}y||(y="constructor"==p)}if(h&&!y){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(h=!1)}return a.delete(e),a.delete(t),h}(e,t,n,r,i,a))}(e,t,n,r,ui,i))}function ci(e,t,n,r){var i=n.length,a=i,s=!r;if(null==e)return!a;for(e=nt(e);i--;){var u=n[i];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<a;){var c=(u=n[i])[0],l=e[c],f=u[1];if(s&&u[2]){if(l===o&&!(c in e))return!1}else{var p=new Tr;if(r)var d=r(l,f,c,e,t,p);if(!(d===o?ui(f,l,v|y,r,p):d))return!1}}return!0}function li(e){return!(!Ps(e)||dt&&dt in e)&&(Cs(e)?gt:Qe).test(da(e))}function fi(e){return"function"==typeof e?e:null==e?Ru:"object"==typeof e?_s(e)?gi(e[0],e[1]):yi(e):Vu(e)}function pi(e){if(!ea(e))return Qn(e);var t=[];for(var n in nt(e))ft.call(e,n)&&"constructor"!=n&&t.push(n);return t}function di(e){if(!Ps(e))return function(e){var t=[];if(null!=e)for(var n in nt(e))t.push(n);return t}(e);var t=ea(e),n=[];for(var r in e)("constructor"!=r||!t&&ft.call(e,r))&&n.push(r);return n}function hi(e,t){return e<t}function vi(e,t){var n=-1,i=ws(e)?r(e.length):[];return qr(e,function(e,r,o){i[++n]=t(e,r,o)}),i}function yi(e){var t=Vo(e);return 1==t.length&&t[0][2]?na(t[0][0],t[0][1]):function(n){return n===e||ci(n,e,t)}}function gi(e,t){return Go(e)&&ta(t)?na(pa(e),t):function(n){var r=tu(n,e);return r===o&&r===t?nu(n,e):ui(t,r,v|y)}}function mi(e,t,n,r,i){e!==t&&Kr(t,function(a,s){if(Ps(a))i||(i=new Tr),function(e,t,n,r,i,a,s){var u=e[n],c=t[n],l=s.get(c);if(l)Ar(e,n,l);else{var f=a?a(u,c,n+"",e,t,s):o,p=f===o;if(p){var d=_s(c),h=!d&&Es(c),v=!d&&!h&&Bs(c);f=c,d||h||v?_s(u)?f=u:ks(u)?f=oo(u):h?(p=!1,f=Zi(c,!0)):v?(p=!1,f=to(c,!0)):f=[]:Is(c)||ms(c)?(f=u,ms(u)?f=Ys(u):(!Ps(u)||r&&Cs(u))&&(f=Qo(c))):p=!1}p&&(s.set(c,f),i(f,c,r,a,s),s.delete(c)),Ar(e,n,f)}}(e,t,s,n,mi,r,i);else{var u=r?r(e[s],a,s+"",e,t,i):o;u===o&&(u=a),Ar(e,s,u)}},su)}function _i(e,t){var n=e.length;if(n)return $o(t+=t<0?n:0,n)?e[t]:o}function bi(e,t,n){var r=-1;return t=nn(t.length?t:[Ru],bn(Fo())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(vi(e,function(e,n,i){return{criteria:nn(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var u=no(i[r],o[r]);if(u){if(r>=s)return u;var c=n[r];return u*("desc"==c?-1:1)}}return e.index-t.index}(e,t,n)})}function wi(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=Zr(e,a);n(s,a)&&Pi(o,$i(a,e),s)}return o}function ki(e,t,n,r){var i=r?pn:fn,o=-1,a=t.length,s=e;for(e===t&&(t=oo(t)),n&&(s=nn(e,bn(n)));++o<a;)for(var u=0,c=t[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==e&&Dt.call(s,u,1),Dt.call(e,u,1);return e}function Ei(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;$o(i)?Dt.call(e,i,1):Vi(e,i)}}return e}function Si(e,t){return e+qn(Xn()*(t-e+1))}function Ti(e,t){var n="";if(!e||t<1||t>L)return n;do{t%2&&(n+=e),(t=qn(t/2))&&(e+=e)}while(t);return n}function Ci(e,t){return sa(ra(e,t,Ru),e+"")}function xi(e){return xr(vu(e))}function Oi(e,t){var n=vu(e);return la(n,Nr(t,0,n.length))}function Pi(e,t,n,r){if(!Ps(e))return e;for(var i=-1,a=(t=$i(t,e)).length,s=a-1,u=e;null!=u&&++i<a;){var c=pa(t[i]),l=n;if(i!=s){var f=u[c];(l=r?r(f,c,u):o)===o&&(l=Ps(f)?f:$o(t[i+1])?[]:{})}jr(u,c,l),u=u[c]}return e}var Ai=ar?function(e,t){return ar.set(e,t),e}:Ru,ji=yn?function(e,t){return yn(e,"toString",{configurable:!0,enumerable:!1,value:Pu(t),writable:!0})}:Ru;function Ri(e){return la(vu(e))}function Ii(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=r(o);++i<o;)a[i]=e[i+t];return a}function Li(e,t){var n;return qr(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}function Mi(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=F){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!Ns(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return Di(e,t,Ru,n)}function Di(e,t,n,r){t=n(t);for(var i=0,a=null==e?0:e.length,s=t!=t,u=null===t,c=Ns(t),l=t===o;i<a;){var f=qn((i+a)/2),p=n(e[f]),d=p!==o,h=null===p,v=p==p,y=Ns(p);if(s)var g=r||v;else g=l?v&&(r||d):u?v&&d&&(r||!h):c?v&&d&&!h&&(r||!y):!h&&!y&&(r?p<=t:p<t);g?i=f+1:a=f}return $n(a,B)}function Ni(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!vs(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function Bi(e){return"number"==typeof e?e:Ns(e)?D:+e}function Fi(e){if("string"==typeof e)return e;if(_s(e))return nn(e,Fi)+"";if(Ns(e))return vr?vr.call(e):"";var t=e+"";return"0"==t&&1/e==-I?"-0":t}function Ui(e,t,n){var r=-1,i=en,o=e.length,s=!0,u=[],c=u;if(n)s=!1,i=tn;else if(o>=a){var l=t?null:Co(e);if(l)return Rn(l);s=!1,i=kn,c=new Sr}else c=t?[]:u;e:for(;++r<o;){var f=e[r],p=t?t(f):f;if(f=n||0!==f?f:0,s&&p==p){for(var d=c.length;d--;)if(c[d]===p)continue e;t&&c.push(p),u.push(f)}else i(c,p,n)||(c!==u&&c.push(p),u.push(f))}return u}function Vi(e,t){return null==(e=ia(e,t=$i(t,e)))||delete e[pa(Ta(t))]}function qi(e,t,n,r){return Pi(e,t,n(Zr(e,t)),r)}function Wi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Ii(e,r?0:o,r?o+1:i):Ii(e,r?o+1:0,r?i:o)}function Hi(e,t){var n=e;return n instanceof br&&(n=n.value()),on(t,function(e,t){return t.func.apply(t.thisArg,rn([e],t.args))},n)}function zi(e,t,n){var i=e.length;if(i<2)return i?Ui(e[0]):[];for(var o=-1,a=r(i);++o<i;)for(var s=e[o],u=-1;++u<i;)u!=o&&(a[o]=Vr(a[o]||s,e[u],t,n));return Ui(Qr(a,1),t,n)}function Yi(e,t,n){for(var r=-1,i=e.length,a=t.length,s={};++r<i;){var u=r<a?t[r]:o;n(s,e[r],u)}return s}function Qi(e){return ks(e)?e:[]}function Ki(e){return"function"==typeof e?e:Ru}function $i(e,t){return _s(e)?e:Go(e,t)?[e]:fa(Qs(e))}var Ji=Ci;function Gi(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:Ii(e,t,n)}var Xi=Bn||function(e){return Lt.clearTimeout(e)};function Zi(e,t){if(t)return e.slice();var n=e.length,r=Pt?Pt(n):new e.constructor(n);return e.copy(r),r}function eo(e){var t=new e.constructor(e.byteLength);return new Et(t).set(new Et(e)),t}function to(e,t){var n=t?eo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function no(e,t){if(e!==t){var n=e!==o,r=null===e,i=e==e,a=Ns(e),s=t!==o,u=null===t,c=t==t,l=Ns(t);if(!u&&!l&&!a&&e>t||a&&s&&c&&!u&&!l||r&&s&&c||!n&&c||!i)return 1;if(!r&&!a&&!l&&e<t||l&&n&&i&&!r&&!a||u&&n&&i||!s&&i||!c)return-1}return 0}function ro(e,t,n,i){for(var o=-1,a=e.length,s=n.length,u=-1,c=t.length,l=Kn(a-s,0),f=r(c+l),p=!i;++u<c;)f[u]=t[u];for(;++o<s;)(p||o<a)&&(f[n[o]]=e[o]);for(;l--;)f[u++]=e[o++];return f}function io(e,t,n,i){for(var o=-1,a=e.length,s=-1,u=n.length,c=-1,l=t.length,f=Kn(a-u,0),p=r(f+l),d=!i;++o<f;)p[o]=e[o];for(var h=o;++c<l;)p[h+c]=t[c];for(;++s<u;)(d||o<a)&&(p[h+n[s]]=e[o++]);return p}function oo(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function ao(e,t,n,r){var i=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var u=t[a],c=r?r(n[u],e[u],u,n,e):o;c===o&&(c=e[u]),i?Mr(n,u,c):jr(n,u,c)}return n}function so(e,t){return function(n,r){var i=_s(n)?$t:Ir,o=t?t():{};return i(n,e,Fo(r,2),o)}}function uo(e){return Ci(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;for(a=e.length>3&&"function"==typeof a?(i--,a):o,s&&Jo(n[0],n[1],s)&&(a=i<3?o:a,i=1),t=nt(t);++r<i;){var u=n[r];u&&e(t,u,r,a)}return t})}function co(e,t){return function(n,r){if(null==n)return n;if(!ws(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=nt(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function lo(e){return function(t,n,r){for(var i=-1,o=nt(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}function fo(e){return function(t){var n=On(t=Qs(t))?Mn(t):o,r=n?n[0]:t.charAt(0),i=n?Gi(n,1).join(""):t.slice(1);return r[e]()+i}}function po(e){return function(t){return on(Cu(mu(t).replace(_t,"")),e,"")}}function ho(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=gr(e.prototype),r=e.apply(n,t);return Ps(r)?r:n}}function vo(e){return function(t,n,r){var i=nt(t);if(!ws(t)){var a=Fo(n,3);t=au(t),n=function(e){return a(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[a?t[s]:s]:o}}function yo(e){return Io(function(t){var n=t.length,r=n,i=_r.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new ot(u);if(i&&!s&&"wrapper"==No(a))var s=new _r([],!0)}for(r=s?r:n;++r<n;){var c=No(a=t[r]),l="wrapper"==c?Do(a):o;s=l&&Xo(l[0])&&l[1]==(S|b|k|T)&&!l[4].length&&1==l[9]?s[No(l[0])].apply(s,l[3]):1==a.length&&Xo(a)?s[c]():s.thru(a)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&_s(r))return s.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}})}function go(e,t,n,i,a,s,u,c,l,f){var p=t&S,d=t&g,h=t&m,v=t&(b|w),y=t&C,_=h?o:ho(e);return function g(){for(var m=arguments.length,b=r(m),w=m;w--;)b[w]=arguments[w];if(v)var k=Bo(g),E=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(b,k);if(i&&(b=ro(b,i,a,v)),s&&(b=io(b,s,u,v)),m-=E,v&&m<f){var S=jn(b,k);return So(e,t,go,g.placeholder,n,b,S,c,l,f-m)}var T=d?n:this,C=h?T[e]:e;return m=b.length,c?b=function(e,t){for(var n=e.length,r=$n(t.length,n),i=oo(e);r--;){var a=t[r];e[r]=$o(a,n)?i[a]:o}return e}(b,c):y&&m>1&&b.reverse(),p&&l<m&&(b.length=l),this&&this!==Lt&&this instanceof g&&(C=_||ho(C)),C.apply(T,b)}}function mo(e,t){return function(n,r){return function(e,t,n,r){return Jr(e,function(e,i,o){t(r,n(e),i,o)}),r}(n,e,t(r),{})}}function _o(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=Fi(n),r=Fi(r)):(n=Bi(n),r=Bi(r)),i=e(n,r)}return i}}function bo(e){return Io(function(t){return t=nn(t,bn(Fo())),Ci(function(n){var r=this;return e(t,function(e){return Kt(e,r,n)})})})}function wo(e,t){var n=(t=t===o?" ":Fi(t)).length;if(n<2)return n?Ti(t,e):t;var r=Ti(t,Vn(e/Ln(t)));return On(t)?Gi(Mn(r),0,e).join(""):r.slice(0,e)}function ko(e){return function(t,n,i){return i&&"number"!=typeof i&&Jo(t,n,i)&&(n=i=o),t=qs(t),n===o?(n=t,t=0):n=qs(n),function(e,t,n,i){for(var o=-1,a=Kn(Vn((t-e)/(n||1)),0),s=r(a);a--;)s[i?a:++o]=e,e+=n;return s}(t,n,i=i===o?t<n?1:-1:qs(i),e)}}function Eo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=zs(t),n=zs(n)),e(t,n)}}function So(e,t,n,r,i,a,s,u,c,l){var f=t&b;t|=f?k:E,(t&=~(f?E:k))&_||(t&=~(g|m));var p=[e,t,i,f?a:o,f?s:o,f?o:a,f?o:s,u,c,l],d=n.apply(o,p);return Xo(e)&&oa(d,p),d.placeholder=r,ua(d,e,t)}function To(e){var t=tt[e];return function(e,n){if(e=zs(e),n=null==n?0:$n(Ws(n),292)){var r=(Qs(e)+"e").split("e");return+((r=(Qs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Co=rr&&1/Rn(new rr([,-0]))[1]==I?function(e){return new rr(e)}:Nu;function xo(e){return function(t){var n=zo(t);return n==J?Pn(t):n==ne?In(t):function(e,t){return nn(t,function(t){return[t,e[t]]})}(t,e(t))}}function Oo(e,t,n,i,a,s,c,l){var p=t&m;if(!p&&"function"!=typeof e)throw new ot(u);var d=i?i.length:0;if(d||(t&=~(k|E),i=a=o),c=c===o?c:Kn(Ws(c),0),l=l===o?l:Ws(l),d-=a?a.length:0,t&E){var h=i,v=a;i=a=o}var y=p?o:Do(e),C=[e,t,n,i,a,h,v,s,c,l];if(y&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<(g|m|S),a=r==S&&n==b||r==S&&n==T&&e[7].length<=t[8]||r==(S|T)&&t[7].length<=t[8]&&n==b;if(!o&&!a)return e;r&g&&(e[2]=t[2],i|=n&g?0:_);var s=t[3];if(s){var u=e[3];e[3]=u?ro(u,s,t[4]):s,e[4]=u?jn(e[3],f):t[4]}(s=t[5])&&(u=e[5],e[5]=u?io(u,s,t[6]):s,e[6]=u?jn(e[5],f):t[6]),(s=t[7])&&(e[7]=s),r&S&&(e[8]=null==e[8]?t[8]:$n(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(C,y),e=C[0],t=C[1],n=C[2],i=C[3],a=C[4],!(l=C[9]=C[9]===o?p?0:e.length:Kn(C[9]-d,0))&&t&(b|w)&&(t&=~(b|w)),t&&t!=g)x=t==b||t==w?function(e,t,n){var i=ho(e);return function a(){for(var s=arguments.length,u=r(s),c=s,l=Bo(a);c--;)u[c]=arguments[c];var f=s<3&&u[0]!==l&&u[s-1]!==l?[]:jn(u,l);return(s-=f.length)<n?So(e,t,go,a.placeholder,o,u,f,o,o,n-s):Kt(this&&this!==Lt&&this instanceof a?i:e,this,u)}}(e,t,l):t!=k&&t!=(g|k)||a.length?go.apply(o,C):function(e,t,n,i){var o=t&g,a=ho(e);return function t(){for(var s=-1,u=arguments.length,c=-1,l=i.length,f=r(l+u),p=this&&this!==Lt&&this instanceof t?a:e;++c<l;)f[c]=i[c];for(;u--;)f[c++]=arguments[++s];return Kt(p,o?n:this,f)}}(e,t,n,i);else var x=function(e,t,n){var r=t&g,i=ho(e);return function t(){return(this&&this!==Lt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return ua((y?Ai:oa)(x,C),e,t)}function Po(e,t,n,r){return e===o||vs(e,ut[n])&&!ft.call(r,n)?t:e}function Ao(e,t,n,r,i,a){return Ps(e)&&Ps(t)&&(a.set(t,e),mi(e,t,o,Ao,a),a.delete(t)),e}function jo(e){return Is(e)?o:e}function Ro(e,t,n,r,i,a){var s=n&v,u=e.length,c=t.length;if(u!=c&&!(s&&c>u))return!1;var l=a.get(e);if(l&&a.get(t))return l==t;var f=-1,p=!0,d=n&y?new Sr:o;for(a.set(e,t),a.set(t,e);++f<u;){var h=e[f],g=t[f];if(r)var m=s?r(g,h,f,t,e,a):r(h,g,f,e,t,a);if(m!==o){if(m)continue;p=!1;break}if(d){if(!sn(t,function(e,t){if(!kn(d,t)&&(h===e||i(h,e,n,r,a)))return d.push(t)})){p=!1;break}}else if(h!==g&&!i(h,g,n,r,a)){p=!1;break}}return a.delete(e),a.delete(t),p}function Io(e){return sa(ra(e,o,ba),e+"")}function Lo(e){return ei(e,au,Wo)}function Mo(e){return ei(e,su,Ho)}var Do=ar?function(e){return ar.get(e)}:Nu;function No(e){for(var t=e.name+"",n=sr[t],r=ft.call(sr,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Bo(e){return(ft.call(yr,"placeholder")?yr:e).placeholder}function Fo(){var e=yr.iteratee||Iu;return e=e===Iu?fi:e,arguments.length?e(arguments[0],arguments[1]):e}function Uo(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Vo(e){for(var t=au(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,ta(i)]}return t}function qo(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return li(n)?n:o}var Wo=Wn?function(e){return null==e?[]:(e=nt(e),Zt(Wn(e),function(t){return Mt.call(e,t)}))}:Hu,Ho=Wn?function(e){for(var t=[];e;)rn(t,Wo(e)),e=Rt(e);return t}:Hu,zo=ti;function Yo(e,t,n){for(var r=-1,i=(t=$i(t,e)).length,o=!1;++r<i;){var a=pa(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Os(i)&&$o(a,i)&&(_s(e)||ms(e))}function Qo(e){return"function"!=typeof e.constructor||ea(e)?{}:gr(Rt(e))}function Ko(e){return _s(e)||ms(e)||!!(Bt&&e&&e[Bt])}function $o(e,t){return!!(t=null==t?L:t)&&("number"==typeof e||$e.test(e))&&e>-1&&e%1==0&&e<t}function Jo(e,t,n){if(!Ps(n))return!1;var r=typeof t;return!!("number"==r?ws(n)&&$o(t,n.length):"string"==r&&t in n)&&vs(n[t],e)}function Go(e,t){if(_s(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ns(e))||Ae.test(e)||!Pe.test(e)||null!=t&&e in nt(t)}function Xo(e){var t=No(e),n=yr[t];if("function"!=typeof n||!(t in br.prototype))return!1;if(e===n)return!0;var r=Do(n);return!!r&&e===r[0]}(er&&zo(new er(new ArrayBuffer(1)))!=ce||tr&&zo(new tr)!=J||nr&&"[object Promise]"!=zo(nr.resolve())||rr&&zo(new rr)!=ne||ir&&zo(new ir)!=ae)&&(zo=function(e){var t=ti(e),n=t==Z?e.constructor:o,r=n?da(n):"";if(r)switch(r){case ur:return ce;case cr:return J;case lr:return"[object Promise]";case fr:return ne;case pr:return ae}return t});var Zo=ct?Cs:zu;function ea(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ut)}function ta(e){return e==e&&!Ps(e)}function na(e,t){return function(n){return null!=n&&n[e]===t&&(t!==o||e in nt(n))}}function ra(e,t,n){return t=Kn(t===o?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=Kn(i.length-t,0),s=r(a);++o<a;)s[o]=i[t+o];o=-1;for(var u=r(t+1);++o<t;)u[o]=i[o];return u[t]=n(s),Kt(e,this,u)}}function ia(e,t){return t.length<2?e:Zr(e,Ii(t,0,-1))}var oa=ca(Ai),aa=Un||function(e,t){return Lt.setTimeout(e,t)},sa=ca(ji);function ua(e,t,n){var r=t+"";return sa(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Be,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Jt(U,function(n){var r="_."+n[0];t&n[1]&&!en(e,r)&&e.push(r)}),e.sort()}(function(e){var t=e.match(Fe);return t?t[1].split(Ue):[]}(r),n)))}function ca(e){var t=0,n=0;return function(){var r=Jn(),i=A-(r-n);if(n=r,i>0){if(++t>=P)return arguments[0]}else t=0;return e.apply(o,arguments)}}function la(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var a=Si(n,i),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var fa=function(e){var t=cs(e,function(e){return n.size===l&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return je.test(e)&&t.push(""),e.replace(Re,function(e,n,r,i){t.push(r?i.replace(qe,"$1"):n||e)}),t});function pa(e){if("string"==typeof e||Ns(e))return e;var t=e+"";return"0"==t&&1/e==-I?"-0":t}function da(e){if(null!=e){try{return lt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ha(e){if(e instanceof br)return e.clone();var t=new _r(e.__wrapped__,e.__chain__);return t.__actions__=oo(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var va=Ci(function(e,t){return ks(e)?Vr(e,Qr(t,1,ks,!0)):[]}),ya=Ci(function(e,t){var n=Ta(t);return ks(n)&&(n=o),ks(e)?Vr(e,Qr(t,1,ks,!0),Fo(n,2)):[]}),ga=Ci(function(e,t){var n=Ta(t);return ks(n)&&(n=o),ks(e)?Vr(e,Qr(t,1,ks,!0),o,n):[]});function ma(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Ws(n);return i<0&&(i=Kn(r+i,0)),ln(e,Fo(t,3),i)}function _a(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=Ws(n),i=n<0?Kn(r+i,0):$n(i,r-1)),ln(e,Fo(t,3),i,!0)}function ba(e){return null!=e&&e.length?Qr(e,1):[]}function wa(e){return e&&e.length?e[0]:o}var ka=Ci(function(e){var t=nn(e,Qi);return t.length&&t[0]===e[0]?oi(t):[]}),Ea=Ci(function(e){var t=Ta(e),n=nn(e,Qi);return t===Ta(n)?t=o:n.pop(),n.length&&n[0]===e[0]?oi(n,Fo(t,2)):[]}),Sa=Ci(function(e){var t=Ta(e),n=nn(e,Qi);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?oi(n,o,t):[]});function Ta(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Ca=Ci(xa);function xa(e,t){return e&&e.length&&t&&t.length?ki(e,t):e}var Oa=Io(function(e,t){var n=null==e?0:e.length,r=Dr(e,t);return Ei(e,nn(t,function(e){return $o(e,n)?+e:e}).sort(no)),r});function Pa(e){return null==e?e:Zn.call(e)}var Aa=Ci(function(e){return Ui(Qr(e,1,ks,!0))}),ja=Ci(function(e){var t=Ta(e);return ks(t)&&(t=o),Ui(Qr(e,1,ks,!0),Fo(t,2))}),Ra=Ci(function(e){var t=Ta(e);return t="function"==typeof t?t:o,Ui(Qr(e,1,ks,!0),o,t)});function Ia(e){if(!e||!e.length)return[];var t=0;return e=Zt(e,function(e){if(ks(e))return t=Kn(e.length,t),!0}),_n(t,function(t){return nn(e,vn(t))})}function La(e,t){if(!e||!e.length)return[];var n=Ia(e);return null==t?n:nn(n,function(e){return Kt(t,o,e)})}var Ma=Ci(function(e,t){return ks(e)?Vr(e,t):[]}),Da=Ci(function(e){return zi(Zt(e,ks))}),Na=Ci(function(e){var t=Ta(e);return ks(t)&&(t=o),zi(Zt(e,ks),Fo(t,2))}),Ba=Ci(function(e){var t=Ta(e);return t="function"==typeof t?t:o,zi(Zt(e,ks),o,t)}),Fa=Ci(Ia);var Ua=Ci(function(e){var t=e.length,n=t>1?e[t-1]:o;return La(e,n="function"==typeof n?(e.pop(),n):o)});function Va(e){var t=yr(e);return t.__chain__=!0,t}function qa(e,t){return t(e)}var Wa=Io(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Dr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof br&&$o(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:qa,args:[i],thisArg:o}),new _r(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(o),e})):this.thru(i)});var Ha=so(function(e,t,n){ft.call(e,n)?++e[n]:Mr(e,n,1)});var za=vo(ma),Ya=vo(_a);function Qa(e,t){return(_s(e)?Jt:qr)(e,Fo(t,3))}function Ka(e,t){return(_s(e)?Gt:Wr)(e,Fo(t,3))}var $a=so(function(e,t,n){ft.call(e,n)?e[n].push(t):Mr(e,n,[t])});var Ja=Ci(function(e,t,n){var i=-1,o="function"==typeof t,a=ws(e)?r(e.length):[];return qr(e,function(e){a[++i]=o?Kt(t,e,n):ai(e,t,n)}),a}),Ga=so(function(e,t,n){Mr(e,n,t)});function Xa(e,t){return(_s(e)?nn:vi)(e,Fo(t,3))}var Za=so(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var es=Ci(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Jo(e,t[0],t[1])?t=[]:n>2&&Jo(t[0],t[1],t[2])&&(t=[t[0]]),bi(e,Qr(t,1),[])}),ts=Fn||function(){return Lt.Date.now()};function ns(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,Oo(e,S,o,o,o,o,t)}function rs(e,t){var n;if("function"!=typeof t)throw new ot(u);return e=Ws(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var is=Ci(function(e,t,n){var r=g;if(n.length){var i=jn(n,Bo(is));r|=k}return Oo(e,r,t,n,i)}),os=Ci(function(e,t,n){var r=g|m;if(n.length){var i=jn(n,Bo(os));r|=k}return Oo(t,r,e,n,i)});function as(e,t,n){var r,i,a,s,c,l,f=0,p=!1,d=!1,h=!0;if("function"!=typeof e)throw new ot(u);function v(t){var n=r,a=i;return r=i=o,f=t,s=e.apply(a,n)}function y(e){var n=e-l;return l===o||n>=t||n<0||d&&e-f>=a}function g(){var e=ts();if(y(e))return m(e);c=aa(g,function(e){var n=t-(e-l);return d?$n(n,a-(e-f)):n}(e))}function m(e){return c=o,h&&r?v(e):(r=i=o,s)}function _(){var e=ts(),n=y(e);if(r=arguments,i=this,l=e,n){if(c===o)return function(e){return f=e,c=aa(g,t),p?v(e):s}(l);if(d)return c=aa(g,t),v(l)}return c===o&&(c=aa(g,t)),s}return t=zs(t)||0,Ps(n)&&(p=!!n.leading,a=(d="maxWait"in n)?Kn(zs(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h),_.cancel=function(){c!==o&&Xi(c),f=0,r=l=i=c=o},_.flush=function(){return c===o?s:m(ts())},_}var ss=Ci(function(e,t){return Ur(e,1,t)}),us=Ci(function(e,t,n){return Ur(e,zs(t)||0,n)});function cs(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ot(u);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(cs.Cache||Er),n}function ls(e){if("function"!=typeof e)throw new ot(u);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}cs.Cache=Er;var fs=Ji(function(e,t){var n=(t=1==t.length&&_s(t[0])?nn(t[0],bn(Fo())):nn(Qr(t,1),bn(Fo()))).length;return Ci(function(r){for(var i=-1,o=$n(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return Kt(e,this,r)})}),ps=Ci(function(e,t){var n=jn(t,Bo(ps));return Oo(e,k,o,t,n)}),ds=Ci(function(e,t){var n=jn(t,Bo(ds));return Oo(e,E,o,t,n)}),hs=Io(function(e,t){return Oo(e,T,o,o,o,t)});function vs(e,t){return e===t||e!=e&&t!=t}var ys=Eo(ni),gs=Eo(function(e,t){return e>=t}),ms=si(function(){return arguments}())?si:function(e){return As(e)&&ft.call(e,"callee")&&!Mt.call(e,"callee")},_s=r.isArray,bs=Ut?bn(Ut):function(e){return As(e)&&ti(e)==ue};function ws(e){return null!=e&&Os(e.length)&&!Cs(e)}function ks(e){return As(e)&&ws(e)}var Es=Hn||zu,Ss=Vt?bn(Vt):function(e){return As(e)&&ti(e)==z};function Ts(e){if(!As(e))return!1;var t=ti(e);return t==Q||t==Y||"string"==typeof e.message&&"string"==typeof e.name&&!Is(e)}function Cs(e){if(!Ps(e))return!1;var t=ti(e);return t==K||t==$||t==W||t==ee}function xs(e){return"number"==typeof e&&e==Ws(e)}function Os(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=L}function Ps(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function As(e){return null!=e&&"object"==typeof e}var js=qt?bn(qt):function(e){return As(e)&&zo(e)==J};function Rs(e){return"number"==typeof e||As(e)&&ti(e)==G}function Is(e){if(!As(e)||ti(e)!=Z)return!1;var t=Rt(e);if(null===t)return!0;var n=ft.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&lt.call(n)==vt}var Ls=Wt?bn(Wt):function(e){return As(e)&&ti(e)==te};var Ms=Ht?bn(Ht):function(e){return As(e)&&zo(e)==ne};function Ds(e){return"string"==typeof e||!_s(e)&&As(e)&&ti(e)==re}function Ns(e){return"symbol"==typeof e||As(e)&&ti(e)==ie}var Bs=zt?bn(zt):function(e){return As(e)&&Os(e.length)&&!!xt[ti(e)]};var Fs=Eo(hi),Us=Eo(function(e,t){return e<=t});function Vs(e){if(!e)return[];if(ws(e))return Ds(e)?Mn(e):oo(e);if(Ft&&e[Ft])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ft]());var t=zo(e);return(t==J?Pn:t==ne?Rn:vu)(e)}function qs(e){return e?(e=zs(e))===I||e===-I?(e<0?-1:1)*M:e==e?e:0:0===e?e:0}function Ws(e){var t=qs(e),n=t%1;return t==t?n?t-n:t:0}function Hs(e){return e?Nr(Ws(e),0,N):0}function zs(e){if("number"==typeof e)return e;if(Ns(e))return D;if(Ps(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ps(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Me,"");var n=Ye.test(e);return n||Ke.test(e)?jt(e.slice(2),n?2:8):ze.test(e)?D:+e}function Ys(e){return ao(e,su(e))}function Qs(e){return null==e?"":Fi(e)}var Ks=uo(function(e,t){if(ea(t)||ws(t))ao(t,au(t),e);else for(var n in t)ft.call(t,n)&&jr(e,n,t[n])}),$s=uo(function(e,t){ao(t,su(t),e)}),Js=uo(function(e,t,n,r){ao(t,su(t),e,r)}),Gs=uo(function(e,t,n,r){ao(t,au(t),e,r)}),Xs=Io(Dr);var Zs=Ci(function(e){return e.push(o,Po),Kt(Js,o,e)}),eu=Ci(function(e){return e.push(o,Ao),Kt(cu,o,e)});function tu(e,t,n){var r=null==e?o:Zr(e,t);return r===o?n:r}function nu(e,t){return null!=e&&Yo(e,t,ii)}var ru=mo(function(e,t,n){e[t]=n},Pu(Ru)),iu=mo(function(e,t,n){ft.call(e,t)?e[t].push(n):e[t]=[n]},Fo),ou=Ci(ai);function au(e){return ws(e)?Cr(e):pi(e)}function su(e){return ws(e)?Cr(e,!0):di(e)}var uu=uo(function(e,t,n){mi(e,t,n)}),cu=uo(function(e,t,n,r){mi(e,t,n,r)}),lu=Io(function(e,t){var n={};if(null==e)return n;var r=!1;t=nn(t,function(t){return t=$i(t,e),r||(r=t.length>1),t}),ao(e,Mo(e),n),r&&(n=Br(n,p|d|h,jo));for(var i=t.length;i--;)Vi(n,t[i]);return n});var fu=Io(function(e,t){return null==e?{}:function(e,t){return wi(e,t,function(t,n){return nu(e,n)})}(e,t)});function pu(e,t){if(null==e)return{};var n=nn(Mo(e),function(e){return[e]});return t=Fo(t),wi(e,n,function(e,n){return t(e,n[0])})}var du=xo(au),hu=xo(su);function vu(e){return null==e?[]:wn(e,au(e))}var yu=po(function(e,t,n){return t=t.toLowerCase(),e+(n?gu(t):t)});function gu(e){return Tu(Qs(e).toLowerCase())}function mu(e){return(e=Qs(e))&&e.replace(Je,Tn).replace(bt,"")}var _u=po(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),bu=po(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),wu=fo("toLowerCase");var ku=po(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});var Eu=po(function(e,t,n){return e+(n?" ":"")+Tu(t)});var Su=po(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Tu=fo("toUpperCase");function Cu(e,t,n){return e=Qs(e),(t=n?o:t)===o?function(e){return St.test(e)}(e)?function(e){return e.match(kt)||[]}(e):function(e){return e.match(Ve)||[]}(e):e.match(t)||[]}var xu=Ci(function(e,t){try{return Kt(e,o,t)}catch(e){return Ts(e)?e:new Ze(e)}}),Ou=Io(function(e,t){return Jt(t,function(t){t=pa(t),Mr(e,t,is(e[t],e))}),e});function Pu(e){return function(){return e}}var Au=yo(),ju=yo(!0);function Ru(e){return e}function Iu(e){return fi("function"==typeof e?e:Br(e,p))}var Lu=Ci(function(e,t){return function(n){return ai(n,e,t)}}),Mu=Ci(function(e,t){return function(n){return ai(e,n,t)}});function Du(e,t,n){var r=au(t),i=Xr(t,r);null!=n||Ps(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Xr(t,au(t)));var o=!(Ps(n)&&"chain"in n&&!n.chain),a=Cs(e);return Jt(i,function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=oo(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,rn([this.value()],arguments))})}),e}function Nu(){}var Bu=bo(nn),Fu=bo(Xt),Uu=bo(sn);function Vu(e){return Go(e)?vn(pa(e)):function(e){return function(t){return Zr(t,e)}}(e)}var qu=ko(),Wu=ko(!0);function Hu(){return[]}function zu(){return!1}var Yu=_o(function(e,t){return e+t},0),Qu=To("ceil"),Ku=_o(function(e,t){return e/t},1),$u=To("floor");var Ju,Gu=_o(function(e,t){return e*t},1),Xu=To("round"),Zu=_o(function(e,t){return e-t},0);return yr.after=function(e,t){if("function"!=typeof t)throw new ot(u);return e=Ws(e),function(){if(--e<1)return t.apply(this,arguments)}},yr.ary=ns,yr.assign=Ks,yr.assignIn=$s,yr.assignInWith=Js,yr.assignWith=Gs,yr.at=Xs,yr.before=rs,yr.bind=is,yr.bindAll=Ou,yr.bindKey=os,yr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return _s(e)?e:[e]},yr.chain=Va,yr.chunk=function(e,t,n){t=(n?Jo(e,t,n):t===o)?1:Kn(Ws(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,s=0,u=r(Vn(i/t));a<i;)u[s++]=Ii(e,a,a+=t);return u},yr.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},yr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return rn(_s(n)?oo(n):[n],Qr(t,1))},yr.cond=function(e){var t=null==e?0:e.length,n=Fo();return e=t?nn(e,function(e){if("function"!=typeof e[1])throw new ot(u);return[n(e[0]),e[1]]}):[],Ci(function(n){for(var r=-1;++r<t;){var i=e[r];if(Kt(i[0],this,n))return Kt(i[1],this,n)}})},yr.conforms=function(e){return function(e){var t=au(e);return function(n){return Fr(n,e,t)}}(Br(e,p))},yr.constant=Pu,yr.countBy=Ha,yr.create=function(e,t){var n=gr(e);return null==t?n:Lr(n,t)},yr.curry=function e(t,n,r){var i=Oo(t,b,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},yr.curryRight=function e(t,n,r){var i=Oo(t,w,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},yr.debounce=as,yr.defaults=Zs,yr.defaultsDeep=eu,yr.defer=ss,yr.delay=us,yr.difference=va,yr.differenceBy=ya,yr.differenceWith=ga,yr.drop=function(e,t,n){var r=null==e?0:e.length;return r?Ii(e,(t=n||t===o?1:Ws(t))<0?0:t,r):[]},yr.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Ii(e,0,(t=r-(t=n||t===o?1:Ws(t)))<0?0:t):[]},yr.dropRightWhile=function(e,t){return e&&e.length?Wi(e,Fo(t,3),!0,!0):[]},yr.dropWhile=function(e,t){return e&&e.length?Wi(e,Fo(t,3),!0):[]},yr.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&Jo(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=Ws(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:Ws(r))<0&&(r+=i),r=n>r?0:Hs(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},yr.filter=function(e,t){return(_s(e)?Zt:Yr)(e,Fo(t,3))},yr.flatMap=function(e,t){return Qr(Xa(e,t),1)},yr.flatMapDeep=function(e,t){return Qr(Xa(e,t),I)},yr.flatMapDepth=function(e,t,n){return n=n===o?1:Ws(n),Qr(Xa(e,t),n)},yr.flatten=ba,yr.flattenDeep=function(e){return null!=e&&e.length?Qr(e,I):[]},yr.flattenDepth=function(e,t){return null!=e&&e.length?Qr(e,t=t===o?1:Ws(t)):[]},yr.flip=function(e){return Oo(e,C)},yr.flow=Au,yr.flowRight=ju,yr.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},yr.functions=function(e){return null==e?[]:Xr(e,au(e))},yr.functionsIn=function(e){return null==e?[]:Xr(e,su(e))},yr.groupBy=$a,yr.initial=function(e){return null!=e&&e.length?Ii(e,0,-1):[]},yr.intersection=ka,yr.intersectionBy=Ea,yr.intersectionWith=Sa,yr.invert=ru,yr.invertBy=iu,yr.invokeMap=Ja,yr.iteratee=Iu,yr.keyBy=Ga,yr.keys=au,yr.keysIn=su,yr.map=Xa,yr.mapKeys=function(e,t){var n={};return t=Fo(t,3),Jr(e,function(e,r,i){Mr(n,t(e,r,i),e)}),n},yr.mapValues=function(e,t){var n={};return t=Fo(t,3),Jr(e,function(e,r,i){Mr(n,r,t(e,r,i))}),n},yr.matches=function(e){return yi(Br(e,p))},yr.matchesProperty=function(e,t){return gi(e,Br(t,p))},yr.memoize=cs,yr.merge=uu,yr.mergeWith=cu,yr.method=Lu,yr.methodOf=Mu,yr.mixin=Du,yr.negate=ls,yr.nthArg=function(e){return e=Ws(e),Ci(function(t){return _i(t,e)})},yr.omit=lu,yr.omitBy=function(e,t){return pu(e,ls(Fo(t)))},yr.once=function(e){return rs(2,e)},yr.orderBy=function(e,t,n,r){return null==e?[]:(_s(t)||(t=null==t?[]:[t]),_s(n=r?o:n)||(n=null==n?[]:[n]),bi(e,t,n))},yr.over=Bu,yr.overArgs=fs,yr.overEvery=Fu,yr.overSome=Uu,yr.partial=ps,yr.partialRight=ds,yr.partition=Za,yr.pick=fu,yr.pickBy=pu,yr.property=Vu,yr.propertyOf=function(e){return function(t){return null==e?o:Zr(e,t)}},yr.pull=Ca,yr.pullAll=xa,yr.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?ki(e,t,Fo(n,2)):e},yr.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?ki(e,t,o,n):e},yr.pullAt=Oa,yr.range=qu,yr.rangeRight=Wu,yr.rearg=hs,yr.reject=function(e,t){return(_s(e)?Zt:Yr)(e,ls(Fo(t,3)))},yr.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Fo(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Ei(e,i),n},yr.rest=function(e,t){if("function"!=typeof e)throw new ot(u);return Ci(e,t=t===o?t:Ws(t))},yr.reverse=Pa,yr.sampleSize=function(e,t,n){return t=(n?Jo(e,t,n):t===o)?1:Ws(t),(_s(e)?Or:Oi)(e,t)},yr.set=function(e,t,n){return null==e?e:Pi(e,t,n)},yr.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Pi(e,t,n,r)},yr.shuffle=function(e){return(_s(e)?Pr:Ri)(e)},yr.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Jo(e,t,n)?(t=0,n=r):(t=null==t?0:Ws(t),n=n===o?r:Ws(n)),Ii(e,t,n)):[]},yr.sortBy=es,yr.sortedUniq=function(e){return e&&e.length?Ni(e):[]},yr.sortedUniqBy=function(e,t){return e&&e.length?Ni(e,Fo(t,2)):[]},yr.split=function(e,t,n){return n&&"number"!=typeof n&&Jo(e,t,n)&&(t=n=o),(n=n===o?N:n>>>0)?(e=Qs(e))&&("string"==typeof t||null!=t&&!Ls(t))&&!(t=Fi(t))&&On(e)?Gi(Mn(e),0,n):e.split(t,n):[]},yr.spread=function(e,t){if("function"!=typeof e)throw new ot(u);return t=null==t?0:Kn(Ws(t),0),Ci(function(n){var r=n[t],i=Gi(n,0,t);return r&&rn(i,r),Kt(e,this,i)})},yr.tail=function(e){var t=null==e?0:e.length;return t?Ii(e,1,t):[]},yr.take=function(e,t,n){return e&&e.length?Ii(e,0,(t=n||t===o?1:Ws(t))<0?0:t):[]},yr.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Ii(e,(t=r-(t=n||t===o?1:Ws(t)))<0?0:t,r):[]},yr.takeRightWhile=function(e,t){return e&&e.length?Wi(e,Fo(t,3),!1,!0):[]},yr.takeWhile=function(e,t){return e&&e.length?Wi(e,Fo(t,3)):[]},yr.tap=function(e,t){return t(e),e},yr.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new ot(u);return Ps(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),as(e,t,{leading:r,maxWait:t,trailing:i})},yr.thru=qa,yr.toArray=Vs,yr.toPairs=du,yr.toPairsIn=hu,yr.toPath=function(e){return _s(e)?nn(e,pa):Ns(e)?[e]:oo(fa(Qs(e)))},yr.toPlainObject=Ys,yr.transform=function(e,t,n){var r=_s(e),i=r||Es(e)||Bs(e);if(t=Fo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Ps(e)&&Cs(o)?gr(Rt(e)):{}}return(i?Jt:Jr)(e,function(e,r,i){return t(n,e,r,i)}),n},yr.unary=function(e){return ns(e,1)},yr.union=Aa,yr.unionBy=ja,yr.unionWith=Ra,yr.uniq=function(e){return e&&e.length?Ui(e):[]},yr.uniqBy=function(e,t){return e&&e.length?Ui(e,Fo(t,2)):[]},yr.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?Ui(e,o,t):[]},yr.unset=function(e,t){return null==e||Vi(e,t)},yr.unzip=Ia,yr.unzipWith=La,yr.update=function(e,t,n){return null==e?e:qi(e,t,Ki(n))},yr.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:qi(e,t,Ki(n),r)},yr.values=vu,yr.valuesIn=function(e){return null==e?[]:wn(e,su(e))},yr.without=Ma,yr.words=Cu,yr.wrap=function(e,t){return ps(Ki(t),e)},yr.xor=Da,yr.xorBy=Na,yr.xorWith=Ba,yr.zip=Fa,yr.zipObject=function(e,t){return Yi(e||[],t||[],jr)},yr.zipObjectDeep=function(e,t){return Yi(e||[],t||[],Pi)},yr.zipWith=Ua,yr.entries=du,yr.entriesIn=hu,yr.extend=$s,yr.extendWith=Js,Du(yr,yr),yr.add=Yu,yr.attempt=xu,yr.camelCase=yu,yr.capitalize=gu,yr.ceil=Qu,yr.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=zs(n))==n?n:0),t!==o&&(t=(t=zs(t))==t?t:0),Nr(zs(e),t,n)},yr.clone=function(e){return Br(e,h)},yr.cloneDeep=function(e){return Br(e,p|h)},yr.cloneDeepWith=function(e,t){return Br(e,p|h,t="function"==typeof t?t:o)},yr.cloneWith=function(e,t){return Br(e,h,t="function"==typeof t?t:o)},yr.conformsTo=function(e,t){return null==t||Fr(e,t,au(t))},yr.deburr=mu,yr.defaultTo=function(e,t){return null==e||e!=e?t:e},yr.divide=Ku,yr.endsWith=function(e,t,n){e=Qs(e),t=Fi(t);var r=e.length,i=n=n===o?r:Nr(Ws(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},yr.eq=vs,yr.escape=function(e){return(e=Qs(e))&&Te.test(e)?e.replace(Ee,Cn):e},yr.escapeRegExp=function(e){return(e=Qs(e))&&Le.test(e)?e.replace(Ie,"\\$&"):e},yr.every=function(e,t,n){var r=_s(e)?Xt:Hr;return n&&Jo(e,t,n)&&(t=o),r(e,Fo(t,3))},yr.find=za,yr.findIndex=ma,yr.findKey=function(e,t){return cn(e,Fo(t,3),Jr)},yr.findLast=Ya,yr.findLastIndex=_a,yr.findLastKey=function(e,t){return cn(e,Fo(t,3),Gr)},yr.floor=$u,yr.forEach=Qa,yr.forEachRight=Ka,yr.forIn=function(e,t){return null==e?e:Kr(e,Fo(t,3),su)},yr.forInRight=function(e,t){return null==e?e:$r(e,Fo(t,3),su)},yr.forOwn=function(e,t){return e&&Jr(e,Fo(t,3))},yr.forOwnRight=function(e,t){return e&&Gr(e,Fo(t,3))},yr.get=tu,yr.gt=ys,yr.gte=gs,yr.has=function(e,t){return null!=e&&Yo(e,t,ri)},yr.hasIn=nu,yr.head=wa,yr.identity=Ru,yr.includes=function(e,t,n,r){e=ws(e)?e:vu(e),n=n&&!r?Ws(n):0;var i=e.length;return n<0&&(n=Kn(i+n,0)),Ds(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&fn(e,t,n)>-1},yr.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Ws(n);return i<0&&(i=Kn(r+i,0)),fn(e,t,i)},yr.inRange=function(e,t,n){return t=qs(t),n===o?(n=t,t=0):n=qs(n),function(e,t,n){return e>=$n(t,n)&&e<Kn(t,n)}(e=zs(e),t,n)},yr.invoke=ou,yr.isArguments=ms,yr.isArray=_s,yr.isArrayBuffer=bs,yr.isArrayLike=ws,yr.isArrayLikeObject=ks,yr.isBoolean=function(e){return!0===e||!1===e||As(e)&&ti(e)==H},yr.isBuffer=Es,yr.isDate=Ss,yr.isElement=function(e){return As(e)&&1===e.nodeType&&!Is(e)},yr.isEmpty=function(e){if(null==e)return!0;if(ws(e)&&(_s(e)||"string"==typeof e||"function"==typeof e.splice||Es(e)||Bs(e)||ms(e)))return!e.length;var t=zo(e);if(t==J||t==ne)return!e.size;if(ea(e))return!pi(e).length;for(var n in e)if(ft.call(e,n))return!1;return!0},yr.isEqual=function(e,t){return ui(e,t)},yr.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?ui(e,t,o,n):!!r},yr.isError=Ts,yr.isFinite=function(e){return"number"==typeof e&&zn(e)},yr.isFunction=Cs,yr.isInteger=xs,yr.isLength=Os,yr.isMap=js,yr.isMatch=function(e,t){return e===t||ci(e,t,Vo(t))},yr.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,ci(e,t,Vo(t),n)},yr.isNaN=function(e){return Rs(e)&&e!=+e},yr.isNative=function(e){if(Zo(e))throw new Ze(s);return li(e)},yr.isNil=function(e){return null==e},yr.isNull=function(e){return null===e},yr.isNumber=Rs,yr.isObject=Ps,yr.isObjectLike=As,yr.isPlainObject=Is,yr.isRegExp=Ls,yr.isSafeInteger=function(e){return xs(e)&&e>=-L&&e<=L},yr.isSet=Ms,yr.isString=Ds,yr.isSymbol=Ns,yr.isTypedArray=Bs,yr.isUndefined=function(e){return e===o},yr.isWeakMap=function(e){return As(e)&&zo(e)==ae},yr.isWeakSet=function(e){return As(e)&&ti(e)==se},yr.join=function(e,t){return null==e?"":Yn.call(e,t)},yr.kebabCase=_u,yr.last=Ta,yr.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=Ws(n))<0?Kn(r+i,0):$n(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):ln(e,dn,i,!0)},yr.lowerCase=bu,yr.lowerFirst=wu,yr.lt=Fs,yr.lte=Us,yr.max=function(e){return e&&e.length?zr(e,Ru,ni):o},yr.maxBy=function(e,t){return e&&e.length?zr(e,Fo(t,2),ni):o},yr.mean=function(e){return hn(e,Ru)},yr.meanBy=function(e,t){return hn(e,Fo(t,2))},yr.min=function(e){return e&&e.length?zr(e,Ru,hi):o},yr.minBy=function(e,t){return e&&e.length?zr(e,Fo(t,2),hi):o},yr.stubArray=Hu,yr.stubFalse=zu,yr.stubObject=function(){return{}},yr.stubString=function(){return""},yr.stubTrue=function(){return!0},yr.multiply=Gu,yr.nth=function(e,t){return e&&e.length?_i(e,Ws(t)):o},yr.noConflict=function(){return Lt._===this&&(Lt._=yt),this},yr.noop=Nu,yr.now=ts,yr.pad=function(e,t,n){e=Qs(e);var r=(t=Ws(t))?Ln(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return wo(qn(i),n)+e+wo(Vn(i),n)},yr.padEnd=function(e,t,n){e=Qs(e);var r=(t=Ws(t))?Ln(e):0;return t&&r<t?e+wo(t-r,n):e},yr.padStart=function(e,t,n){e=Qs(e);var r=(t=Ws(t))?Ln(e):0;return t&&r<t?wo(t-r,n)+e:e},yr.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Gn(Qs(e).replace(De,""),t||0)},yr.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Jo(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=qs(e),t===o?(t=e,e=0):t=qs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Xn();return $n(e+i*(t-e+At("1e-"+((i+"").length-1))),t)}return Si(e,t)},yr.reduce=function(e,t,n){var r=_s(e)?on:gn,i=arguments.length<3;return r(e,Fo(t,4),n,i,qr)},yr.reduceRight=function(e,t,n){var r=_s(e)?an:gn,i=arguments.length<3;return r(e,Fo(t,4),n,i,Wr)},yr.repeat=function(e,t,n){return t=(n?Jo(e,t,n):t===o)?1:Ws(t),Ti(Qs(e),t)},yr.replace=function(){var e=arguments,t=Qs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},yr.result=function(e,t,n){var r=-1,i=(t=$i(t,e)).length;for(i||(i=1,e=o);++r<i;){var a=null==e?o:e[pa(t[r])];a===o&&(r=i,a=n),e=Cs(a)?a.call(e):a}return e},yr.round=Xu,yr.runInContext=e,yr.sample=function(e){return(_s(e)?xr:xi)(e)},yr.size=function(e){if(null==e)return 0;if(ws(e))return Ds(e)?Ln(e):e.length;var t=zo(e);return t==J||t==ne?e.size:pi(e).length},yr.snakeCase=ku,yr.some=function(e,t,n){var r=_s(e)?sn:Li;return n&&Jo(e,t,n)&&(t=o),r(e,Fo(t,3))},yr.sortedIndex=function(e,t){return Mi(e,t)},yr.sortedIndexBy=function(e,t,n){return Di(e,t,Fo(n,2))},yr.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Mi(e,t);if(r<n&&vs(e[r],t))return r}return-1},yr.sortedLastIndex=function(e,t){return Mi(e,t,!0)},yr.sortedLastIndexBy=function(e,t,n){return Di(e,t,Fo(n,2),!0)},yr.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=Mi(e,t,!0)-1;if(vs(e[n],t))return n}return-1},yr.startCase=Eu,yr.startsWith=function(e,t,n){return e=Qs(e),n=null==n?0:Nr(Ws(n),0,e.length),t=Fi(t),e.slice(n,n+t.length)==t},yr.subtract=Zu,yr.sum=function(e){return e&&e.length?mn(e,Ru):0},yr.sumBy=function(e,t){return e&&e.length?mn(e,Fo(t,2)):0},yr.template=function(e,t,n){var r=yr.templateSettings;n&&Jo(e,t,n)&&(t=o),e=Qs(e),t=Js({},t,r,Po);var i,a,s=Js({},t.imports,r.imports,Po),u=au(s),c=wn(s,u),l=0,f=t.interpolate||Ge,p="__p += '",d=rt((t.escape||Ge).source+"|"+f.source+"|"+(f===Oe?We:Ge).source+"|"+(t.evaluate||Ge).source+"|$","g"),h="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Ct+"]")+"\n";e.replace(d,function(t,n,r,o,s,u){return r||(r=o),p+=e.slice(l,u).replace(Xe,xn),n&&(i=!0,p+="' +\n__e("+n+") +\n'"),s&&(a=!0,p+="';\n"+s+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t}),p+="';\n";var v=t.variable;v||(p="with (obj) {\n"+p+"\n}\n"),p=(a?p.replace(_e,""):p).replace(be,"$1").replace(we,"$1;"),p="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var y=xu(function(){return et(u,h+"return "+p).apply(o,c)});if(y.source=p,Ts(y))throw y;return y},yr.times=function(e,t){if((e=Ws(e))<1||e>L)return[];var n=N,r=$n(e,N);t=Fo(t),e-=N;for(var i=_n(r,t);++n<e;)t(n);return i},yr.toFinite=qs,yr.toInteger=Ws,yr.toLength=Hs,yr.toLower=function(e){return Qs(e).toLowerCase()},yr.toNumber=zs,yr.toSafeInteger=function(e){return e?Nr(Ws(e),-L,L):0===e?e:0},yr.toString=Qs,yr.toUpper=function(e){return Qs(e).toUpperCase()},yr.trim=function(e,t,n){if((e=Qs(e))&&(n||t===o))return e.replace(Me,"");if(!e||!(t=Fi(t)))return e;var r=Mn(e),i=Mn(t);return Gi(r,En(r,i),Sn(r,i)+1).join("")},yr.trimEnd=function(e,t,n){if((e=Qs(e))&&(n||t===o))return e.replace(Ne,"");if(!e||!(t=Fi(t)))return e;var r=Mn(e);return Gi(r,0,Sn(r,Mn(t))+1).join("")},yr.trimStart=function(e,t,n){if((e=Qs(e))&&(n||t===o))return e.replace(De,"");if(!e||!(t=Fi(t)))return e;var r=Mn(e);return Gi(r,En(r,Mn(t))).join("")},yr.truncate=function(e,t){var n=x,r=O;if(Ps(t)){var i="separator"in t?t.separator:i;n="length"in t?Ws(t.length):n,r="omission"in t?Fi(t.omission):r}var a=(e=Qs(e)).length;if(On(e)){var s=Mn(e);a=s.length}if(n>=a)return e;var u=n-Ln(r);if(u<1)return r;var c=s?Gi(s,0,u).join(""):e.slice(0,u);if(i===o)return c+r;if(s&&(u+=c.length-u),Ls(i)){if(e.slice(u).search(i)){var l,f=c;for(i.global||(i=rt(i.source,Qs(He.exec(i))+"g")),i.lastIndex=0;l=i.exec(f);)var p=l.index;c=c.slice(0,p===o?u:p)}}else if(e.indexOf(Fi(i),u)!=u){var d=c.lastIndexOf(i);d>-1&&(c=c.slice(0,d))}return c+r},yr.unescape=function(e){return(e=Qs(e))&&Se.test(e)?e.replace(ke,Dn):e},yr.uniqueId=function(e){var t=++pt;return Qs(e)+t},yr.upperCase=Su,yr.upperFirst=Tu,yr.each=Qa,yr.eachRight=Ka,yr.first=wa,Du(yr,(Ju={},Jr(yr,function(e,t){ft.call(yr.prototype,t)||(Ju[t]=e)}),Ju),{chain:!1}),yr.VERSION="4.17.4",Jt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){yr[e].placeholder=yr}),Jt(["drop","take"],function(e,t){br.prototype[e]=function(n){n=n===o?1:Kn(Ws(n),0);var r=this.__filtered__&&!t?new br(this):this.clone();return r.__filtered__?r.__takeCount__=$n(n,r.__takeCount__):r.__views__.push({size:$n(n,N),type:e+(r.__dir__<0?"Right":"")}),r},br.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),Jt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==j||3==n;br.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Fo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),Jt(["head","last"],function(e,t){var n="take"+(t?"Right":"");br.prototype[e]=function(){return this[n](1).value()[0]}}),Jt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");br.prototype[e]=function(){return this.__filtered__?new br(this):this[n](1)}}),br.prototype.compact=function(){return this.filter(Ru)},br.prototype.find=function(e){return this.filter(e).head()},br.prototype.findLast=function(e){return this.reverse().find(e)},br.prototype.invokeMap=Ci(function(e,t){return"function"==typeof e?new br(this):this.map(function(n){return ai(n,e,t)})}),br.prototype.reject=function(e){return this.filter(ls(Fo(e)))},br.prototype.slice=function(e,t){e=Ws(e);var n=this;return n.__filtered__&&(e>0||t<0)?new br(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=Ws(t))<0?n.dropRight(-t):n.take(t-e)),n)},br.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},br.prototype.toArray=function(){return this.take(N)},Jr(br.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=yr[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&(yr.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,u=t instanceof br,c=s[0],l=u||_s(t),f=function(e){var t=i.apply(yr,rn([e],s));return r&&p?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var p=this.__chain__,d=!!this.__actions__.length,h=a&&!p,v=u&&!d;if(!a&&l){t=v?t:new br(this);var y=e.apply(t,s);return y.__actions__.push({func:qa,args:[f],thisArg:o}),new _r(y,p)}return h&&v?e.apply(this,s):(y=this.thru(f),h?r?y.value()[0]:y.value():y)})}),Jt(["pop","push","shift","sort","splice","unshift"],function(e){var t=at[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);yr.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(_s(i)?i:[],e)}return this[n](function(n){return t.apply(_s(n)?n:[],e)})}}),Jr(br.prototype,function(e,t){var n=yr[t];if(n){var r=n.name+"";(sr[r]||(sr[r]=[])).push({name:t,func:n})}}),sr[go(o,m).name]=[{name:"wrapper",func:o}],br.prototype.clone=function(){var e=new br(this.__wrapped__);return e.__actions__=oo(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=oo(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=oo(this.__views__),e},br.prototype.reverse=function(){if(this.__filtered__){var e=new br(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},br.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=_s(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=$n(t,e+a);break;case"takeRight":e=Kn(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,p=0,d=$n(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return Hi(e,this.__actions__);var h=[];e:for(;u--&&p<d;){for(var v=-1,y=e[c+=t];++v<f;){var g=l[v],m=g.iteratee,_=g.type,b=m(y);if(_==R)y=b;else if(!b){if(_==j)continue e;break e}}h[p++]=y}return h},yr.prototype.at=Wa,yr.prototype.chain=function(){return Va(this)},yr.prototype.commit=function(){return new _r(this.value(),this.__chain__)},yr.prototype.next=function(){this.__values__===o&&(this.__values__=Vs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},yr.prototype.plant=function(e){for(var t,n=this;n instanceof mr;){var r=ha(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},yr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof br){var t=e;return this.__actions__.length&&(t=new br(this)),(t=t.reverse()).__actions__.push({func:qa,args:[Pa],thisArg:o}),new _r(t,this.__chain__)}return this.thru(Pa)},yr.prototype.toJSON=yr.prototype.valueOf=yr.prototype.value=function(){return Hi(this.__wrapped__,this.__actions__)},yr.prototype.first=yr.prototype.head,Ft&&(yr.prototype[Ft]=function(){return this}),yr}();Lt._=Nn,(i=function(){return Nn}.call(t,n,t,r))===o||(r.exports=i)}).call(this)}).call(this,n(12),n(28)(e))},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";var r=n(3),i=(n(2),function(e){if(this.instancePool.length){var t=this.instancePool.pop();return this.call(t,e),t}return new this(e)}),o=function(e){e instanceof this||r("25"),e.destructor(),this.instancePool.length<this.poolSize&&this.instancePool.push(e)},a=i,s={addPoolingTo:function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||a,n.poolSize||(n.poolSize=10),n.release=o,n},oneArgumentPooler:i,twoArgumentPooler:function(e,t){if(this.instancePool.length){var n=this.instancePool.pop();return this.call(n,e,t),n}return new this(e,t)},threeArgumentPooler:function(e,t,n){if(this.instancePool.length){var r=this.instancePool.pop();return this.call(r,e,t,n),r}return new this(e,t,n)},fourArgumentPooler:function(e,t,n,r){if(this.instancePool.length){var i=this.instancePool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}};e.exports=s},function(e,t,n){"use strict";var r=n(100),i="object"==typeof self&&self&&self.Object===Object&&self,o=(r.a||i||Function("return this")()).Symbol,a=Object.prototype,s=a.hasOwnProperty,u=a.toString,c=o?o.toStringTag:void 0;var l=function(e){var t=s.call(e,c),n=e[c];try{e[c]=void 0;var r=!0}catch(e){}var i=u.call(e);return r&&(t?e[c]=n:delete e[c]),i},f=Object.prototype.toString;var p=function(e){return f.call(e)},d="[object Null]",h="[object Undefined]",v=o?o.toStringTag:void 0;var y=function(e){return null==e?void 0===e?h:d:v&&v in Object(e)?l(e):p(e)};var g=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object);var m=function(e){return null!=e&&"object"==typeof e},_="[object Object]",b=Function.prototype,w=Object.prototype,k=b.toString,E=w.hasOwnProperty,S=k.call(Object);t.a=function(e){if(!m(e)||y(e)!=_)return!1;var t=g(e);if(null===t)return!0;var n=E.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&k.call(n)==S}},function(e,t,n){(function(t,n){e.exports=function(){var e,r,i;return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof _dereq_&&_dereq_;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n||e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof _dereq_&&_dereq_,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";t.exports=function(e){var t=e._SomePromiseArray;function n(e){var n=new t(e),r=n.promise();return n.setHowMany(1),n.setUnwrap(),n.init(),r}e.any=function(e){return n(e)},e.prototype.any=function(){return n(this)}}},{}],2:[function(e,t,n){"use strict";var r;try{throw new Error}catch(e){r=e}var i=e("./schedule.js"),o=e("./queue.js"),a=e("./util.js");function s(){this._isTickUsed=!1,this._lateQueue=new o(16),this._normalQueue=new o(16),this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=i.isStatic?i(this.drainQueues):i}function u(e,t,n){this._lateQueue.push(e,t,n),this._queueTick()}function c(e,t,n){this._normalQueue.push(e,t,n),this._queueTick()}function l(e){this._normalQueue._pushOne(e),this._queueTick()}s.prototype.disableTrampolineIfNecessary=function(){a.hasDevTools&&(this._trampolineEnabled=!1)},s.prototype.enableTrampoline=function(){this._trampolineEnabled||(this._trampolineEnabled=!0,this._schedule=function(e){setTimeout(e,0)})},s.prototype.haveItemsQueued=function(){return this._normalQueue.length()>0},s.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")}},a.hasDevTools?(i.isStatic&&(i=function(e){setTimeout(e,0)}),s.prototype.invokeLater=function(e,t,n){this._trampolineEnabled?u.call(this,e,t,n):this._schedule(function(){setTimeout(function(){e.call(t,n)},100)})},s.prototype.invoke=function(e,t,n){this._trampolineEnabled?c.call(this,e,t,n):this._schedule(function(){e.call(t,n)})},s.prototype.settlePromises=function(e){this._trampolineEnabled?l.call(this,e):this._schedule(function(){e._settlePromises()})}):(s.prototype.invokeLater=u,s.prototype.invoke=c,s.prototype.settlePromises=l),s.prototype.invokeFirst=function(e,t,n){this._normalQueue.unshift(e,t,n),this._queueTick()},s.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if("function"==typeof t){var n=e.shift(),r=e.shift();t.call(n,r)}else t._settlePromises()}},s.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._drainQueue(this._lateQueue)},s.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},s.prototype._reset=function(){this._isTickUsed=!1},t.exports=new s,t.exports.firstLineError=r},{"./queue.js":28,"./schedule.js":31,"./util.js":38}],3:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r=function(e,t){this._reject(t)},i=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(r,r,null,this,e)},o=function(e,t){this._isPending()&&this._resolveCallback(t.target)},a=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(r){var s=n(r),u=new e(t);u._propagateFrom(this,1);var c=this._target();if(u._setBoundTo(s),s instanceof e){var l={promiseRejectionQueued:!1,promise:u,target:c,bindingPromise:s};c._then(t,i,u._progress,u,l),s._then(o,a,u._progress,u,l)}else u._resolveCallback(c);return u},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=131072|this._bitField,this._boundTo=e):this._bitField=-131073&this._bitField},e.prototype._isBound=function(){return 131072==(131072&this._bitField)},e.bind=function(r,i){var o=n(r),a=new e(t);return a._setBoundTo(o),o instanceof e?o._then(function(){a._resolveCallback(i)},a._reject,a._progress,a,null):a._resolveCallback(i),a}}},{}],4:[function(e,t,n){"use strict";var r;"undefined"!=typeof Promise&&(r=Promise);var i=e("./promise.js")();i.noConflict=function(){try{Promise===i&&(Promise=r)}catch(e){}return i},t.exports=i},{"./promise.js":23}],5:[function(e,t,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}t.exports=function(t){var n=e("./util.js"),r=n.canEvaluate;function i(e){var r=this.pop(),i=function(e,r){var i;if(null!=e&&(i=e[r]),"function"!=typeof i){var o="Object "+n.classString(e)+" has no method '"+n.toString(r)+"'";throw new t.TypeError(o)}return i}(e,r);return i.apply(e,this)}function o(e){return e[this]}function a(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}n.isIdentifier,t.prototype.call=function(e){for(var t=arguments.length,n=new Array(t-1),r=1;r<t;++r)n[r-1]=arguments[r];return n.push(e),this._then(i,void 0,void 0,n,void 0)},t.prototype.get=function(e){var t,n="number"==typeof e;if(n)t=a;else if(r){var i=(void 0)(e);t=null!==i?i:o}else t=o;return this._then(t,void 0,void 0,e,void 0)}}},{"./util.js":38}],6:[function(e,t,n){"use strict";t.exports=function(t){var n=e("./errors.js"),r=e("./async.js"),i=n.CancellationError;t.prototype._cancel=function(e){if(!this.isCancellable())return this;for(var t,n=this;void 0!==(t=n._cancellationParent)&&t.isCancellable();)n=t;this._unsetCancellable(),n._target()._rejectCallback(e,!1,!0)},t.prototype.cancel=function(e){return this.isCancellable()?(void 0===e&&(e=new i),r.invokeLater(this._cancel,this,e),this):this},t.prototype.cancellable=function(){return this._cancellable()?this:(r.enableTrampoline(),this._setCancellable(),this._cancellationParent=void 0,this)},t.prototype.uncancellable=function(){var e=this.then();return e._unsetCancellable(),e},t.prototype.fork=function(e,t,n){var r=this._then(e,t,n,void 0,void 0);return r._setCancellable(),r._cancellationParent=void 0,r}}},{"./async.js":2,"./errors.js":13}],7:[function(e,n,r){"use strict";n.exports=function(){var n,r=e("./async.js"),i=e("./util.js"),o=/[\\\/]bluebird[\\\/]js[\\\/](main|debug|zalgo|instrumented)/,a=null,s=null,u=!1;function c(e){this._parent=e;var t=this._length=1+(void 0===e?0:e._length);y(this,c),t>32&&this.uncycle()}function l(e){for(var t=[],n=0;n<e.length;++n){var r=e[n],i=a.test(r)||"    (No stack trace)"===r,o=i&&p(r);i&&!o&&(u&&" "!==r.charAt(0)&&(r="    "+r),t.push(r))}return t}function f(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{if(t=e.toString(),/\[object [a-zA-Z0-9$_]+\]/.test(t))try{var n=JSON.stringify(e);t=n}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+function(e){return e.length<41?e:e.substr(0,38)+"..."}(t)+">, no stack trace)"}i.inherits(c,Error),c.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],n={},r=0,i=this;void 0!==i;++r)t.push(i),i=i._parent;for(var r=(e=this._length=r)-1;r>=0;--r){var o=t[r].stack;void 0===n[o]&&(n[o]=r)}for(var r=0;r<e;++r){var a=t[r].stack,s=n[a];if(void 0!==s&&s!==r){s>0&&(t[s-1]._parent=void 0,t[s-1]._length=1),t[r]._parent=void 0,t[r]._length=1;var u=r>0?t[r-1]:this;s<e-1?(u._parent=t[s+1],u._parent.uncycle(),u._length=u._parent._length+1):(u._parent=void 0,u._length=1);for(var c=u._length+1,l=r-2;l>=0;--l)t[l]._length=c,c++;return}}}},c.prototype.parent=function(){return this._parent},c.prototype.hasParent=function(){return void 0!==this._parent},c.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=c.parseStackAndMessage(e),n=t.message,r=[t.stack],o=this;void 0!==o;)r.push(l(o.stack.split("\n"))),o=o._parent;!function(e){for(var t=e[0],n=1;n<e.length;++n){for(var r=e[n],i=t.length-1,o=t[i],a=-1,s=r.length-1;s>=0;--s)if(r[s]===o){a=s;break}for(var s=a;s>=0;--s){var u=r[s];if(t[i]!==u)break;t.pop(),i--}t=r}}(r),function(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}(r),i.notEnumerableProp(e,"stack",function(e,t){for(var n=0;n<t.length-1;++n)t[n].push("From previous event:"),t[n]=t[n].join("\n");return n<t.length&&(t[n]=t[n].join("\n")),e+"\n"+t.join("\n")}(n,r)),i.notEnumerableProp(e,"__stackCleaned__",!0)}},c.parseStackAndMessage=function(e){var t=e.stack,n=e.toString();return t="string"==typeof t&&t.length>0?function(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var r=t[n];if("    (No stack trace)"===r||a.test(r))break}return n>0&&(t=t.slice(n)),t}(e):["    (No stack trace)"],{message:n,stack:l(t)}},c.formatAndLogError=function(e,t){if("undefined"!=typeof console){var r;if("object"==typeof e||"function"==typeof e){var i=e.stack;r=t+s(i,e)}else r=t+String(e);"function"==typeof n?n(r):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}},c.unhandledRejection=function(e){c.formatAndLogError(e,"^--- With additional stack trace: ")},c.isSupported=function(){return"function"==typeof y},c.fireRejectionEvent=function(e,t,n,i){var o=!1;try{"function"==typeof t&&(o=!0,"rejectionHandled"===e?t(i):t(n,i))}catch(e){r.throwLater(e)}var a=!1;try{a=g(e,n,i)}catch(e){a=!0,r.throwLater(e)}var s=!1;if(v)try{s=v(e.toLowerCase(),{reason:n,promise:i})}catch(e){s=!0,r.throwLater(e)}a||o||s||"unhandledRejection"!==e||c.formatAndLogError(n,"Unhandled rejection ")};var p=function(){return!1},d=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function h(e){var t=e.match(d);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}c.setBounds=function(e,t){if(c.isSupported()){for(var n,r,i=e.stack.split("\n"),a=t.stack.split("\n"),s=-1,u=-1,l=0;l<i.length;++l){var f=h(i[l]);if(f){n=f.fileName,s=f.line;break}}for(var l=0;l<a.length;++l){var f=h(a[l]);if(f){r=f.fileName,u=f.line;break}}s<0||u<0||!n||!r||n!==r||s>=u||(p=function(e){if(o.test(e))return!0;var t=h(e);return!!(t&&t.fileName===n&&s<=t.line&&t.line<=u)})}};var v,y=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():f(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit=Error.stackTraceLimit+6,a=e,s=t;var n=Error.captureStackTrace;return p=function(e){return o.test(e)},function(e,t){Error.stackTraceLimit=Error.stackTraceLimit+6,n(e,t),Error.stackTraceLimit=Error.stackTraceLimit-6}}var r,i=new Error;if("string"==typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return a=/@/,s=t,u=!0,function(e){e.stack=(new Error).stack};try{throw new Error}catch(e){r="stack"in e}return"stack"in i||!r||"number"!=typeof Error.stackTraceLimit?(s=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?f(t):t.toString()},null):(a=e,s=t,function(e){Error.stackTraceLimit=Error.stackTraceLimit+6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit=Error.stackTraceLimit-6})}(),g=function(){if(i.isNode)return function(e,n,r){return"rejectionHandled"===e?t.emit(e,r):t.emit(e,n,r)};var e=!1,n=!0;try{var r=new self.CustomEvent("test");e=r instanceof CustomEvent}catch(e){}if(!e)try{var o=document.createEvent("CustomEvent");o.initCustomEvent("testingtheevent",!1,!0,{}),self.dispatchEvent(o)}catch(e){n=!1}n&&(v=function(t,n){var r;return e?r=new self.CustomEvent(t,{detail:n,bubbles:!1,cancelable:!0}):self.dispatchEvent&&(r=document.createEvent("CustomEvent")).initCustomEvent(t,!1,!0,n),!!r&&!self.dispatchEvent(r)});var a={};return a.unhandledRejection="onunhandledRejection".toLowerCase(),a.rejectionHandled="onrejectionHandled".toLowerCase(),function(e,t,n){var r=a[e],i=self[r];return!!i&&("rejectionHandled"===e?i.call(self,n):i.call(self,t,n),!0)}}();return"undefined"!=typeof console&&void 0!==console.warn&&(n=function(e){console.warn(e)},i.isNode&&t.stderr.isTTY?n=function(e){t.stderr.write("[31m"+e+"[39m\n")}:i.isNode||"string"!=typeof(new Error).stack||(n=function(e){console.warn("%c"+e,"color: red")})),c}},{"./async.js":2,"./util.js":38}],8:[function(e,t,n){"use strict";t.exports=function(t){var n=e("./util.js"),r=e("./errors.js"),i=n.tryCatch,o=n.errorObj,a=e("./es5.js").keys,s=r.TypeError;function u(e,t,n){this._instances=e,this._callback=t,this._promise=n}function c(e,t){var n={},r=i(e).call(n,t);if(r===o)return r;var u=a(n);return u.length?(o.e=new s("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"),o):r}return u.prototype.doFilter=function(e){for(var n=this._callback,r=this._promise,a=r._boundValue(),s=0,u=this._instances.length;s<u;++s){var l=this._instances[s],f=l===Error||null!=l&&l.prototype instanceof Error;if(f&&e instanceof l){var p=i(n).call(a,e);return p===o?(t.e=p.e,t):p}if("function"==typeof l&&!f){var d=c(l,e);if(d===o){e=o.e;break}if(d){var p=i(n).call(a,e);return p===o?(t.e=p.e,t):p}}}return t.e=e,t},u}},{"./errors.js":13,"./es5.js":14,"./util.js":38}],9:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r=[];function i(){this._trace=new t(o())}function o(){var e=r.length-1;if(e>=0)return r[e]}return i.prototype._pushContext=function(){n()&&void 0!==this._trace&&r.push(this._trace)},i.prototype._popContext=function(){n()&&void 0!==this._trace&&r.pop()},e.prototype._peekContext=o,e.prototype._pushContext=i.prototype._pushContext,e.prototype._popContext=i.prototype._popContext,function(){if(n())return new i}}},{}],10:[function(e,t,n){"use strict";t.exports=function(t,n){var r,i,o=t._getDomain,a=e("./async.js"),s=e("./errors.js").Warning,u=e("./util.js"),c=u.canAttachTrace,l=u.isNode&&(!!Object({NODE_ENV:"production",TEST:void 0,LOG:"off",account:"https://account.goguardian.com",gatekeeper:"https://gatekeeper.goguardian.com",scribe:"https://agreements.goguardian.com/#/agree",floorWarden:"https://floor-warden.goguardian.com",magicHat:"https://signup.goguardian.com",adminV1:"https://goguardian.com",dashApi:"https://dashapi.goguardian.com",cortana:"https://cortana.goguardian.com",masterchief:"https://admin.goguardian.com",presenter:"https://x3-presenter.goguardian.com",x3Ui:"https://smart-alerts.goguardian.com",x3Predictor:"https://x3-predictor.goguardian.com",policyMaker:"https://x3-policy-maker.goguardian.com",reporter:"https://x3-reporter.goguardian.com",beaconFullpagePredictor:"https://beacon-fullpage-predictor.goguardian.com",mlEndpoint:"https://ml-endpoint.goguardian.com",tivan:"https://tivan.goguardian.com",dunce:"https://dunce.goguardian.com",chalkboard:"https://chalkboard.goguardian.com",enroll:"https://enroll.goguardian.com",extScreenshots:"https://screenshots.goguardian.com",inquisition:"https://inquisition.goguardian.com",snapper:"https://snapper.goguardian.com",teacher:"https://teacher.goguardian.com",offTaskAlerts:"https://taskiness-preprocessor.goguardian.com",scenesBlockPageUrl:"https://student.goguardian.com/teacher/blocked.html",blessUp:"https://director.goguardian.com",bigChune:"https://big-go-chune.goguardian.com",fleetApi:"https://fleet-api.goguardian.com",fleetUi:"https://fleet.goguardian.com",extapi:"https://extapi.goguardian.com",metrics:"https://countvoncount.goguardian.com",panther:"https://panther.goguardian.com",playButton:"https://play-button.goguardian.com",present:"https://rollcall.goguardian.com",quiddity:"https://quiddity.goguardian.com",shinkansen:"http://api.shinkansen.internal.goguardian.com",snat:"https://snat.goguardian.com",waluigi:"https://waluigi.goguardian.com",kingsHand:"https://kings-hand.goguardian.com",throneRoom:"https://manage.goguardian.com",beaconUI:"https://beacon.goguardian.com",landing:"https://www.goguardian.com",static:"https://static.goguardian.com",merchant:"https://merchant.goguardian.com",shylock:"https://shylock.goguardian.com",harambe:"https://harambe.goguardian.com",polyjuiceApi:"https://polyjuice-api.goguardian.com",potatoApi:"https://potato-juice.goguardian.com",supportApi:"https://support-api.goguardian.com",supportDashboard:"https://support-tools.goguardian.com",theftRecoveryApi:"https://theft-recovery.goguardian.com",courier:"",checkup:"https://checkup.goguardian.com",experiments:"https://experiments-api.goguardian.com"}).BLUEBIRD_DEBUG||!1);return u.isNode&&0==Object({NODE_ENV:"production",TEST:void 0,LOG:"off",account:"https://account.goguardian.com",gatekeeper:"https://gatekeeper.goguardian.com",scribe:"https://agreements.goguardian.com/#/agree",floorWarden:"https://floor-warden.goguardian.com",magicHat:"https://signup.goguardian.com",adminV1:"https://goguardian.com",dashApi:"https://dashapi.goguardian.com",cortana:"https://cortana.goguardian.com",masterchief:"https://admin.goguardian.com",presenter:"https://x3-presenter.goguardian.com",x3Ui:"https://smart-alerts.goguardian.com",x3Predictor:"https://x3-predictor.goguardian.com",policyMaker:"https://x3-policy-maker.goguardian.com",reporter:"https://x3-reporter.goguardian.com",beaconFullpagePredictor:"https://beacon-fullpage-predictor.goguardian.com",mlEndpoint:"https://ml-endpoint.goguardian.com",tivan:"https://tivan.goguardian.com",dunce:"https://dunce.goguardian.com",chalkboard:"https://chalkboard.goguardian.com",enroll:"https://enroll.goguardian.com",extScreenshots:"https://screenshots.goguardian.com",inquisition:"https://inquisition.goguardian.com",snapper:"https://snapper.goguardian.com",teacher:"https://teacher.goguardian.com",offTaskAlerts:"https://taskiness-preprocessor.goguardian.com",scenesBlockPageUrl:"https://student.goguardian.com/teacher/blocked.html",blessUp:"https://director.goguardian.com",bigChune:"https://big-go-chune.goguardian.com",fleetApi:"https://fleet-api.goguardian.com",fleetUi:"https://fleet.goguardian.com",extapi:"https://extapi.goguardian.com",metrics:"https://countvoncount.goguardian.com",panther:"https://panther.goguardian.com",playButton:"https://play-button.goguardian.com",present:"https://rollcall.goguardian.com",quiddity:"https://quiddity.goguardian.com",shinkansen:"http://api.shinkansen.internal.goguardian.com",snat:"https://snat.goguardian.com",waluigi:"https://waluigi.goguardian.com",kingsHand:"https://kings-hand.goguardian.com",throneRoom:"https://manage.goguardian.com",beaconUI:"https://beacon.goguardian.com",landing:"https://www.goguardian.com",static:"https://static.goguardian.com",merchant:"https://merchant.goguardian.com",shylock:"https://shylock.goguardian.com",harambe:"https://harambe.goguardian.com",polyjuiceApi:"https://polyjuice-api.goguardian.com",potatoApi:"https://potato-juice.goguardian.com",supportApi:"https://support-api.goguardian.com",supportDashboard:"https://support-tools.goguardian.com",theftRecoveryApi:"https://theft-recovery.goguardian.com",courier:"",checkup:"https://checkup.goguardian.com",experiments:"https://experiments-api.goguardian.com"}).BLUEBIRD_DEBUG&&(l=!1),l&&a.disableTrampolineIfNecessary(),t.prototype._ignoreRejections=function(){this._unsetRejectionIsUnhandled(),this._bitField=16777216|this._bitField},t.prototype._ensurePossibleRejectionHandled=function(){0==(16777216&this._bitField)&&(this._setRejectionIsUnhandled(),a.invokeLater(this._notifyUnhandledRejection,this,void 0))},t.prototype._notifyUnhandledRejectionIsHandled=function(){n.fireRejectionEvent("rejectionHandled",r,void 0,this)},t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._getCarriedStackTrace()||this._settledValue;this._setUnhandledRejectionIsNotified(),n.fireRejectionEvent("unhandledRejection",i,e,this)}},t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=524288|this._bitField},t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-524289&this._bitField},t.prototype._isUnhandledRejectionNotified=function(){return(524288&this._bitField)>0},t.prototype._setRejectionIsUnhandled=function(){this._bitField=2097152|this._bitField},t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-2097153&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},t.prototype._isRejectionUnhandled=function(){return(2097152&this._bitField)>0},t.prototype._setCarriedStackTrace=function(e){this._bitField=1048576|this._bitField,this._fulfillmentHandler0=e},t.prototype._isCarryingStackTrace=function(){return(1048576&this._bitField)>0},t.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:void 0},t.prototype._captureStackTrace=function(){return l&&(this._trace=new n(this._peekContext())),this},t.prototype._attachExtraTrace=function(e,t){if(l&&c(e)){var r=this._trace;if(void 0!==r&&t&&(r=r._parent),void 0!==r)r.attachExtraTrace(e);else if(!e.__stackCleaned__){var i=n.parseStackAndMessage(e);u.notEnumerableProp(e,"stack",i.message+"\n"+i.stack.join("\n")),u.notEnumerableProp(e,"__stackCleaned__",!0)}}},t.prototype._warn=function(e){var t=new s(e),r=this._peekContext();if(r)r.attachExtraTrace(t);else{var i=n.parseStackAndMessage(t);t.stack=i.message+"\n"+i.stack.join("\n")}n.formatAndLogError(t,"")},t.onPossiblyUnhandledRejection=function(e){var t=o();i="function"==typeof e?null===t?e:t.bind(e):void 0},t.onUnhandledRejectionHandled=function(e){var t=o();r="function"==typeof e?null===t?e:t.bind(e):void 0},t.longStackTraces=function(){if(a.haveItemsQueued()&&!1===l)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/DT1qyG\n");(l=n.isSupported())&&a.disableTrampolineIfNecessary()},t.hasLongStackTraces=function(){return l&&n.isSupported()},n.isSupported()||(t.longStackTraces=function(){},l=!1),function(){return l}}},{"./async.js":2,"./errors.js":13,"./util.js":38}],11:[function(e,t,n){"use strict";var r=e("./util.js"),i=r.isPrimitive;t.exports=function(e){var t=function(){return this},n=function(){throw this},r=function(){},o=function(){throw void 0},a=function(e,t){return 1===t?function(){throw e}:2===t?function(){return e}:void 0};e.prototype.return=e.prototype.thenReturn=function(n){return void 0===n?this.then(r):i(n)?this._then(a(n,2),void 0,void 0,void 0,void 0):(n instanceof e&&n._ignoreRejections(),this._then(t,void 0,void 0,n,void 0))},e.prototype.throw=e.prototype.thenThrow=function(e){return void 0===e?this.then(o):i(e)?this._then(a(e,1),void 0,void 0,void 0,void 0):this._then(n,void 0,void 0,e,void 0)}}},{"./util.js":38}],12:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.reduce;e.prototype.each=function(e){return n(this,e,null,t)},e.each=function(e,r){return n(e,r,null,t)}}},{}],13:[function(e,t,n){"use strict";var r,i,o=e("./es5.js"),a=o.freeze,s=e("./util.js"),u=s.inherits,c=s.notEnumerableProp;function l(e,t){function n(r){if(!(this instanceof n))return new n(r);c(this,"message","string"==typeof r?r:t),c(this,"name",e),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return u(n,Error),n}var f=l("Warning","warning"),p=l("CancellationError","cancellation error"),d=l("TimeoutError","timeout error"),h=l("AggregateError","aggregate error");try{r=TypeError,i=RangeError}catch(e){r=l("TypeError","type error"),i=l("RangeError","range error")}for(var v="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<v.length;++y)"function"==typeof Array.prototype[v[y]]&&(h.prototype[v[y]]=Array.prototype[v[y]]);o.defineProperty(h.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),h.prototype.isOperational=!0;var g=0;function m(e){if(!(this instanceof m))return new m(e);c(this,"name","OperationalError"),c(this,"message",e),this.cause=e,this.isOperational=!0,e instanceof Error?(c(this,"message",e.message),c(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}h.prototype.toString=function(){var e=Array(4*g+1).join(" "),t="\n"+e+"AggregateError of:\n";g++,e=Array(4*g+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=e+i[o];r=i.join("\n"),t+=r+"\n"}return g--,t},u(m,Error);var _=Error.__BluebirdErrorTypes__;_||(_=a({CancellationError:p,TimeoutError:d,OperationalError:m,RejectionError:m,AggregateError:h}),c(Error,"__BluebirdErrorTypes__",_)),t.exports={Error:Error,TypeError:r,RangeError:i,CancellationError:_.CancellationError,OperationalError:_.OperationalError,TimeoutError:_.TimeoutError,AggregateError:_.AggregateError,Warning:f}},{"./es5.js":14,"./util.js":38}],14:[function(e,t,n){var r=function(){"use strict";return void 0===this}();if(r)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,a={}.constructor.prototype,s=function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(n);return t};t.exports={isArray:function(e){try{return"[object Array]"===o.call(e)}catch(e){return!1}},keys:s,names:s,defineProperty:function(e,t,n){return e[t]=n.value,e},getDescriptor:function(e,t){return{value:e[t]}},freeze:function(e){return e},getPrototypeOf:function(e){try{return Object(e).constructor.prototype}catch(e){return a}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],15:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.map;e.prototype.filter=function(e,r){return n(this,e,r,t)},e.filter=function(e,r,i){return n(e,r,i,t)}}},{}],16:[function(e,t,n){"use strict";t.exports=function(t,n,r){var i=e("./util.js"),o=i.isPrimitive,a=i.thrower;function s(){return this}function u(){throw this}function c(e,t,n){var r,i;return r=o(t)?n?(i=t,function(){return i}):function(e){return function(){throw e}}(t):n?s:u,e._then(r,a,void 0,t,void 0)}function l(e){var i=this.promise,o=this.handler,a=i._isBound()?o.call(i._boundValue()):o();if(void 0!==a){var s=r(a,i);if(s instanceof t)return c(s=s._target(),e,i.isFulfilled())}return i.isRejected()?(n.e=e,n):e}function f(e){var n=this.promise,i=this.handler,o=n._isBound()?i.call(n._boundValue(),e):i(e);if(void 0!==o){var a=r(o,n);if(a instanceof t)return c(a=a._target(),e,!0)}return e}t.prototype._passThroughHandler=function(e,t){if("function"!=typeof e)return this.then();var n={promise:this,handler:e};return this._then(t?l:f,t?l:void 0,void 0,n,void 0)},t.prototype.lastly=t.prototype.finally=function(e){return this._passThroughHandler(e,!0)},t.prototype.tap=function(e){return this._passThroughHandler(e,!1)}}},{"./util.js":38}],17:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){var o=e("./errors.js"),a=o.TypeError,s=e("./util.js"),u=s.errorObj,c=s.tryCatch,l=[];function f(e,n,i,o){var a=this._promise=new t(r);a._captureStackTrace(),this._stack=o,this._generatorFunction=e,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(l):l}f.prototype.promise=function(){return this._promise},f.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._next(void 0)},f.prototype._continue=function(e){if(e===u)return this._promise._rejectCallback(e.e,!1,!0);var n=e.value;if(!0===e.done)this._promise._resolveCallback(n);else{var r=i(n,this._promise);if(!(r instanceof t)&&null===(r=function(e,n,r){for(var o=0;o<n.length;++o){r._pushContext();var a=c(n[o])(e);if(r._popContext(),a===u){r._pushContext();var s=t.reject(u.e);return r._popContext(),s}var l=i(a,r);if(l instanceof t)return l}return null}(r,this._yieldHandlers,this._promise)))return void this._throw(new a("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/4Y4pDk\n\n".replace("%s",n)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));r._then(this._next,this._throw,void 0,this,null)}},f.prototype._throw=function(e){this._promise._attachExtraTrace(e),this._promise._pushContext();var t=c(this._generator.throw).call(this._generator,e);this._promise._popContext(),this._continue(t)},f.prototype._next=function(e){this._promise._pushContext();var t=c(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},t.coroutine=function(e,t){if("function"!=typeof e)throw new a("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var n=Object(t).yieldHandler,r=f,i=(new Error).stack;return function(){var t=e.apply(this,arguments),o=new r(void 0,void 0,n,i);return o._generator=t,o._next(void 0),o.promise()}},t.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new a("fn must be a function\n\n    See http://goo.gl/916lJJ\n");l.push(e)},t.spawn=function(e){if("function"!=typeof e)return n("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var r=new f(e,this),i=r.promise();return r._run(t.spawn),i}}},{"./errors.js":13,"./util.js":38}],18:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){var o=e("./util.js");o.canEvaluate,o.tryCatch,o.errorObj,t.join=function(){var e,t=arguments.length-1;t>0&&"function"==typeof arguments[t]&&(e=arguments[t]);for(var r=arguments.length,i=new Array(r),o=0;o<r;++o)i[o]=arguments[o];e&&i.pop();var a=new n(i).promise();return void 0!==e?a.spread(e):a}}},{"./util.js":38}],19:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o){var a=t._getDomain,s=e("./async.js"),u=e("./util.js"),c=u.tryCatch,l=u.errorObj,f={},p=[];function d(e,t,n,r){this.constructor$(e),this._promise._captureStackTrace();var i=a();this._callback=null===i?t:i.bind(t),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=n>=1?[]:p,s.invoke(h,this,void 0)}function h(){this._init$(void 0,-2)}function v(e,t,n,r){var i="object"==typeof n&&null!==n?n.concurrency:0;return i="number"==typeof i&&isFinite(i)&&i>=1?i:0,new d(e,t,i,r)}u.inherits(d,n),d.prototype._init=function(){},d.prototype._promiseFulfilled=function(e,n){var r=this._values,o=this.length(),a=this._preservedValues,s=this._limit;if(r[n]===f){if(r[n]=e,s>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return}else{if(s>=1&&this._inFlight>=s)return r[n]=e,void this._queue.push(n);null!==a&&(a[n]=e);var u=this._callback,p=this._promise._boundValue();this._promise._pushContext();var d=c(u).call(p,e,n,o);if(this._promise._popContext(),d===l)return this._reject(d.e);var h=i(d,this._promise);if(h instanceof t){if((h=h._target())._isPending())return s>=1&&this._inFlight++,r[n]=f,h._proxyPromiseArray(this,n);if(!h._isFulfilled())return this._reject(h._reason());d=h._value()}r[n]=d}var v=++this._totalResolved;v>=o&&(null!==a?this._filter(r,a):this._resolve(r))},d.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,n=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var r=e.pop();this._promiseFulfilled(n[r],r)}},d.prototype._filter=function(e,t){for(var n=t.length,r=new Array(n),i=0,o=0;o<n;++o)e[o]&&(r[i++]=t[o]);r.length=i,this._resolve(r)},d.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(e,t){return"function"!=typeof e?r("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):v(this,e,t,null).promise()},t.map=function(e,t,n,i){return"function"!=typeof t?r("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):v(e,t,n,i).promise()}}},{"./async.js":2,"./util.js":38}],20:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){var o=e("./util.js"),a=o.tryCatch;t.method=function(e){if("function"!=typeof e)throw new t.TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n");return function(){var r=new t(n);r._captureStackTrace(),r._pushContext();var i=a(e).apply(this,arguments);return r._popContext(),r._resolveFromSyncValue(i),r}},t.attempt=t.try=function(e,r,s){if("function"!=typeof e)return i("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var u=new t(n);u._captureStackTrace(),u._pushContext();var c=o.isArray(r)?a(e).apply(s,r):a(e).call(s,r);return u._popContext(),u._resolveFromSyncValue(c),u},t.prototype._resolveFromSyncValue=function(e){e===o.errorObj?this._rejectCallback(e.e,!1,!0):this._resolveCallback(e,!0)}}},{"./util.js":38}],21:[function(e,t,n){"use strict";t.exports=function(t){var n=e("./util.js"),r=e("./async.js"),i=n.tryCatch,o=n.errorObj;function a(e,t){if(!n.isArray(e))return s.call(this,e,t);var a=i(t).apply(this._boundValue(),[null].concat(e));a===o&&r.throwLater(a.e)}function s(e,t){var n=this._boundValue(),a=void 0===e?i(t).call(n,null):i(t).call(n,null,e);a===o&&r.throwLater(a.e)}function u(e,t){if(!e){var n=this._target(),a=n._getCarriedStackTrace();a.cause=e,e=a}var s=i(t).call(this._boundValue(),e);s===o&&r.throwLater(s.e)}t.prototype.asCallback=t.prototype.nodeify=function(e,t){if("function"==typeof e){var n=s;void 0!==t&&Object(t).spread&&(n=a),this._then(n,u,void 0,this,e)}return this}}},{"./async.js":2,"./util.js":38}],22:[function(e,t,n){"use strict";t.exports=function(t,n){var r=e("./util.js"),i=e("./async.js"),o=r.tryCatch,a=r.errorObj;t.prototype.progressed=function(e){return this._then(void 0,void 0,e,void 0,void 0)},t.prototype._progress=function(e){this._isFollowingOrFulfilledOrRejected()||this._target()._progressUnchecked(e)},t.prototype._progressHandlerAt=function(e){return 0===e?this._progressHandler0:this[(e<<2)+e-5+2]},t.prototype._doProgressWith=function(e){var n=e.value,i=e.handler,s=e.promise,u=e.receiver,c=o(i).call(u,n);if(c===a){if(null!=c.e&&"StopProgressPropagation"!==c.e.name){var l=r.canAttachTrace(c.e)?c.e:new Error(r.toString(c.e));s._attachExtraTrace(l),s._progress(c.e)}}else c instanceof t?c._then(s._progress,null,null,s,void 0):s._progress(c)},t.prototype._progressUnchecked=function(e){for(var r=this._length(),o=this._progress,a=0;a<r;a++){var s=this._progressHandlerAt(a),u=this._promiseAt(a);if(u instanceof t)"function"==typeof s?i.invoke(this._doProgressWith,this,{handler:s,promise:u,receiver:this._receiverAt(a),value:e}):i.invoke(o,u,e);else{var c=this._receiverAt(a);"function"==typeof s?s.call(c,e,u):c instanceof n&&!c._isResolved()&&c._promiseProgressed(e,u)}}}}},{"./async.js":2,"./util.js":38}],23:[function(e,n,r){"use strict";n.exports=function(){var r,i=function(){return new f("circular promise resolution chain\n\n    See http://goo.gl/LhFpo0\n")},o=function(){return new T.PromiseInspection(this._target())},a=function(e){return T.reject(new f(e))},s=e("./util.js");r=s.isNode?function(){var e=t.domain;return void 0===e&&(e=null),e}:function(){return null},s.notEnumerableProp(T,"_getDomain",r);var u={},c=e("./async.js"),l=e("./errors.js"),f=T.TypeError=l.TypeError;T.RangeError=l.RangeError,T.CancellationError=l.CancellationError,T.TimeoutError=l.TimeoutError,T.OperationalError=l.OperationalError,T.RejectionError=l.OperationalError,T.AggregateError=l.AggregateError;var p=function(){},d={},h={e:null},v=e("./thenables.js")(T,p),y=e("./promise_array.js")(T,p,v,a),g=e("./captured_trace.js")(),m=e("./debuggability.js")(T,g),_=e("./context.js")(T,g,m),b=e("./catch_filter.js")(h),w=e("./promise_resolver.js"),k=w._nodebackForPromise,E=s.errorObj,S=s.tryCatch;function T(e){if("function"!=typeof e)throw new f("the promise constructor requires a resolver function\n\n    See http://goo.gl/EC22Yn\n");if(this.constructor!==T)throw new f("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/KsIlge\n");this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._progressHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._settledValue=void 0,e!==p&&this._resolveFromResolver(e)}function C(e){var t=new T(p);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._progressHandler0=e,t._promise0=e,t._receiver0=e,t._settledValue=e}return T.prototype.toString=function(){return"[object Promise]"},T.prototype.caught=T.prototype.catch=function(e){var t=arguments.length;if(t>1){var n,r=new Array(t-1),i=0;for(n=0;n<t-1;++n){var o=arguments[n];if("function"!=typeof o)return T.reject(new f("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"));r[i++]=o}r.length=i,e=arguments[n];var a=new b(r,e,this);return this._then(void 0,a.doFilter,void 0,a,void 0)}return this._then(void 0,e,void 0,void 0,void 0)},T.prototype.reflect=function(){return this._then(o,o,void 0,this,void 0)},T.prototype.then=function(e,t,n){if(m()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var r=".then() only accepts functions but was passed: "+s.classString(e);arguments.length>1&&(r+=", "+s.classString(t)),this._warn(r)}return this._then(e,t,n,void 0,void 0)},T.prototype.done=function(e,t,n){var r=this._then(e,t,n,void 0,void 0);r._setIsFinal()},T.prototype.spread=function(e,t){return this.all()._then(e,t,void 0,d,void 0)},T.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable()},T.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},T.prototype.all=function(){return new y(this).promise()},T.prototype.error=function(e){return this.caught(s.originatesFromRejection,e)},T.getNewLibraryCopy=n.exports,T.is=function(e){return e instanceof T},T.fromNode=function(e){var t=new T(p),n=S(e)(k(t));return n===E&&t._rejectCallback(n.e,!0,!0),t},T.all=function(e){return new y(e).promise()},T.defer=T.pending=function(){var e=new T(p);return new w(e)},T.cast=function(e){var t=v(e);if(!(t instanceof T)){var n=t;(t=new T(p))._fulfillUnchecked(n)}return t},T.resolve=T.fulfilled=T.cast,T.reject=T.rejected=function(e){var t=new T(p);return t._captureStackTrace(),t._rejectCallback(e,!0),t},T.setScheduler=function(e){if("function"!=typeof e)throw new f("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var t=c._schedule;return c._schedule=e,t},T.prototype._then=function(e,t,n,i,o){var a=void 0!==o,s=a?o:new T(p);a||(s._propagateFrom(this,5),s._captureStackTrace());var u=this._target();u!==this&&(void 0===i&&(i=this._boundTo),a||s._setIsMigrated());var l=u._addCallbacks(e,t,n,s,i,r());return u._isResolved()&&!u._isSettlePromisesQueued()&&c.invoke(u._settlePromiseAtPostResolution,u,l),s},T.prototype._settlePromiseAtPostResolution=function(e){this._isRejectionUnhandled()&&this._unsetRejectionIsUnhandled(),this._settlePromiseAt(e)},T.prototype._length=function(){return 131071&this._bitField},T.prototype._isFollowingOrFulfilledOrRejected=function(){return(939524096&this._bitField)>0},T.prototype._isFollowing=function(){return 536870912==(536870912&this._bitField)},T.prototype._setLength=function(e){this._bitField=-131072&this._bitField|131071&e},T.prototype._setFulfilled=function(){this._bitField=268435456|this._bitField},T.prototype._setRejected=function(){this._bitField=134217728|this._bitField},T.prototype._setFollowing=function(){this._bitField=536870912|this._bitField},T.prototype._setIsFinal=function(){this._bitField=33554432|this._bitField},T.prototype._isFinal=function(){return(33554432&this._bitField)>0},T.prototype._cancellable=function(){return(67108864&this._bitField)>0},T.prototype._setCancellable=function(){this._bitField=67108864|this._bitField},T.prototype._unsetCancellable=function(){this._bitField=-67108865&this._bitField},T.prototype._setIsMigrated=function(){this._bitField=4194304|this._bitField},T.prototype._unsetIsMigrated=function(){this._bitField=-4194305&this._bitField},T.prototype._isMigrated=function(){return(4194304&this._bitField)>0},T.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[5*e-5+4];if(t!==u)return void 0===t&&this._isBound()?this._boundValue():t},T.prototype._promiseAt=function(e){return 0===e?this._promise0:this[5*e-5+3]},T.prototype._fulfillmentHandlerAt=function(e){return 0===e?this._fulfillmentHandler0:this[5*e-5+0]},T.prototype._rejectionHandlerAt=function(e){return 0===e?this._rejectionHandler0:this[5*e-5+1]},T.prototype._boundValue=function(){var e=this._boundTo;return void 0!==e&&e instanceof T?e.isFulfilled()?e.value():void 0:e},T.prototype._migrateCallbacks=function(e,t){var n=e._fulfillmentHandlerAt(t),r=e._rejectionHandlerAt(t),i=e._progressHandlerAt(t),o=e._promiseAt(t),a=e._receiverAt(t);o instanceof T&&o._setIsMigrated(),void 0===a&&(a=u),this._addCallbacks(n,r,i,o,a,null)},T.prototype._addCallbacks=function(e,t,n,r,i,o){var a=this._length();if(a>=131066&&(a=0,this._setLength(0)),0===a)this._promise0=r,void 0!==i&&(this._receiver0=i),"function"!=typeof e||this._isCarryingStackTrace()||(this._fulfillmentHandler0=null===o?e:o.bind(e)),"function"==typeof t&&(this._rejectionHandler0=null===o?t:o.bind(t)),"function"==typeof n&&(this._progressHandler0=null===o?n:o.bind(n));else{var s=5*a-5;this[s+3]=r,this[s+4]=i,"function"==typeof e&&(this[s+0]=null===o?e:o.bind(e)),"function"==typeof t&&(this[s+1]=null===o?t:o.bind(t)),"function"==typeof n&&(this[s+2]=null===o?n:o.bind(n))}return this._setLength(a+1),a},T.prototype._setProxyHandlers=function(e,t){var n=this._length();if(n>=131066&&(n=0,this._setLength(0)),0===n)this._promise0=t,this._receiver0=e;else{var r=5*n-5;this[r+3]=t,this[r+4]=e}this._setLength(n+1)},T.prototype._proxyPromiseArray=function(e,t){this._setProxyHandlers(e,t)},T.prototype._resolveCallback=function(e,t){if(!this._isFollowingOrFulfilledOrRejected()){if(e===this)return this._rejectCallback(i(),!1,!0);var n=v(e,this);if(!(n instanceof T))return this._fulfill(e);var r=1|(t?4:0);this._propagateFrom(n,r);var o=n._target();if(o._isPending()){for(var a=this._length(),s=0;s<a;++s)o._migrateCallbacks(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(o)}else o._isFulfilled()?this._fulfillUnchecked(o._value()):this._rejectUnchecked(o._reason(),o._getCarriedStackTrace())}},T.prototype._rejectCallback=function(e,t,n){n||s.markAsOriginatingFromRejection(e);var r=s.ensureErrorObject(e),i=r===e;this._attachExtraTrace(r,!!t&&i),this._reject(e,i?void 0:r)},T.prototype._resolveFromResolver=function(e){var t=this;this._captureStackTrace(),this._pushContext();var n=!0,r=S(e)(function(e){null!==t&&(t._resolveCallback(e),t=null)},function(e){null!==t&&(t._rejectCallback(e,n),t=null)});n=!1,this._popContext(),void 0!==r&&r===E&&null!==t&&(t._rejectCallback(r.e,!0,!0),t=null)},T.prototype._settlePromiseFromHandler=function(e,t,n,r){var o;if(!r._isRejected())if(r._pushContext(),o=t!==d||this._isRejected()?S(e).call(t,n):S(e).apply(this._boundValue(),n),r._popContext(),o===E||o===r||o===h){var a=o===r?i():o.e;r._rejectCallback(a,!1,!0)}else r._resolveCallback(o)},T.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},T.prototype._followee=function(){return this._rejectionHandler0},T.prototype._setFollowee=function(e){this._rejectionHandler0=e},T.prototype._cleanValues=function(){this._cancellable()&&(this._cancellationParent=void 0)},T.prototype._propagateFrom=function(e,t){(1&t)>0&&e._cancellable()&&(this._setCancellable(),this._cancellationParent=e),(4&t)>0&&e._isBound()&&this._setBoundTo(e._boundTo)},T.prototype._fulfill=function(e){this._isFollowingOrFulfilledOrRejected()||this._fulfillUnchecked(e)},T.prototype._reject=function(e,t){this._isFollowingOrFulfilledOrRejected()||this._rejectUnchecked(e,t)},T.prototype._settlePromiseAt=function(e){var t=this._promiseAt(e),n=t instanceof T;if(n&&t._isMigrated())return t._unsetIsMigrated(),c.invoke(this._settlePromiseAt,this,e);var r=this._isFulfilled()?this._fulfillmentHandlerAt(e):this._rejectionHandlerAt(e),i=this._isCarryingStackTrace()?this._getCarriedStackTrace():void 0,o=this._settledValue,a=this._receiverAt(e);this._clearCallbackDataAtIndex(e),"function"==typeof r?n?this._settlePromiseFromHandler(r,a,o,t):r.call(a,o,t):a instanceof y?a._isResolved()||(this._isFulfilled()?a._promiseFulfilled(o,t):a._promiseRejected(o,t)):n&&(this._isFulfilled()?t._fulfill(o):t._reject(o,i)),e>=4&&4==(31&e)&&c.invokeLater(this._setLength,this,0)},T.prototype._clearCallbackDataAtIndex=function(e){if(0===e)this._isCarryingStackTrace()||(this._fulfillmentHandler0=void 0),this._rejectionHandler0=this._progressHandler0=this._receiver0=this._promise0=void 0;else{var t=5*e-5;this[t+3]=this[t+4]=this[t+0]=this[t+1]=this[t+2]=void 0}},T.prototype._isSettlePromisesQueued=function(){return-1073741824==(-1073741824&this._bitField)},T.prototype._setSettlePromisesQueued=function(){this._bitField=-1073741824|this._bitField},T.prototype._unsetSettlePromisesQueued=function(){this._bitField=1073741823&this._bitField},T.prototype._queueSettlePromises=function(){c.settlePromises(this),this._setSettlePromisesQueued()},T.prototype._fulfillUnchecked=function(e){if(e===this){var t=i();return this._attachExtraTrace(t),this._rejectUnchecked(t,void 0)}this._setFulfilled(),this._settledValue=e,this._cleanValues(),this._length()>0&&this._queueSettlePromises()},T.prototype._rejectUncheckedCheckError=function(e){var t=s.ensureErrorObject(e);this._rejectUnchecked(e,t===e?void 0:t)},T.prototype._rejectUnchecked=function(e,t){if(e===this){var n=i();return this._attachExtraTrace(n),this._rejectUnchecked(n)}this._setRejected(),this._settledValue=e,this._cleanValues(),this._isFinal()?c.throwLater(function(e){throw"stack"in e&&c.invokeFirst(g.unhandledRejection,void 0,e),e},void 0===t?e:t):(void 0!==t&&t!==e&&this._setCarriedStackTrace(t),this._length()>0?this._queueSettlePromises():this._ensurePossibleRejectionHandled())},T.prototype._settlePromises=function(){this._unsetSettlePromisesQueued();for(var e=this._length(),t=0;t<e;t++)this._settlePromiseAt(t)},s.notEnumerableProp(T,"_makeSelfResolutionError",i),e("./progress.js")(T,y),e("./method.js")(T,p,v,a),e("./bind.js")(T,p,v),e("./finally.js")(T,h,v),e("./direct_resolve.js")(T),e("./synchronous_inspection.js")(T),e("./join.js")(T,y,v,p),T.version="2.11.0",T.Promise=T,e("./map.js")(T,y,a,v,p),e("./cancel.js")(T),e("./using.js")(T,a,v,_),e("./generators.js")(T,a,p,v),e("./nodeify.js")(T),e("./call_get.js")(T),e("./props.js")(T,y,v,a),e("./race.js")(T,p,v,a),e("./reduce.js")(T,y,a,v,p),e("./settle.js")(T,y),e("./some.js")(T,y,a),e("./promisify.js")(T,p),e("./any.js")(T),e("./each.js")(T,p),e("./timers.js")(T,p),e("./filter.js")(T,p),s.toFastProperties(T),s.toFastProperties(T.prototype),C({a:1}),C({b:2}),C({c:3}),C(1),C(function(){}),C(void 0),C(!1),C(new T(p)),g.setBounds(c.firstLineError,s.lastLineError),T}},{"./any.js":1,"./async.js":2,"./bind.js":3,"./call_get.js":5,"./cancel.js":6,"./captured_trace.js":7,"./catch_filter.js":8,"./context.js":9,"./debuggability.js":10,"./direct_resolve.js":11,"./each.js":12,"./errors.js":13,"./filter.js":15,"./finally.js":16,"./generators.js":17,"./join.js":18,"./map.js":19,"./method.js":20,"./nodeify.js":21,"./progress.js":22,"./promise_array.js":24,"./promise_resolver.js":25,"./promisify.js":26,"./props.js":27,"./race.js":29,"./reduce.js":30,"./settle.js":32,"./some.js":33,"./synchronous_inspection.js":34,"./thenables.js":35,"./timers.js":36,"./using.js":37,"./util.js":38}],24:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){var o=e("./util.js"),a=o.isArray;function s(e){var r,i=this._promise=new t(n);e instanceof t&&(r=e,i._propagateFrom(r,5)),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function e(n,o){var s=r(this._values,this._promise);if(s instanceof t){if(s=s._target(),this._values=s,!s._isFulfilled())return s._isPending()?void s._then(e,this._reject,void 0,this,o):void this._reject(s._reason());if(s=s._value(),!a(s)){var u=new t.TypeError("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");return void this.__hardReject__(u)}}else if(!a(s))return void this._promise._reject(i("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n")._reason());if(0!==s.length){var c=this.getActualLength(s.length);this._length=c,this._values=this.shouldCopyValues()?new Array(c):this._values;for(var l=this._promise,f=0;f<c;++f){var p=this._isResolved(),d=r(s[f],l);d instanceof t?(d=d._target(),p?d._ignoreRejections():d._isPending()?d._proxyPromiseArray(this,f):d._isFulfilled()?this._promiseFulfilled(d._value(),f):this._promiseRejected(d._reason(),f)):p||this._promiseFulfilled(d,f)}}else-5===o?this._resolveEmptyArray():this._resolve(function(e){switch(e){case-2:return[];case-3:return{}}}(o))},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},s.prototype.__hardReject__=s.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1,!0)},s.prototype._promiseProgressed=function(e,t){this._promise._progress({index:t,value:e})},s.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;n>=this._length&&this._resolve(this._values)},s.prototype._promiseRejected=function(e,t){this._totalResolved++,this._reject(e)},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(e){return e},s}},{"./util.js":38}],25:[function(e,t,n){"use strict";var r,i=e("./util.js"),o=i.maybeWrapAsError,a=e("./errors.js"),s=a.TimeoutError,u=a.OperationalError,c=i.haveGetters,l=e("./es5.js"),f=/^(?:name|message|stack|cause)$/;function p(e){var t;if(function(e){return e instanceof Error&&l.getPrototypeOf(e)===Error.prototype}(e)){(t=new u(e)).name=e.name,t.message=e.message,t.stack=e.stack;for(var n=l.keys(e),r=0;r<n.length;++r){var o=n[r];f.test(o)||(t[o]=e[o])}return t}return i.markAsOriginatingFromRejection(e),e}function d(e){return function(t,n){if(null!==e){if(t){var r=p(o(t));e._attachExtraTrace(r),e._reject(r)}else if(arguments.length>2){for(var i=arguments.length,a=new Array(i-1),s=1;s<i;++s)a[s-1]=arguments[s];e._fulfill(a)}else e._fulfill(n);e=null}}}if(r=c?function(e){this.promise=e}:function(e){this.promise=e,this.asCallback=d(e),this.callback=this.asCallback},c){var h={get:function(){return d(this.promise)}};l.defineProperty(r.prototype,"asCallback",h),l.defineProperty(r.prototype,"callback",h)}r._nodebackForPromise=d,r.prototype.toString=function(){return"[object PromiseResolver]"},r.prototype.resolve=r.prototype.fulfill=function(e){if(!(this instanceof r))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._resolveCallback(e)},r.prototype.reject=function(e){if(!(this instanceof r))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._rejectCallback(e)},r.prototype.progress=function(e){if(!(this instanceof r))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._progress(e)},r.prototype.cancel=function(e){this.promise.cancel(e)},r.prototype.timeout=function(){this.reject(new s("timeout"))},r.prototype.isResolved=function(){return this.promise.isResolved()},r.prototype.toJSON=function(){return this.promise.toJSON()},t.exports=r},{"./errors.js":13,"./es5.js":14,"./util.js":38}],26:[function(e,t,n){"use strict";t.exports=function(t,n){var r={},i=e("./util.js"),o=e("./promise_resolver.js")._nodebackForPromise,a=i.withAppended,s=i.maybeWrapAsError,u=i.canEvaluate,c=e("./errors").TypeError,l={__isPromisified__:!0},f=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),p=function(e){return i.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e};function d(e){return!f.test(e)}function h(e){try{return!0===e.__isPromisified__}catch(e){return!1}}function v(e,t,n){var r=i.getDataPropertyOrDefault(e,t+n,l);return!!r&&h(r)}function y(e,t,n,r){for(var o=i.inheritedDataKeys(e),a=[],s=0;s<o.length;++s){var u=o[s],l=e[u],f=r===p||p(u,l,e);"function"!=typeof l||h(l)||v(e,u,t)||!r(u,l,e,f)||a.push(u,l)}return function(e,t,n){for(var r=0;r<e.length;r+=2){var i=e[r];if(n.test(i))for(var o=i.replace(n,""),a=0;a<e.length;a+=2)if(e[a]===o)throw new c("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/iWrZbw\n".replace("%s",t))}}(a,t,n),a}var g=function(e){return e.replace(/([$])/,"\\$")},m=u?void 0:function(e,u,c,l){var f=function(){return this}(),p=e;function d(){var i=u;u===r&&(i=this);var c=new t(n);c._captureStackTrace();var l="string"==typeof p&&this!==f?this[p]:e,d=o(c);try{l.apply(i,a(arguments,d))}catch(e){c._rejectCallback(s(e),!0,!0)}return c}return"string"==typeof p&&(e=l),i.notEnumerableProp(d,"__isPromisified__",!0),d};function _(e,t,n,o){for(var a=new RegExp(g(t)+"$"),s=y(e,t,a,n),u=0,c=s.length;u<c;u+=2){var l=s[u],f=s[u+1],p=l+t;if(o===m)e[p]=m(l,r,l,f,t);else{var d=o(f,function(){return m(l,r,l,f,t)});i.notEnumerableProp(d,"__isPromisified__",!0),e[p]=d}}return i.toFastProperties(e),e}t.promisify=function(e,t){if("function"!=typeof e)throw new c("fn must be a function\n\n    See http://goo.gl/916lJJ\n");if(h(e))return e;var n=function(e,t){return m(e,t,void 0,e)}(e,arguments.length<2?r:t);return i.copyDescriptors(e,n,d),n},t.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new c("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/9ITlV0\n");var n=(t=Object(t)).suffix;"string"!=typeof n&&(n="Async");var r=t.filter;"function"!=typeof r&&(r=p);var o=t.promisifier;if("function"!=typeof o&&(o=m),!i.isIdentifier(n))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/8FZo5V\n");for(var a=i.inheritedDataKeys(e),s=0;s<a.length;++s){var u=e[a[s]];"constructor"!==a[s]&&i.isClass(u)&&(_(u.prototype,n,r,o),_(u,n,r,o))}return _(e,n,r,o)}}},{"./errors":13,"./promise_resolver.js":25,"./util.js":38}],27:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){var o=e("./util.js"),a=o.isObject,s=e("./es5.js");function u(e){for(var t=s.keys(e),n=t.length,r=new Array(2*n),i=0;i<n;++i){var o=t[i];r[i]=e[o],r[i+n]=o}this.constructor$(r)}function c(e){var n,o=r(e);return a(o)?(n=o instanceof t?o._then(t.props,void 0,void 0,void 0,void 0):new u(o).promise(),o instanceof t&&n._propagateFrom(o,4),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/OsFKC8\n")}o.inherits(u,n),u.prototype._init=function(){this._init$(void 0,-3)},u.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;if(n>=this._length){for(var r={},i=this.length(),o=0,a=this.length();o<a;++o)r[this._values[o+i]]=this._values[o];this._resolve(r)}},u.prototype._promiseProgressed=function(e,t){this._promise._progress({key:this._values[t+this.length()],value:e})},u.prototype.shouldCopyValues=function(){return!1},u.prototype.getActualLength=function(e){return e>>1},t.prototype.props=function(){return c(this)},t.props=function(e){return c(e)}}},{"./es5.js":14,"./util.js":38}],28:[function(e,t,n){"use strict";function r(e){this._capacity=e,this._length=0,this._front=0}r.prototype._willBeOverCapacity=function(e){return this._capacity<e},r.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1);var n=this._front+t&this._capacity-1;this[n]=e,this._length=t+1},r.prototype._unshiftOne=function(e){var t=this._capacity;this._checkCapacity(this.length()+1);var n=this._front,r=(n-1&t-1^t)-t;this[r]=e,this._front=r,this._length=this.length()+1},r.prototype.unshift=function(e,t,n){this._unshiftOne(n),this._unshiftOne(t),this._unshiftOne(e)},r.prototype.push=function(e,t,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(e),this._pushOne(t),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=e,this[i+1&o]=t,this[i+2&o]=n,this._length=r},r.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},r.prototype.length=function(){return this._length},r.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},r.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e;var n=this._front,r=this._length,i=n+r&t-1;!function(e,t,n,r,i){for(var o=0;o<i;++o)n[o+r]=e[o+t],e[o+t]=void 0}(this,0,this,t,i)},t.exports=r},{}],29:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){var o=e("./util.js").isArray,a=function(e){return e.then(function(t){return s(t,e)})};function s(e,s){var u=r(e);if(u instanceof t)return a(u);if(!o(e))return i("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");var c=new t(n);void 0!==s&&c._propagateFrom(s,5);for(var l=c._fulfill,f=c._reject,p=0,d=e.length;p<d;++p){var h=e[p];(void 0!==h||p in e)&&t.cast(h)._then(l,f,void 0,c,null)}return c}t.race=function(e){return s(e,void 0)},t.prototype.race=function(){return s(this,void 0)}}},{"./util.js":38}],30:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o){var a=t._getDomain,s=e("./async.js"),u=e("./util.js"),c=u.tryCatch,l=u.errorObj;function f(e,n,r,u){this.constructor$(e),this._promise._captureStackTrace(),this._preservedValues=u===o?[]:null,this._zerothIsAccum=void 0===r,this._gotAccum=!1,this._reducingIndex=this._zerothIsAccum?1:0,this._valuesPhase=void 0;var c=i(r,this._promise),l=!1,f=c instanceof t;f&&((c=c._target())._isPending()?c._proxyPromiseArray(this,-1):c._isFulfilled()?(r=c._value(),this._gotAccum=!0):(this._reject(c._reason()),l=!0)),f||this._zerothIsAccum||(this._gotAccum=!0);var d=a();this._callback=null===d?n:d.bind(n),this._accum=r,l||s.invoke(p,this,void 0)}function p(){this._init$(void 0,-5)}function d(e,t,n,i){if("function"!=typeof t)return r("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var o=new f(e,t,n,i);return o.promise()}u.inherits(f,n),f.prototype._init=function(){},f.prototype._resolveEmptyArray=function(){(this._gotAccum||this._zerothIsAccum)&&this._resolve(null!==this._preservedValues?[]:this._accum)},f.prototype._promiseFulfilled=function(e,n){var r=this._values;r[n]=e;var o,a=this.length(),s=this._preservedValues,u=null!==s,f=this._gotAccum,p=this._valuesPhase;if(!p)for(p=this._valuesPhase=new Array(a),o=0;o<a;++o)p[o]=0;if(o=p[n],0===n&&this._zerothIsAccum?(this._accum=e,this._gotAccum=f=!0,p[n]=0===o?1:2):-1===n?(this._accum=e,this._gotAccum=f=!0):0===o?p[n]=1:(p[n]=2,this._accum=e),f){for(var d,h=this._callback,v=this._promise._boundValue(),y=this._reducingIndex;y<a;++y)if(2!==(o=p[y])){if(1!==o)return;if(e=r[y],this._promise._pushContext(),u?(s.push(e),d=c(h).call(v,e,y,a)):d=c(h).call(v,this._accum,e,y,a),this._promise._popContext(),d===l)return this._reject(d.e);var g=i(d,this._promise);if(g instanceof t){if((g=g._target())._isPending())return p[y]=4,g._proxyPromiseArray(this,y);if(!g._isFulfilled())return this._reject(g._reason());d=g._value()}this._reducingIndex=y+1,this._accum=d}else this._reducingIndex=y+1;this._resolve(u?s:this._accum)}},t.prototype.reduce=function(e,t){return d(this,e,t,null)},t.reduce=function(e,t,n,r){return d(e,t,n,r)}}},{"./async.js":2,"./util.js":38}],31:[function(e,r,i){"use strict";var o,a=e("./util");if(a.isNode&&"undefined"==typeof MutationObserver){var s=n.setImmediate,u=t.nextTick;o=a.isRecentNode?function(e){s.call(n,e)}:function(e){u.call(t,e)}}else"undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&window.navigator.standalone?o="undefined"!=typeof setImmediate?function(e){setImmediate(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")}:(o=function(e){var t=document.createElement("div"),n=new MutationObserver(e);return n.observe(t,{attributes:!0}),function(){t.classList.toggle("foo")}}).isStatic=!0;r.exports=o},{"./util":38}],32:[function(e,t,n){"use strict";t.exports=function(t,n){var r=t.PromiseInspection,i=e("./util.js");function o(e){this.constructor$(e)}i.inherits(o,n),o.prototype._promiseResolved=function(e,t){this._values[e]=t;var n=++this._totalResolved;n>=this._length&&this._resolve(this._values)},o.prototype._promiseFulfilled=function(e,t){var n=new r;n._bitField=268435456,n._settledValue=e,this._promiseResolved(t,n)},o.prototype._promiseRejected=function(e,t){var n=new r;n._bitField=134217728,n._settledValue=e,this._promiseResolved(t,n)},t.settle=function(e){return new o(e).promise()},t.prototype.settle=function(){return new o(this).promise()}}},{"./util.js":38}],33:[function(e,t,n){"use strict";t.exports=function(t,n,r){var i=e("./util.js"),o=e("./errors.js").RangeError,a=e("./errors.js").AggregateError,s=i.isArray;function u(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function c(e,t){if((0|t)!==t||t<0)return r("expecting a positive integer\n\n    See http://goo.gl/1wAmHx\n");var n=new u(e),i=n.promise();return n.setHowMany(t),n.init(),i}i.inherits(u,n),u.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var e=s(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},u.prototype.init=function(){this._initialized=!0,this._init()},u.prototype.setUnwrap=function(){this._unwrap=!0},u.prototype.howMany=function(){return this._howMany},u.prototype.setHowMany=function(e){this._howMany=e},u.prototype._promiseFulfilled=function(e){this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values))},u.prototype._promiseRejected=function(e){if(this._addRejected(e),this.howMany()>this._canPossiblyFulfill()){for(var t=new a,n=this.length();n<this._values.length;++n)t.push(this._values[n]);this._reject(t)}},u.prototype._fulfilled=function(){return this._totalResolved},u.prototype._rejected=function(){return this._values.length-this.length()},u.prototype._addRejected=function(e){this._values.push(e)},u.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},u.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},u.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new o(t)},u.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(e,t){return c(e,t)},t.prototype.some=function(e){return c(this,e)},t._SomePromiseArray=u}},{"./errors.js":13,"./util.js":38}],34:[function(e,t,n){"use strict";t.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValue=e._settledValue):(this._bitField=0,this._settledValue=void 0)}t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return this._settledValue},t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return this._settledValue},t.prototype.isFulfilled=e.prototype._isFulfilled=function(){return(268435456&this._bitField)>0},t.prototype.isRejected=e.prototype._isRejected=function(){return(134217728&this._bitField)>0},t.prototype.isPending=e.prototype._isPending=function(){return 0==(402653184&this._bitField)},t.prototype.isResolved=e.prototype._isResolved=function(){return(402653184&this._bitField)>0},e.prototype.isPending=function(){return this._target()._isPending()},e.prototype.isRejected=function(){return this._target()._isRejected()},e.prototype.isFulfilled=function(){return this._target()._isFulfilled()},e.prototype.isResolved=function(){return this._target()._isResolved()},e.prototype._value=function(){return this._settledValue},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue},e.prototype.value=function(){var e=this._target();if(!e.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return e._settledValue},e.prototype.reason=function(){var e=this._target();if(!e.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return e._unsetRejectionIsUnhandled(),e._settledValue},e.PromiseInspection=t}},{}],35:[function(e,t,n){"use strict";t.exports=function(t,n){var r=e("./util.js"),i=r.errorObj,o=r.isObject;function a(e){return e.then}var s={}.hasOwnProperty;return function(e,u){if(o(e)){if(e instanceof t)return e;if(function(e){return s.call(e,"_promise0")}(e)){var c=new t(n);return e._then(c._fulfillUnchecked,c._rejectUncheckedCheckError,c._progressUnchecked,c,null),c}var l=r.tryCatch(a)(e);if(l===i){u&&u._pushContext();var c=t.reject(l.e);return u&&u._popContext(),c}if("function"==typeof l)return function(e,o,a){var s=new t(n),u=s;a&&a._pushContext(),s._captureStackTrace(),a&&a._popContext();var c=!0,l=r.tryCatch(o).call(e,function(e){s&&(s._resolveCallback(e),s=null)},function(e){s&&(s._rejectCallback(e,c,!0),s=null)},function(e){s&&"function"==typeof s._progress&&s._progress(e)});return c=!1,s&&l===i&&(s._rejectCallback(l.e,!0,!0),s=null),u}(e,l,u)}return e}}},{"./util.js":38}],36:[function(e,t,n){"use strict";t.exports=function(t,n){var r=e("./util.js"),i=t.TimeoutError,o=function(e){return a(+this).thenReturn(e)},a=t.delay=function(e,r){if(void 0===r){r=e,e=void 0;var i=new t(n);return setTimeout(function(){i._fulfill()},r),i}return r=+r,t.resolve(e)._then(o,null,null,r,void 0)};function s(e){var t=this;return t instanceof Number&&(t=+t),clearTimeout(t),e}function u(e){var t=this;throw t instanceof Number&&(t=+t),clearTimeout(t),e}t.prototype.delay=function(e){return a(this,e)},t.prototype.timeout=function(e,t){e=+e;var n=this.then().cancellable();n._cancellationParent=this;var o=setTimeout(function(){!function(e,t){var n;e.isPending()&&(!r.isPrimitive(t)&&t instanceof Error?n=t:("string"!=typeof t&&(t="operation timed out"),n=new i(t)),r.markAsOriginatingFromRejection(n),e._attachExtraTrace(n),e._cancel(n))}(n,t)},e);return n._then(s,u,void 0,o,void 0)}}},{"./util.js":38}],37:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){var o=e("./errors.js").TypeError,a=e("./util.js").inherits,s=t.PromiseInspection;function u(e){for(var n=e.length,r=0;r<n;++r){var i=e[r];if(i.isRejected())return t.reject(i.error());e[r]=i._settledValue}return e}function c(e){setTimeout(function(){throw e},0)}function l(e,n){var i=0,o=e.length,a=t.defer();return function s(){if(i>=o)return a.resolve();var u=function(e){var t=r(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}(e[i++]);if(u instanceof t&&u._isDisposable()){try{u=r(u._getDisposer().tryDispose(n),e.promise)}catch(e){return c(e)}if(u instanceof t)return u._then(s,c,null,null,null)}s()}(),a.promise}function f(e){var t=new s;return t._settledValue=e,t._bitField=268435456,l(this,t).thenReturn(e)}function p(e){var t=new s;return t._settledValue=e,t._bitField=134217728,l(this,t).thenThrow(e)}function d(e,t,n){this._data=e,this._promise=t,this._context=n}function h(e,t,n){this.constructor$(e,t,n)}function v(e){return d.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}d.prototype.data=function(){return this._data},d.prototype.promise=function(){return this._promise},d.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():null},d.prototype.tryDispose=function(e){var t=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=null!==t?this.doDispose(t,e):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},d.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},a(h,d),h.prototype.doDispose=function(e,t){var n=this.data();return n.call(e,e,t)},t.using=function(){var e=arguments.length;if(e<2)return n("you must pass at least 2 arguments to Promise.using");var i,o=arguments[e-1];if("function"!=typeof o)return n("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var a=!0;2===e&&Array.isArray(arguments[0])?(i=arguments[0],e=i.length,a=!1):(i=arguments,e--);for(var s=new Array(e),c=0;c<e;++c){var l=i[c];if(d.isDisposer(l)){var h=l;(l=l.promise())._setDisposable(h)}else{var y=r(l);y instanceof t&&(l=y._then(v,null,null,{resources:s,index:c},void 0))}s[c]=l}var g=t.settle(s).then(u).then(function(e){var t;g._pushContext();try{t=a?o.apply(void 0,e):o.call(void 0,e)}finally{g._popContext()}return t})._then(f,p,void 0,s,void 0);return s.promise=g,g},t.prototype._setDisposable=function(e){this._bitField=262144|this._bitField,this._disposer=e},t.prototype._isDisposable=function(){return(262144&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=-262145&this._bitField,this._disposer=void 0},t.prototype.disposer=function(e){if("function"==typeof e)return new h(e,this,i());throw new o}}},{"./errors.js":13,"./util.js":38}],38:[function(e,n,r){"use strict";var i=e("./es5.js"),o="undefined"==typeof navigator,a=function(){try{var e={};return i.defineProperty(e,"f",{get:function(){return 3}}),3===e.f}catch(e){return!1}}(),s={e:{}},u;function c(){try{var e=u;return u=null,e.apply(this,arguments)}catch(e){return s.e=e,s}}function l(e){return u=e,c}var f=function(e,t){var n={}.hasOwnProperty;function r(){for(var r in this.constructor=e,this.constructor$=t,t.prototype)n.call(t.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=t.prototype[r])}return r.prototype=t.prototype,e.prototype=new r,e.prototype};function p(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}function d(e){return!p(e)}function h(e){return p(e)?new Error(C(e)):e}function v(e,t){var n,r=e.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=e[n];return i[n]=t,i}function y(e,t,n){if(!i.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var r=Object.getOwnPropertyDescriptor(e,t);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function g(e,t,n){if(p(e))return e;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return i.defineProperty(e,t,r),e}function m(e){throw e}var _=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1};if(i.isES5){var n=Object.getOwnPropertyNames;return function(e){for(var r=[],o=Object.create(null);null!=e&&!t(e);){var a;try{a=n(e)}catch(e){return r}for(var s=0;s<a.length;++s){var u=a[s];if(!o[u]){o[u]=!0;var c=Object.getOwnPropertyDescriptor(e,u);null!=c&&null==c.get&&null==c.set&&r.push(u)}}e=i.getPrototypeOf(e)}return r}}var r={}.hasOwnProperty;return function(n){if(t(n))return[];var i=[];e:for(var o in n)if(r.call(n,o))i.push(o);else{for(var a=0;a<e.length;++a)if(r.call(e[a],o))continue e;i.push(o)}return i}}(),b=/this\s*\.\s*\S+\s*=/;function w(e){try{if("function"==typeof e){var t=i.names(e.prototype),n=i.isES5&&t.length>1,r=t.length>0&&!(1===t.length&&"constructor"===t[0]),o=b.test(e+"")&&i.names(e).length>0;if(n||r||o)return!0}return!1}catch(e){return!1}}function k(e){function t(){}t.prototype=e;for(var n=8;n--;)new t;return e}var E=/^[a-z$_][a-z$_0-9]*$/i;function S(e){return E.test(e)}function T(e,t,n){for(var r=new Array(e),i=0;i<e;++i)r[i]=t+i+n;return r}function C(e){try{return e+""}catch(e){return"[no string representation]"}}function x(e){try{g(e,"isOperational",!0)}catch(e){}}function O(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)}function P(e){return e instanceof Error&&i.propertyIsWritable(e,"stack")}var A="stack"in new Error?function(e){return P(e)?e:new Error(C(e))}:function(e){if(P(e))return e;try{throw new Error(C(e))}catch(e){return e}};function j(e){return{}.toString.call(e)}function R(e,t,n){for(var r=i.names(e),o=0;o<r.length;++o){var a=r[o];if(n(a))try{i.defineProperty(t,a,i.getDescriptor(e,a))}catch(e){}}}var I={isClass:w,isIdentifier:S,inheritedDataKeys:_,getDataPropertyOrDefault:y,thrower:m,isArray:i.isArray,haveGetters:a,notEnumerableProp:g,isPrimitive:p,isObject:d,canEvaluate:o,errorObj:s,tryCatch:l,inherits:f,withAppended:v,maybeWrapAsError:h,toFastProperties:k,filledRange:T,toString:C,canAttachTrace:P,ensureErrorObject:A,originatesFromRejection:O,markAsOriginatingFromRejection:x,classString:j,copyDescriptors:R,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:void 0!==t&&"[object process]"===j(t).toLowerCase()},L;I.isRecentNode=I.isNode&&(L=t.versions.node.split(".").map(Number),0===L[0]&&L[1]>10||L[0]>0),I.isNode&&I.toFastProperties(t);try{throw new Error}catch(e){I.lastLineError=e}n.exports=I},{"./es5.js":14}]},{},[4])(4)}(),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this,n(18),n(12))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var r=n(76),i=n(54),o=n(75),a=n(122),s="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent);function u(e){if(s){var t=e.node,n=e.children;if(n.length)for(var r=0;r<n.length;r++)c(t,n[r],null);else null!=e.html?i(t,e.html):null!=e.text&&a(t,e.text)}}var c=o(function(e,t,n){11===t.node.nodeType||1===t.node.nodeType&&"object"===t.node.nodeName.toLowerCase()&&(null==t.node.namespaceURI||t.node.namespaceURI===r.html)?(u(t),e.insertBefore(t.node,n)):(e.insertBefore(t.node,n),u(t))});function l(){return this.node.nodeName}function f(e){return{node:e,children:[],html:null,text:null,toString:l}}f.insertTreeBefore=c,f.replaceChildWithTree=function(e,t){e.parentNode.replaceChild(t.node,e),u(t)},f.queueChild=function(e,t){s?e.children.push(t):e.node.appendChild(t.node)},f.queueHTML=function(e,t){s?e.html=t:i(e.node,t)},f.queueText=function(e,t){s?e.text=t:a(e.node,t)},e.exports=f},function(e,t,n){"use strict";var r=n(273);n(15),n(4);function i(){r.attachRefs(this,this._currentElement)}var o={mountComponent:function(e,t,n,r,o,a){var s=e.mountComponent(t,n,r,o,a);return e._currentElement&&null!=e._currentElement.ref&&t.getReactMountReady().enqueue(i,e),s},getHostNode:function(e){return e.getHostNode()},unmountComponent:function(e,t){r.detachRefs(e,e._currentElement),e.unmountComponent(t)},receiveComponent:function(e,t,n,o){var a=e._currentElement;if(t!==a||o!==e._context){0;var s=r.shouldUpdateRefs(a,t);s&&r.detachRefs(e,a),e.receiveComponent(t,n,o),s&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(i,e)}},performUpdateIfNecessary:function(e,t,n){e._updateBatchNumber===n&&e.performUpdateIfNecessary(t)}};e.exports=o},function(e,t,n){"use strict";var r=n(3);n(2);function i(e,t){return(e&t)===t}var o={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var t=o,n=e.Properties||{},a=e.DOMAttributeNamespaces||{},u=e.DOMAttributeNames||{},c=e.DOMPropertyNames||{},l=e.DOMMutationMethods||{};for(var f in e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute),n){s.properties.hasOwnProperty(f)&&r("48",f);var p=f.toLowerCase(),d=n[f],h={attributeName:p,attributeNamespace:null,propertyName:f,mutationMethod:null,mustUseProperty:i(d,t.MUST_USE_PROPERTY),hasBooleanValue:i(d,t.HAS_BOOLEAN_VALUE),hasNumericValue:i(d,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:i(d,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:i(d,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(h.hasBooleanValue+h.hasNumericValue+h.hasOverloadedBooleanValue<=1||r("50",f),u.hasOwnProperty(f)){var v=u[f];h.attributeName=v}a.hasOwnProperty(f)&&(h.attributeNamespace=a[f]),c.hasOwnProperty(f)&&(h.propertyName=c[f]),l.hasOwnProperty(f)&&(h.mutationMethod=l[f]),s.properties[f]=h}}},a=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:a,ATTRIBUTE_NAME_CHAR:a+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++){if((0,s._isCustomAttributeFunctions[t])(e))return!0}return!1},injection:o};e.exports=s},function(e,t,n){"use strict";var r=n(5),i=n(21),o=(n(4),n(136),Object.prototype.hasOwnProperty),a=n(135),s={key:!0,ref:!0,__self:!0,__source:!0};function u(e){return void 0!==e.ref}function c(e){return void 0!==e.key}var l=function(e,t,n,r,i,o,s){return{$$typeof:a,type:e,key:t,ref:n,props:s,_owner:o}};l.createElement=function(e,t,n){var r,a={},f=null,p=null;if(null!=t)for(r in u(t)&&(p=t.ref),c(t)&&(f=""+t.key),void 0===t.__self?null:t.__self,void 0===t.__source?null:t.__source,t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);var d=arguments.length-2;if(1===d)a.children=n;else if(d>1){for(var h=Array(d),v=0;v<d;v++)h[v]=arguments[v+2];0,a.children=h}if(e&&e.defaultProps){var y=e.defaultProps;for(r in y)void 0===a[r]&&(a[r]=y[r])}return l(e,f,p,0,0,i.current,a)},l.createFactory=function(e){var t=l.createElement.bind(null,e);return t.type=e,t},l.cloneAndReplaceKey=function(e,t){return l(e.type,t,e.ref,e._self,e._source,e._owner,e.props)},l.cloneElement=function(e,t,n){var a,f,p=r({},e.props),d=e.key,h=e.ref,v=(e._self,e._source,e._owner);if(null!=t)for(a in u(t)&&(h=t.ref,v=i.current),c(t)&&(d=""+t.key),e.type&&e.type.defaultProps&&(f=e.type.defaultProps),t)o.call(t,a)&&!s.hasOwnProperty(a)&&(void 0===t[a]&&void 0!==f?p[a]=f[a]:p[a]=t[a]);var y=arguments.length-2;if(1===y)p.children=n;else if(y>1){for(var g=Array(y),m=0;m<y;m++)g[m]=arguments[m+2];p.children=g}return l(e.type,d,h,0,0,v,p)},l.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===a},e.exports=l},function(e,t,n){"use strict";var r=n(5),i=n(138),o=n(297),a=n(292),s=n(32),u=n(291),c=n(287),l=n(286),f=n(282),p=s.createElement,d=s.createFactory,h=s.cloneElement,v=r,y={Children:{map:o.map,forEach:o.forEach,count:o.count,toArray:o.toArray,only:f},Component:i.Component,PureComponent:i.PureComponent,createElement:p,cloneElement:h,isValidElement:s.isValidElement,PropTypes:u,createClass:l,createFactory:d,createMixin:function(e){return e},DOM:a,version:c,__spread:v};e.exports=y},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r=n(89),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,a,s,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(o(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),a=(c=n.slice()).length,u=0;u<a;u++)c[u].apply(this,s);return!0},n.prototype.addListener=function(e,t){var a;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(a=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},n.prototype.removeListener=function(e,t){var n,o,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(n=this._events[e]).length,o=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){o=s;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},,function(e,t,n){"use strict";var r={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};e.exports=r},function(e,t,n){"use strict";var r=n(20),i=n(80),o={view:function(e){if(e.view)return e.view;var t=i(e);if(t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};function a(e,t,n,i){return r.call(this,e,t,n,i)}r.augmentClass(a,o),e.exports=a},function(e,t,n){"use strict";var r=n(3),i=n(83),o=n(82),a=n(81),s=n(130),u=n(129),c=(n(2),{}),l=null,f=function(e,t){e&&(o.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},p=function(e){return f(e,!0)},d=function(e){return f(e,!1)},h=function(e){return"."+e._rootNodeID};var v={injection:{injectEventPluginOrder:i.injectEventPluginOrder,injectEventPluginsByName:i.injectEventPluginsByName},putListener:function(e,t,n){"function"!=typeof n&&r("94",t,typeof n);var o=h(e);(c[t]||(c[t]={}))[o]=n;var a=i.registrationNameModules[t];a&&a.didPutListener&&a.didPutListener(e,t,n)},getListener:function(e,t){var n=c[t];if(function(e,t,n){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":return!(!n.disabled||(r=t,"button"!==r&&"input"!==r&&"select"!==r&&"textarea"!==r));default:return!1}var r}(t,e._currentElement.type,e._currentElement.props))return null;var r=h(e);return n&&n[r]},deleteListener:function(e,t){var n=i.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var r=c[t];r&&delete r[h(e)]},deleteAllListeners:function(e){var t=h(e);for(var n in c)if(c.hasOwnProperty(n)&&c[n][t]){var r=i.registrationNameModules[n];r&&r.willDeleteListener&&r.willDeleteListener(e,n),delete c[n][t]}},extractEvents:function(e,t,n,r){for(var o,a=i.plugins,u=0;u<a.length;u++){var c=a[u];if(c){var l=c.extractEvents(e,t,n,r);l&&(o=s(o,l))}}return o},enqueueEvents:function(e){e&&(l=s(l,e))},processEventQueue:function(e){var t=l;l=null,u(t,e?p:d),l&&r("95"),a.rethrowCaughtError()},__purge:function(){c={}},__getListenerBank:function(){return c}};e.exports=v},function(e,t,n){"use strict";var r=n(40),i=n(82),o=n(130),a=n(129),s=(n(4),r.getListener);function u(e,t,n){var r=function(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return s(e,r)}(e,n,t);r&&(n._dispatchListeners=o(n._dispatchListeners,r),n._dispatchInstances=o(n._dispatchInstances,e))}function c(e){e&&e.dispatchConfig.phasedRegistrationNames&&i.traverseTwoPhase(e._targetInst,u,e)}function l(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,n=t?i.getParentInstance(t):null;i.traverseTwoPhase(n,u,e)}}function f(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,i=s(e,r);i&&(n._dispatchListeners=o(n._dispatchListeners,i),n._dispatchInstances=o(n._dispatchInstances,e))}}function p(e){e&&e.dispatchConfig.registrationName&&f(e._targetInst,0,e)}var d={accumulateTwoPhaseDispatches:function(e){a(e,c)},accumulateTwoPhaseDispatchesSkipTarget:function(e){a(e,l)},accumulateDirectDispatches:function(e){a(e,p)},accumulateEnterLeaveDispatches:function(e,t,n,r){i.traverseEnterLeave(n,r,f,e,t)}};e.exports=d},function(e,t,n){"use strict";e.exports=function(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var i=new Error(n);throw i.name="Invariant Violation",i.framesToPop=1,i}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var r=n(62),i=n(146),o=n(145),a="[object Null]",s="[object Undefined]",u=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:a:u&&u in Object(e)?i(e):o(e)}},function(e,t,n){var r=n(22),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),o(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";n.r(t);var r=n(26),i=n(61),o=n.n(i),a={INIT:"@@redux/INIT"};function s(e,t,n){var i;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(s)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var u=e,c=t,l=[],f=l,p=!1;function d(){f===l&&(f=l.slice())}function h(){return c}function v(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return d(),f.push(e),function(){if(t){t=!1,d();var n=f.indexOf(e);f.splice(n,1)}}}function y(e){if(!Object(r.a)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(p)throw new Error("Reducers may not dispatch actions.");try{p=!0,c=u(c,e)}finally{p=!1}for(var t=l=f,n=0;n<t.length;n++){(0,t[n])()}return e}return y({type:a.INIT}),(i={dispatch:y,subscribe:v,getState:h,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");u=e,y({type:a.INIT})}})[o.a]=function(){var e,t=v;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(h())}return n(),{unsubscribe:t(n)}}})[o.a]=function(){return this},e},i}function u(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function c(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"==typeof e[i]&&(n[i]=e[i])}var o=Object.keys(n);var s=void 0;try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:a.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(e){s=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(s)throw s;for(var r=!1,i={},a=0;a<o.length;a++){var c=o[a],l=n[c],f=e[c],p=l(f,t);if(void 0===p){var d=u(c,t);throw new Error(d)}i[c]=p,r=r||p!==f}return r?i:e}}function l(e,t){return function(){return t(e.apply(void 0,arguments))}}function f(e,t){if("function"==typeof e)return l(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),r={},i=0;i<n.length;i++){var o=n[i],a=e[o];"function"==typeof a&&(r[o]=l(a,t))}return r}function p(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function h(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,i){var o,a=e(n,r,i),s=a.dispatch,u={getState:a.getState,dispatch:function(e){return s(e)}};return o=t.map(function(e){return e(u)}),s=p.apply(void 0,o)(a.dispatch),d({},a,{dispatch:s})}}}n.d(t,"createStore",function(){return s}),n.d(t,"combineReducers",function(){return c}),n.d(t,"bindActionCreators",function(){return f}),n.d(t,"applyMiddleware",function(){return h}),n.d(t,"compose",function(){return p})},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return new o.default((r,i)=>{t=t||1e3;const o=Math.pow(2,n)*t,s=new a.ExponentialBackoff({min:t,max:o,factor:2,jitter:.5});!function t(){n--;e().then(r,e=>{0!==n?setTimeout(t,s.next()):i(e)})}()})};var r,i=n(27),o=(r=i)&&r.__esModule?r:{default:r},a=n(322);e.exports=t.default},function(e,t,n){"use strict";var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var s=n(102),u=s.typeErrors,c=s.trackPriority,l=n(87);function f(e,t,n,r){if(!(r in t||r.match(/^on[a-z]+$/))){var o=void 0;try{o=i(e[r])}catch(e){}"function"===o&&(t[r]=function(){var e;return(e=this[n])[r].apply(e,arguments)})}}function p(e){Object.getOwnPropertyNames(e).forEach(function(t){t.startsWith("_")&&d(e,t)})}function d(e,t){var n=Object.getOwnPropertyDescriptor(e,t);n.enumerable=!1,Object.defineProperty(e,t,n)}function h(e){return e.map(v)}function v(e){return Array.isArray(e)?h(e):e instanceof Set?h([].concat(a(e))):e instanceof Map?[].concat(a(e.entries())).reduce(function(e,t){var n=r(t,2),i=n[0],a=n[1];return Object.assign(o({},i,v(a)),e)},{}):e&&"object"===(void 0===e?"undefined":i(e))?(t=e,Object.entries(t).reduce(function(e,t){var n=r(t,2),i=n[0],a=n[1];return Object.assign(o({},i,v(a)),e)},{})):e;var t}function y(e){return _(e,[{prop:"dominantSpeakerPriority",type:"string",payloadProp:"active_speaker_priority"},{prop:"maxSubscriptionBitrate",type:"number",payloadProp:"max_subscription_bandwidth"},{prop:"maxTracks",type:"number",payloadProp:"max_tracks"},{prop:"mode",type:"string"},{prop:"renderDimensions",type:"object",payloadProp:"render_dimensions",transform:m},{prop:"trackSwitchOffMode",type:"string",payloadProp:"track_switch_off"}])}function g(e){return _(e,[{prop:"height",type:"number"},{prop:"width",type:"number"}])}function m(e){return _(e,[{prop:c.PRIORITY_HIGH,type:"object",transform:g},{prop:c.PRIORITY_LOW,type:"object",transform:g},{prop:c.PRIORITY_STANDARD,type:"object",transform:g}])}function _(e,t){return t.reduce(function(t,n){var r=n.prop,a=n.type,s=n.payloadProp,u=void 0===s?r:s,c=n.transform,l=void 0===c?function(e){return e}:c;return i(e[r])===a?Object.assign(o({},u,l(e[r])),t):t},{})}t.constants=s,t.createBandwidthProfilePayload=function(e){return _(e,[{prop:"video",type:"object",transform:y}])},t.createMediaSignalingPayload=function(e,t,n,r){var i={transports:[{type:"data-channel"}]};return Object.assign(e?{active_speaker:i}:{},t?{network_quality:i}:{},n?{track_priority:i}:{},r?{track_switch_off:i}:{})},t.createSubscribePayload=function(e){return{rules:[{type:e?"include":"exclude",all:!0}],revision:1}},t.asLocalTrack=function(e,t){if(e instanceof t.LocalAudioTrack||e instanceof t.LocalVideoTrack||e instanceof t.LocalDataTrack)return e;if(e instanceof t.MediaStreamTrack)return"audio"===e.kind?new t.LocalAudioTrack(e,t):new t.LocalVideoTrack(e,t);throw u.INVALID_TYPE("track","LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack")},t.asLocalTrackPublication=function(e,t,n,r){return new(0,{audio:r.LocalAudioTrackPublication,video:r.LocalVideoTrackPublication,data:r.LocalDataTrackPublication}[e.kind])(t,e,n,r)},t.capitalize=function(e){return e[0].toUpperCase()+e.slice(1)},t.deprecateEvents=function(e,t,n,r){var i=new Set;t.on("newListener",function o(a){n.has(a)&&!i.has(a)&&(r.deprecated(e+"#"+a+" has been deprecated and scheduled for removal in twilio-video.js@2.0.0."+(n.get(a)?" Use "+e+"#"+n.get(a)+" instead.":"")),i.add(a)),i.size>=n.size&&t.removeListener("newListener",o)})},t.difference=function(e,t){e=Array.isArray(e)?new Set(e):new Set(e.values()),t=Array.isArray(t)?new Set(t):new Set(t.values());var n=new Set;return e.forEach(function(e){t.has(e)||n.add(e)}),n},t.filterObject=function(e,t){return Object.keys(e).reduce(function(n,r){return e[r]!==t&&(n[r]=e[r]),n},{})},t.flatMap=function(e,t){var n=e instanceof Map||e instanceof Set?Array.from(e.values()):e;return t=t||function(e){return e},n.reduce(function(e,n){var r=t(n);return e.concat(r)},[])},t.getUserAgent=function(){return"undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent:"Unknown"},t.hidePrivateProperties=p,t.hidePrivateAndCertainPublicPropertiesInClass=function(e,t){return function(n){function r(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(i)));return p(a),function(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach(function(t){e.hasOwnProperty(t)&&d(e,t)})}(a,t),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,e),r}()},t.isDeepEqual=function e(t,n){if(t===n)return!0;if((void 0===t?"undefined":i(t))!==(void 0===n?"undefined":i(n)))return!1;if(null===t)return null===n;if(null===n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every(function(t,r){return e(t,n[r])});if("object"===(void 0===t?"undefined":i(t))){var r=Object.keys(t).sort(),o=Object.keys(n).sort();return!Array.isArray(n)&&e(r,o)&&r.every(function(r){return e(t[r],n[r])})}return!1},t.isNonArrayObject=function(e){return"object"===(void 0===e?"undefined":i(e))&&!Array.isArray(e)},t.inRange=function(e,t,n){return t<=e&&e<=n},t.makeUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},t.oncePerTick=function(e){var t=null;function n(){t=null,e()}return function(){t&&clearTimeout(t),t=setTimeout(n)}},t.promiseFromEvents=function(e,t,n,r){return new Promise(function(i,o){function s(){var e=[].slice.call(arguments);r&&t.removeListener(r,u),i.apply(void 0,a(e))}function u(){var e=[].slice.call(arguments);t.removeListener(n,s),o.apply(void 0,a(e))}t.once(n,s),r&&t.once(r,u),e()})},t.getOrNull=function(e,t){return t.split(".").reduce(function(e,t){return e?e[t]:null},e)},t.defer=function(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e},t.delegateMethods=function(e,t,n){for(var r in e)f(e,t,n,r)},t.proxyProperties=function(e,t,n){Object.getOwnPropertyNames(e).forEach(function(e){!function(e,t,n,r){if(!(r in t))r.match(/^on[a-z]+$/)?(Object.defineProperty(t,r,{value:null,writable:!0}),n.addEventListener(r.slice(2),function(){t.dispatchEvent.apply(t,arguments)})):Object.defineProperty(t,r,{enumerable:!0,get:function(){return n[r]}})}(0,t,n,e)})},t.legacyPromise=function(e,t,n){return t?e.then(function(e){t(e)},function(e){n(e)}):e},t.buildLogLevels=function(e){return"string"==typeof e?{default:e,media:e,signaling:e,webrtc:e}:e},t.trackClass=function(e,t){return(t=t?"Local":"")+(e.kind||"").replace(/\w{1}/,function(e){return e.toUpperCase()})+"Track"},t.trackPublicationClass=function(e,t){return(t=t?"Local":"")+(e.kind||"").replace(/\w{1}/,function(e){return e.toUpperCase()})+"TrackPublication"},t.valueToJSON=v,t.withJitter=function(e,t){var n=Math.random();return e-t+Math.floor(2*t*n+.5)},t.isChromeScreenShareTrack=function(e){return"chrome"===l.guessBrowser()&&"video"===e.kind&&e.label&&(/^screen:[0-9]+/.test(e.label)||/^web-contents-media-stream:[0-9/]+/.test(e.label)||/^window:[0-9]+/.test(e.label))},t.waitForSometime=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return new Promise(function(t){return setTimeout(t,e)})},t.waitForEvent=function(e,t){return new Promise(function(n){e.addEventListener(t,function r(i){e.removeEventListener(t,r),n(i)})})}},function(e,t,n){(function(e,r){var i=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(e).replace(i,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),u=r[n];n<o;u=r[++n])v(u)||!b(u)?a+=" "+u:a+=" "+s(u);return a},t.deprecate=function(n,i){if(m(e.process))return function(){return t.deprecate(n,i).apply(this,arguments)};if(!0===r.noDeprecation)return n;var o=!1;return function(){if(!o){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),o=!0}return n.apply(this,arguments)}};var o,a={};function s(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&t._extend(r,n),m(r.showHidden)&&(r.showHidden=!1),m(r.depth)&&(r.depth=2),m(r.colors)&&(r.colors=!1),m(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),l(r,e,r.depth)}function u(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function c(e,t){return e}function l(e,n,r){if(e.customInspect&&n&&E(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return g(i)||(i=l(e,i,r)),i}var o=function(e,t){if(m(t))return e.stylize("undefined","undefined");if(g(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(y(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(v(t))return e.stylize("null","null")}(e,n);if(o)return o;var a=Object.keys(n),s=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),k(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(n);if(0===a.length){if(E(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(_(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return e.stylize(Date.prototype.toString.call(n),"date");if(k(n))return f(n)}var c,b="",S=!1,T=["{","}"];(d(n)&&(S=!0,T=["[","]"]),E(n))&&(b=" [Function"+(n.name?": "+n.name:"")+"]");return _(n)&&(b=" "+RegExp.prototype.toString.call(n)),w(n)&&(b=" "+Date.prototype.toUTCString.call(n)),k(n)&&(b=" "+f(n)),0!==a.length||S&&0!=n.length?r<0?_(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=S?function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)x(t,String(a))?o.push(p(e,t,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(p(e,t,n,r,i,!0))}),o}(e,n,r,s,a):a.map(function(t){return p(e,n,r,s,t,S)}),e.seen.pop(),function(e,t,n){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(c,b,T)):T[0]+b+T[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),x(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=v(n)?l(e,u.value,null):l(e,u.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),m(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function d(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function v(e){return null===e}function y(e){return"number"==typeof e}function g(e){return"string"==typeof e}function m(e){return void 0===e}function _(e){return b(e)&&"[object RegExp]"===S(e)}function b(e){return"object"==typeof e&&null!==e}function w(e){return b(e)&&"[object Date]"===S(e)}function k(e){return b(e)&&("[object Error]"===S(e)||e instanceof Error)}function E(e){return"function"==typeof e}function S(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(m(o)&&(o=Object({NODE_ENV:"production",TEST:void 0,LOG:"off",account:"https://account.goguardian.com",gatekeeper:"https://gatekeeper.goguardian.com",scribe:"https://agreements.goguardian.com/#/agree",floorWarden:"https://floor-warden.goguardian.com",magicHat:"https://signup.goguardian.com",adminV1:"https://goguardian.com",dashApi:"https://dashapi.goguardian.com",cortana:"https://cortana.goguardian.com",masterchief:"https://admin.goguardian.com",presenter:"https://x3-presenter.goguardian.com",x3Ui:"https://smart-alerts.goguardian.com",x3Predictor:"https://x3-predictor.goguardian.com",policyMaker:"https://x3-policy-maker.goguardian.com",reporter:"https://x3-reporter.goguardian.com",beaconFullpagePredictor:"https://beacon-fullpage-predictor.goguardian.com",mlEndpoint:"https://ml-endpoint.goguardian.com",tivan:"https://tivan.goguardian.com",dunce:"https://dunce.goguardian.com",chalkboard:"https://chalkboard.goguardian.com",enroll:"https://enroll.goguardian.com",extScreenshots:"https://screenshots.goguardian.com",inquisition:"https://inquisition.goguardian.com",snapper:"https://snapper.goguardian.com",teacher:"https://teacher.goguardian.com",offTaskAlerts:"https://taskiness-preprocessor.goguardian.com",scenesBlockPageUrl:"https://student.goguardian.com/teacher/blocked.html",blessUp:"https://director.goguardian.com",bigChune:"https://big-go-chune.goguardian.com",fleetApi:"https://fleet-api.goguardian.com",fleetUi:"https://fleet.goguardian.com",extapi:"https://extapi.goguardian.com",metrics:"https://countvoncount.goguardian.com",panther:"https://panther.goguardian.com",playButton:"https://play-button.goguardian.com",present:"https://rollcall.goguardian.com",quiddity:"https://quiddity.goguardian.com",shinkansen:"http://api.shinkansen.internal.goguardian.com",snat:"https://snat.goguardian.com",waluigi:"https://waluigi.goguardian.com",kingsHand:"https://kings-hand.goguardian.com",throneRoom:"https://manage.goguardian.com",beaconUI:"https://beacon.goguardian.com",landing:"https://www.goguardian.com",static:"https://static.goguardian.com",merchant:"https://merchant.goguardian.com",shylock:"https://shylock.goguardian.com",harambe:"https://harambe.goguardian.com",polyjuiceApi:"https://polyjuice-api.goguardian.com",potatoApi:"https://potato-juice.goguardian.com",supportApi:"https://support-api.goguardian.com",supportDashboard:"https://support-tools.goguardian.com",theftRecoveryApi:"https://theft-recovery.goguardian.com",courier:"",checkup:"https://checkup.goguardian.com",experiments:"https://experiments-api.goguardian.com"}).NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var n=r.pid;a[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else a[e]=function(){};return a[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=h,t.isNull=v,t.isNullOrUndefined=function(e){return null==e},t.isNumber=y,t.isString=g,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=m,t.isRegExp=_,t.isObject=b,t.isDate=w,t.isError=k,t.isFunction=E,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(343);var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,n;console.log("%s - %s",(e=new Date,n=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":"),[e.getDate(),C[e.getMonth()],n].join(" ")),t.format.apply(t,arguments))},t.inherits=n(342),t._extend=function(e,t){if(!t||!b(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,n(12),n(18))},,function(e,t,n){"use strict";var r,i=n(5),o=n(83),a=n(252),s=n(123),u=n(251),c=n(79),l={},f=!1,p=0,d={topAbort:"abort",topAnimationEnd:u("animationend")||"animationend",topAnimationIteration:u("animationiteration")||"animationiteration",topAnimationStart:u("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:u("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},h="_reactListenersID"+String(Math.random()).slice(2);var v=i({},a,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(v.handleTopLevel),v.ReactEventListener=e}},setEnabled:function(e){v.ReactEventListener&&v.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!v.ReactEventListener||!v.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,r=function(e){return Object.prototype.hasOwnProperty.call(e,h)||(e[h]=p++,l[e[h]]={}),l[e[h]]}(n),i=o.registrationNameDependencies[e],a=0;a<i.length;a++){var s=i[a];r.hasOwnProperty(s)&&r[s]||("topWheel"===s?c("wheel")?v.ReactEventListener.trapBubbledEvent("topWheel","wheel",n):c("mousewheel")?v.ReactEventListener.trapBubbledEvent("topWheel","mousewheel",n):v.ReactEventListener.trapBubbledEvent("topWheel","DOMMouseScroll",n):"topScroll"===s?c("scroll",!0)?v.ReactEventListener.trapCapturedEvent("topScroll","scroll",n):v.ReactEventListener.trapBubbledEvent("topScroll","scroll",v.ReactEventListener.WINDOW_HANDLE):"topFocus"===s||"topBlur"===s?(c("focus",!0)?(v.ReactEventListener.trapCapturedEvent("topFocus","focus",n),v.ReactEventListener.trapCapturedEvent("topBlur","blur",n)):c("focusin")&&(v.ReactEventListener.trapBubbledEvent("topFocus","focusin",n),v.ReactEventListener.trapBubbledEvent("topBlur","focusout",n)),r.topBlur=!0,r.topFocus=!0):d.hasOwnProperty(s)&&v.ReactEventListener.trapBubbledEvent(s,d[s],n),r[s]=!0)}},trapBubbledEvent:function(e,t,n){return v.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return v.ReactEventListener.trapCapturedEvent(e,t,n)},supportsEventPageXY:function(){if(!document.createEvent)return!1;var e=document.createEvent("MouseEvent");return null!=e&&"pageX"in e},ensureScrollValueMonitoring:function(){if(void 0===r&&(r=v.supportsEventPageXY()),!r&&!f){var e=s.refreshScrollValues;v.ReactEventListener.monitorScrollValue(e),f=!0}}});e.exports=v},function(e,t,n){"use strict";var r=/["'&<>]/;e.exports=function(e){return"boolean"==typeof e||"number"==typeof e?""+e:function(e){var t,n=""+e,i=r.exec(n);if(!i)return n;var o="",a=0,s=0;for(a=i.index;a<n.length;a++){switch(n.charCodeAt(a)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}s!==a&&(o+=n.substring(s,a)),s=a+1,o+=t}return s!==a?o+n.substring(s,a):o}(e)}},function(e,t,n){"use strict";var r,i=n(11),o=n(76),a=/^[ \r\n\t\f]/,s=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,u=n(75)(function(e,t){if(e.namespaceURI!==o.svg||"innerHTML"in e)e.innerHTML=t;else{(r=r||document.createElement("div")).innerHTML="<svg>"+t+"</svg>";for(var n=r.firstChild;n.firstChild;)e.appendChild(n.firstChild)}});if(i.canUseDOM){var c=document.createElement("div");c.innerHTML=" ",""===c.innerHTML&&(u=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),a.test(t)||"<"===t[0]&&s.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t}),c=null}e.exports=u},function(e,t,n){"use strict";var r=n(39),i=n(123),o={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:n(78),button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+i.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+i.currentScrollTop}};function a(e,t,n,i){return r.call(this,e,t,n,i)}r.augmentClass(a,o),e.exports=a},function(e,t,n){"use strict";var r=n(3),i=(n(2),{}),o={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,i,o,a,s,u){var c,l;this.isInTransaction()&&r("27");try{this._isInTransaction=!0,c=!0,this.initializeAll(0),l=e.call(t,n,i,o,a,s,u),c=!1}finally{try{if(c)try{this.closeAll(0)}catch(e){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return l},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=i,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===i)try{this.initializeAll(n+1)}catch(e){}}}},closeAll:function(e){this.isInTransaction()||r("28");for(var t=this.transactionWrappers,n=e;n<t.length;n++){var o,a=t[n],s=this.wrapperInitData[n];try{o=!0,s!==i&&a.close&&a.close.call(this,s),o=!1}finally{if(o)try{this.closeAll(n+1)}catch(e){}}}this.wrapperInitData.length=0}};e.exports=o},,function(e,t,n){"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;(u=new Error(t.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(){this.tasks={},this.timers={},this.activeIntervals={}}register(e,t,n){this.tasks[t]&&this.timers[t]&&this.activeIntervals[t]===n||(clearInterval(this.timers[t]),delete this.timers[t],this.tasks[t]=e,this.timers[t]=setInterval(this.tasks[t],n),this.activeIntervals[t]=n)}unregister(e){clearInterval(this.timers[e]),delete this.tasks[e],delete this.timers[e],delete this.activeIntervals[e]}isRegistered(e){return e in this.tasks}}t.TaskManager=r,t.default=new r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DISPATCH_TYPE="chromex.dispatch",t.STATE_TYPE="chromex.state",t.PATCH_STATE_TYPE="chromex.patch_state",t.DIFF_STATUS_UPDATED="updated",t.DIFF_STATUS_REMOVED="removed"},function(e,t,n){e.exports=n(194)},function(e,t,n){var r=n(35).Symbol;e.exports=r},,function(e,t,n){var r,i,o={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),s=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),u=null,c=0,l=[],f=n(204);function p(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(m(r.parts[a],t))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(m(r.parts[a],t));o[r.id]={id:r.id,refs:1,parts:s}}}}function d(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function h(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=l[l.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),l.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=s(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,i)}}function v(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function y(e){var t=document.createElement("style");return e.attrs.type="text/css",g(t,e.attrs),h(e,t),t}function g(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function m(e,t){var n,r,i,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var a=c++;n=u||(u=y(t)),r=w.bind(null,n,a,!1),i=w.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",g(t,e.attrs),h(e,t),t}(t),r=function(e,t,n){var r=n.css,i=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(r=f(r));i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),i=function(){v(n),n.href&&URL.revokeObjectURL(n.href)}):(n=y(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){v(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=d(e,t);return p(n,t),function(e){for(var r=[],i=0;i<n.length;i++){var a=n[i];(s=o[a.id]).refs--,r.push(s)}e&&p(d(e,t),t);for(i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete o[s.id]}}}};var _,b=(_=[],function(e,t){return _[e]=t,_.filter(Boolean).join("\n")});function w(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=b(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(o).concat([i]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},,function(e,t,n){"use strict";e.exports=function(e){var t,n=e.keyCode;return"charCode"in e?0===(t=e.charCode)&&13===n&&(t=13):t=n,t>=32||13===t?t:0}},function(e,t,n){"use strict";n(5);var r=n(17),i=(n(4),r);e.exports=i},function(e,t,n){"use strict";var r=n(3),i=(n(21),n(38)),o=(n(15),n(16));n(2),n(4);function a(e){o.enqueueUpdate(e)}function s(e,t){var n=i.get(e);return n||null}var u={isMounted:function(e){var t=i.get(e);return!!t&&!!t._renderedComponent},enqueueCallback:function(e,t,n){u.validateCallback(t,n);var r=s(e);if(!r)return null;r._pendingCallbacks?r._pendingCallbacks.push(t):r._pendingCallbacks=[t],a(r)},enqueueCallbackInternal:function(e,t){e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],a(e)},enqueueForceUpdate:function(e){var t=s(e);t&&(t._pendingForceUpdate=!0,a(t))},enqueueReplaceState:function(e,t,n){var r=s(e);r&&(r._pendingStateQueue=[t],r._pendingReplaceState=!0,void 0!==n&&null!==n&&(u.validateCallback(n,"replaceState"),r._pendingCallbacks?r._pendingCallbacks.push(n):r._pendingCallbacks=[n]),a(r))},enqueueSetState:function(e,t){var n=s(e);n&&((n._pendingStateQueue||(n._pendingStateQueue=[])).push(t),a(n))},enqueueElementInternal:function(e,t,n){e._pendingElement=t,e._context=n,a(e)},validateCallback:function(e,t){e&&"function"!=typeof e&&r("122",t,function(e){var t=typeof e;if("object"!==t)return t;var n=e.constructor&&e.constructor.name||t,r=Object.keys(e);return r.length>0&&r.length<20?n+" (keys: "+r.join(", ")+")":n}(e))}};e.exports=u},function(e,t,n){"use strict";var r={escape:function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})},unescape:function(e){var t={"=0":"=","=2":":"};return(""+("."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1))).replace(/(=0|=2)/g,function(e){return t[e]})}};e.exports=r},function(e,t,n){"use strict";e.exports=function(e,t){var n=null===e||!1===e,r=null===t||!1===t;if(n||r)return n===r;var i=typeof e,o=typeof t;return"string"===i||"number"===i?"string"===o||"number"===o:"object"===o&&e.type===t.type&&e.key===t.key}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}e.exports=function(e,t){if(i(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++)if(!r.call(t,n[a])||!i(e[n[a]],t[n[a]]))return!1;return!0}},function(e,t,n){"use strict";var r=n(3),i=(n(2),!1),o={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){i&&r("104"),o.replaceNodeWithMarkup=e.replaceNodeWithMarkup,o.processChildrenUpdates=e.processChildrenUpdates,i=!0}}};e.exports=o},function(e,t,n){"use strict";var r=n(3),i=n(249),o=n(134)(n(33).isValidElement),a=(n(2),n(4),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0});function s(e){null!=e.checkedLink&&null!=e.valueLink&&r("87")}function u(e){s(e),(null!=e.value||null!=e.onChange)&&r("88")}function c(e){s(e),(null!=e.checked||null!=e.onChange)&&r("89")}var l={value:function(e,t,n){return!e[t]||a[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:o.func},f={};function p(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var d={checkPropTypes:function(e,t,n){for(var r in l){if(l.hasOwnProperty(r))var o=l[r](t,r,e,"prop",null,i);if(o instanceof Error&&!(o.message in f)){f[o.message]=!0;p(n)}}},getValue:function(e){return e.valueLink?(u(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(c(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(u(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(c(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};e.exports=d},function(e,t,n){"use strict";e.exports=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}},function(e,t,n){"use strict";e.exports={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"}},function(e,t,n){"use strict";var r=n(29),i=n(267),o=(n(6),n(15),n(75)),a=n(54),s=n(122);function u(e,t){return Array.isArray(t)&&(t=t[1]),t?t.nextSibling:e.firstChild}var c=o(function(e,t,n){e.insertBefore(t,n)});function l(e,t,n){r.insertTreeBefore(e,t,n)}function f(e,t,n){Array.isArray(t)?function(e,t,n,r){var i=t;for(;;){var o=i.nextSibling;if(c(e,i,r),i===n)break;i=o}}(e,t[0],t[1],n):c(e,t,n)}function p(e,t){if(Array.isArray(t)){var n=t[1];d(e,t=t[0],n),e.removeChild(n)}e.removeChild(t)}function d(e,t,n){for(;;){var r=t.nextSibling;if(r===n)break;e.removeChild(r)}}var h={dangerouslyReplaceNodeWithMarkup:i.dangerouslyReplaceNodeWithMarkup,replaceDelimitedText:function(e,t,n){var r=e.parentNode,i=e.nextSibling;i===t?n&&c(r,document.createTextNode(n),i):n?(s(i,n),d(r,i,t)):d(r,e,t)},processUpdates:function(e,t){for(var n=0;n<t.length;n++){var r=t[n];switch(r.type){case"INSERT_MARKUP":l(e,r.content,u(e,r.afterNode));break;case"MOVE_EXISTING":f(e,r.fromNode,u(e,r.afterNode));break;case"SET_MARKUP":a(e,r.content);break;case"TEXT_CONTENT":s(e,r.content);break;case"REMOVE_NODE":p(e,r.fromNode)}}}};e.exports=h},function(e,t,n){"use strict";var r={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function i(e){var t=this.nativeEvent;if(t.getModifierState)return t.getModifierState(e);var n=r[e];return!!n&&!!t[n]}e.exports=function(e){return i}},function(e,t,n){"use strict";var r,i=n(11);i.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""))
/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */,e.exports=function(e,t){if(!i.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,o=n in document;if(!o){var a=document.createElement("div");a.setAttribute(n,"return;"),o="function"==typeof a[n]}return!o&&r&&"wheel"===e&&(o=document.implementation.hasFeature("Events.wheel","3.0")),o}},function(e,t,n){"use strict";e.exports=function(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}},function(e,t,n){"use strict";var r=null;function i(e,t,n){try{t(n)}catch(e){null===r&&(r=e)}}var o={invokeGuardedCallback:i,invokeGuardedCallbackWithCatch:i,rethrowCaughtError:function(){if(r){var e=r;throw r=null,e}}};e.exports=o},function(e,t,n){"use strict";var r,i,o=n(3),a=n(81);n(2),n(4);function s(e,t,n,r){var i=e.type||"unknown-event";e.currentTarget=u.getNodeFromInstance(r),t?a.invokeGuardedCallbackWithCatch(i,n,e):a.invokeGuardedCallback(i,n,e),e.currentTarget=null}var u={isEndish:function(e){return"topMouseUp"===e||"topTouchEnd"===e||"topTouchCancel"===e},isMoveish:function(e){return"topMouseMove"===e||"topTouchMove"===e},isStartish:function(e){return"topMouseDown"===e||"topTouchStart"===e},executeDirectDispatch:function(e){var t=e._dispatchListeners,n=e._dispatchInstances;Array.isArray(t)&&o("103"),e.currentTarget=t?u.getNodeFromInstance(n):null;var r=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,r},executeDispatchesInOrder:function(e,t){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)s(e,t,n[i],r[i]);else n&&s(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null},executeDispatchesInOrderStopAtTrue:function(e){var t=function(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}(e);return e._dispatchInstances=null,e._dispatchListeners=null,t},hasDispatches:function(e){return!!e._dispatchListeners},getInstanceFromNode:function(e){return r.getInstanceFromNode(e)},getNodeFromInstance:function(e){return r.getNodeFromInstance(e)},isAncestor:function(e,t){return i.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return i.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return i.getParentInstance(e)},traverseTwoPhase:function(e,t,n){return i.traverseTwoPhase(e,t,n)},traverseEnterLeave:function(e,t,n,r,o){return i.traverseEnterLeave(e,t,n,r,o)},injection:{injectComponentTree:function(e){r=e},injectTreeTraversal:function(e){i=e}}};e.exports=u},function(e,t,n){"use strict";var r=n(3),i=(n(2),null),o={};function a(){if(i)for(var e in o){var t=o[e],n=i.indexOf(e);if(n>-1||r("96",e),!c.plugins[n]){t.extractEvents||r("97",e),c.plugins[n]=t;var a=t.eventTypes;for(var u in a)s(a[u],t,u)||r("98",u,e)}}}function s(e,t,n){c.eventNameDispatchConfigs.hasOwnProperty(n)&&r("99",n),c.eventNameDispatchConfigs[n]=e;var i=e.phasedRegistrationNames;if(i){for(var o in i){if(i.hasOwnProperty(o))u(i[o],t,n)}return!0}return!!e.registrationName&&(u(e.registrationName,t,n),!0)}function u(e,t,n){c.registrationNameModules[e]&&r("100",e),c.registrationNameModules[e]=t,c.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var c={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){i&&r("101"),i=Array.prototype.slice.call(e),a()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];o.hasOwnProperty(n)&&o[n]===i||(o[n]&&r("102",n),o[n]=i,t=!0)}t&&a()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return c.registrationNameModules[t.registrationName]||null;if(void 0!==t.phasedRegistrationNames){var n=t.phasedRegistrationNames;for(var r in n)if(n.hasOwnProperty(r)){var i=c.registrationNameModules[n[r]];if(i)return i}}return null},_resetEventPlugins:function(){for(var e in i=null,o)o.hasOwnProperty(e)&&delete o[e];c.plugins.length=0;var t=c.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=c.registrationNameModules;for(var a in r)r.hasOwnProperty(a)&&delete r[a]}};e.exports=c},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";e.exports={}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){"use strict";function r(e,t,n,r){if(!(r in t||r.match(/^on[a-z]+$/))){var i;try{i=typeof e[r]}catch(e){}"function"===i&&(t[r]=function(){return this[n][r].apply(this[n],arguments)})}}function i(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:null}function o(e){return void 0===e&&(e=i()),/Chrome|CriOS/.test(e)?"chrome":/Firefox|FxiOS/.test(e)?"firefox":/Safari/.test(e)?"safari":null}t.defer=function(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e},t.delegateMethods=function(e,t,n){for(var i in e)r(e,t,n,i)},t.difference=function(e,t){e=Array.isArray(e)?new Set(e):new Set(e.values()),t=Array.isArray(t)?new Set(t):new Set(t.values());var n=new Set;return e.forEach(function(e){t.has(e)||n.add(e)}),n},t.flatMap=function(e,t){return(e instanceof Map||e instanceof Set?Array.from(e.values()):e).reduce(function(e,n){var r=t(n);return e.concat(r)},[])},t.guessBrowser=o,t.guessBrowserVersion=function(e){void 0===e&&(e=i());var t={chrome:"Chrome|CriOS",firefox:"Firefox|FxiOS",safari:"Version"}[o(e)];if(!t)return null;var n=new RegExp("("+t+")/([^\\s]+)"),r=(e.match(n)||[])[2];if(!r)return null;var a=r.split(".").map(Number);return{major:isNaN(a[0])?null:a[0],minor:isNaN(a[1])?null:a[1]}},t.interceptEvent=function(e,t){var n=null;Object.defineProperty(e,"on"+t,{get:function(){return n},set:function(e){n&&this.removeEventListener(t,n),"function"==typeof e?(n=e,this.addEventListener(t,n)):n=null}})},t.legacyPromise=function(e,t,n){return t?e.then(function(e){t(e)},function(e){n(e)}):e},t.makeUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},t.proxyProperties=function(e,t,n){Object.getOwnPropertyNames(e).forEach(function(e){!function(e,t,n,r){if(!(r in t))r.match(/^on[a-z]+$/)?(Object.defineProperty(t,r,{value:null,writable:!0}),n.addEventListener(r.slice(2),function(){t.dispatchEvent.apply(t,arguments)})):Object.defineProperty(t,r,{enumerable:!0,get:function(){return n[r]}})}(0,t,n,e)})},t.support=function(){return"object"==typeof navigator&&"object"==typeof navigator.mediaDevices&&"function"==typeof navigator.mediaDevices.getUserMedia&&"function"==typeof RTCPeerConnection}},function(e,t,n){var r=n(90),i=n(96);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(12))},function(e,t,n){var r=n(44),i=n(34),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";e.exports=function(e){if(!i(e))return!1;var t=r(e);return t==a||t==s||t==o||t==u}},,,,,function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){return!!(t=null==t?n:t)&&("number"==typeof e||r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(101),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,n){var r=n(98);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(12))},function(e,t,n){var r=n(190),i=n(187);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},function(e,t,n){"use strict";e.exports.DEFAULT_ENVIRONMENT="prod",e.exports.DEFAULT_REALM="us1",e.exports.DEFAULT_REGION="gll",e.exports.DEFAULT_LOG_LEVEL="warn",e.exports.WS_SERVER=function(e,t){return t="gll"===t?"global":encodeURIComponent(t),"prod"===e?"wss://"+t+".vss.twilio.com/signaling":"wss://"+t+".vss."+e+".twilio.com/signaling"},e.exports.PUBLISH_MAX_ATTEMPTS=5,e.exports.PUBLISH_BACKOFF_JITTER=10,e.exports.PUBLISH_BACKOFF_MS=20,e.exports.typeErrors={ILLEGAL_INVOKE:function(e,t){return new TypeError("Illegal call to "+e+": "+t)},INVALID_TYPE:function(e,t){return new TypeError(e+" must be "+(["a","e","i","o","u"].includes(t.toLowerCase()[0])?"an":"a")+" "+t)},INVALID_VALUE:function(e,t){return new RangeError(e+" must be one of "+t.join(", "))},REQUIRED_ARGUMENT:function(e){return new TypeError(e+" must be specified")}},e.exports.DEFAULT_ICE_GATHERING_TIMEOUT_MS=15e3,e.exports.DEFAULT_SESSION_TIMEOUT_SEC=30,e.exports.DEFAULT_NQ_LEVEL_LOCAL=1,e.exports.DEFAULT_NQ_LEVEL_REMOTE=0,e.exports.MAX_NQ_LEVEL=3,e.exports.ICE_ACTIVITY_CHECK_PERIOD_MS=1e3,e.exports.ICE_INACTIVITY_THRESHOLD_MS=3e3,e.exports.iceRestartBackoffConfig={factor:1.1,initialDelay:1,maxDelay:1e3*e.exports.DEFAULT_SESSION_TIMEOUT_SEC,randomisationFactor:.5},e.exports.reconnectBackoffConfig={factor:1.5,initialDelay:80,randomisationFactor:.5},e.exports.subscriptionMode={MODE_COLLABORATION:"collaboration",MODE_GRID:"grid",MODE_PRESENTATION:"presentation"},e.exports.trackSwitchOffMode={MODE_DISABLED:"disabled",MODE_DETECTED:"detected",MODE_PREDICTED:"predicted"},e.exports.trackPriority={PRIORITY_HIGH:"high",PRIORITY_LOW:"low",PRIORITY_STANDARD:"standard"}},,function(e,t){var n=Array.isArray;e.exports=n},,function(e,t,n){"use strict";n.r(t);var r=n(13),i=n(14),o=n.n(i),a=o.a.shape({trySubscribe:o.a.func.isRequired,tryUnsubscribe:o.a.func.isRequired,notifyNestedSubs:o.a.func.isRequired,isSubscribed:o.a.func.isRequired}),s=o.a.shape({subscribe:o.a.func.isRequired,dispatch:o.a.func.isRequired,getState:o.a.func.isRequired});function u(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1]||t+"Subscription",i=function(e){function i(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));return o[t]=n.store,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,e),i.prototype.getChildContext=function(){var e;return(e={})[t]=this[t],e[n]=null,e},i.prototype.render=function(){return r.Children.only(this.props.children)},i}(r.Component);return i.propTypes={store:s.isRequired,children:o.a.element.isRequired},i.childContextTypes=((e={})[t]=s.isRequired,e[n]=a,e),i}var c=u(),l=n(143),f=n.n(l),p=n(58),d=n.n(p);var h=null,v={notify:function(){}};var y=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.parentSub=n,this.onStateChange=r,this.unsubscribe=null,this.listeners=v}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},e.prototype.trySubscribe=function(){var e,t;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=(e=[],t=[],{clear:function(){t=h,e=h},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==h&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}))},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=v)},e}(),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var m=0,_={};function b(){}function w(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.getDisplayName,u=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,c=i.methodName,l=void 0===c?"connectAdvanced":c,p=i.renderCountProp,h=void 0===p?void 0:p,v=i.shouldHandleStateChanges,w=void 0===v||v,k=i.storeKey,E=void 0===k?"store":k,S=i.withRef,T=void 0!==S&&S,C=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(i,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),x=E+"Subscription",O=m++,P=((t={})[E]=s,t[x]=a,t),A=((n={})[x]=a,n);return function(t){d()("function"==typeof t,"You must pass a component to the function returned by connect. Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",i=u(n),o=g({},C,{getDisplayName:u,methodName:l,renderCountProp:h,shouldHandleStateChanges:w,storeKey:E,withRef:T,displayName:i,wrappedComponentName:n,WrappedComponent:t}),a=function(n){function a(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,n.call(this,e,t));return r.version=O,r.state={},r.renderCount=0,r.store=e[E]||t[E],r.propsMode=Boolean(e[E]),r.setWrappedInstance=r.setWrappedInstance.bind(r),d()(r.store,'Could not find "'+E+'" in either the context or props of "'+i+'". Either wrap the root component in a <Provider>, or explicitly pass "'+E+'" as a prop to "'+i+'".'),r.initSelector(),r.initSubscription(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,n),a.prototype.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return(e={})[x]=t||this.context[x],e},a.prototype.componentDidMount=function(){w&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},a.prototype.componentWillReceiveProps=function(e){this.selector.run(e)},a.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},a.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=b,this.store=null,this.selector.run=b,this.selector.shouldComponentUpdate=!1},a.prototype.getWrappedInstance=function(){return d()(T,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+l+"() call."),this.wrappedInstance},a.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},a.prototype.initSelector=function(){var t=e(this.store.dispatch,o);this.selector=function(e,t){var n={run:function(r){try{var i=e(t.getState(),r);(i!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=i,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}(t,this.store),this.selector.run(this.props)},a.prototype.initSubscription=function(){if(w){var e=(this.propsMode?this.props:this.context)[x];this.subscription=new y(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},a.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(_)):this.notifyNestedSubs()},a.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},a.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},a.prototype.addExtraProps=function(e){if(!(T||h||this.propsMode&&this.subscription))return e;var t=g({},e);return T&&(t.ref=this.setWrappedInstance),h&&(t[h]=this.renderCount++),this.propsMode&&this.subscription&&(t[x]=this.subscription),t},a.prototype.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(r.createElement)(t,this.addExtraProps(e.props))},a}(r.Component);return a.WrappedComponent=t,a.displayName=i,a.childContextTypes=A,a.contextTypes=P,a.propTypes=P,f()(a,t)}}var k=Object.prototype.hasOwnProperty;function E(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function S(e,t){if(E(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!k.call(t,n[i])||!E(e[n[i]],t[n[i]]))return!1;return!0}var T=n(46);n(26);function C(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function x(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function O(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=x(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=x(i),i=r(t,n)),i},r}}var P=[function(e){return"function"==typeof e?O(e):void 0},function(e){return e?void 0:C(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?C(function(t){return Object(T.bindActionCreators)(e,t)}):void 0}];var A=[function(e){return"function"==typeof e?O(e):void 0},function(e){return e?void 0:C(function(){return{}})}],j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function R(e,t,n){return j({},n,e,t)}var I=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r=n.pure,i=n.areMergedPropsEqual,o=!1,a=void 0;return function(t,n,s){var u=e(t,n,s);return o?r&&i(u,a)||(a=u):(o=!0,a=u),a}}}(e):void 0},function(e){return e?void 0:function(){return R}}];function L(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function M(e,t,n,r,i){var o=i.areStatesEqual,a=i.areOwnPropsEqual,s=i.areStatePropsEqual,u=!1,c=void 0,l=void 0,f=void 0,p=void 0,d=void 0;function h(i,u){var h,v,y=!a(u,l),g=!o(i,c);return c=i,l=u,y&&g?(f=e(c,l),t.dependsOnOwnProps&&(p=t(r,l)),d=n(f,p,l)):y?(e.dependsOnOwnProps&&(f=e(c,l)),t.dependsOnOwnProps&&(p=t(r,l)),d=n(f,p,l)):g?(h=e(c,l),v=!s(h,f),f=h,v&&(d=n(f,p,l)),d):d}return function(i,o){return u?h(i,o):(f=e(c=i,l=o),p=t(r,l),d=n(f,p,l),u=!0,d)}}function D(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,o),s=r(e,o),u=i(e,o);return(o.pure?M:L)(a,s,u,e,o)}var N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function B(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function F(e,t){return e===t}var U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.connectHOC,n=void 0===t?w:t,r=e.mapStateToPropsFactories,i=void 0===r?A:r,o=e.mapDispatchToPropsFactories,a=void 0===o?P:o,s=e.mergePropsFactories,u=void 0===s?I:s,c=e.selectorFactory,l=void 0===c?D:c;return function(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=o.pure,c=void 0===s||s,f=o.areStatesEqual,p=void 0===f?F:f,d=o.areOwnPropsEqual,h=void 0===d?S:d,v=o.areStatePropsEqual,y=void 0===v?S:v,g=o.areMergedPropsEqual,m=void 0===g?S:g,_=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(o,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),b=B(e,i,"mapStateToProps"),w=B(t,a,"mapDispatchToProps"),k=B(r,u,"mergeProps");return n(l,N({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:b,initMapDispatchToProps:w,initMergeProps:k,pure:c,areStatesEqual:p,areOwnPropsEqual:h,areStatePropsEqual:y,areMergedPropsEqual:m},_))}}();n.d(t,"Provider",function(){return c}),n.d(t,"createProvider",function(){return u}),n.d(t,"connectAdvanced",function(){return w}),n.d(t,"connect",function(){return U})},function(e,t,n){"use strict";var r=n(116);e.exports=function(e){for(var t;(t=e._renderedNodeType)===r.COMPOSITE;)e=e._renderedComponent;return t===r.HOST?e._renderedComponent:t===r.EMPTY?null:void 0}},function(e,t,n){"use strict";var r=n(3),i=n(29),o=n(31),a=n(33),s=n(52),u=(n(21),n(6)),c=n(212),l=n(211),f=n(126),p=n(38),d=(n(15),n(210)),h=n(30),v=n(69),y=n(16),g=n(85),m=n(117),_=(n(2),n(54)),b=n(71),w=(n(4),o.ID_ATTRIBUTE_NAME),k=o.ROOT_ATTRIBUTE_NAME,E=1,S=9,T=11,C={};function x(e){return e?e.nodeType===S?e.documentElement:e.firstChild:null}function O(e,t,n,r,i){var o;if(f.logTopLevelRenders){var a=e._currentElement.props.child.type;o="React mount: "+("string"==typeof a?a:a.displayName||a.name),console.time(o)}var s=h.mountComponent(e,n,null,c(e,t),i,0);o&&console.timeEnd(o),e._renderedComponent._topLevelWrapper=e,D._mountImageIntoNode(s,t,e,r,n)}function P(e,t,n,r){var i=y.ReactReconcileTransaction.getPooled(!n&&l.useCreateElement);i.perform(O,null,e,t,i,n,r),y.ReactReconcileTransaction.release(i)}function A(e,t,n){for(0,h.unmountComponent(e,n),t.nodeType===S&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function j(e){var t=x(e);if(t){var n=u.getInstanceFromNode(t);return!(!n||!n._hostParent)}}function R(e){return!(!e||e.nodeType!==E&&e.nodeType!==S&&e.nodeType!==T)}function I(e){var t=function(e){var t=x(e),n=t&&u.getInstanceFromNode(t);return n&&!n._hostParent?n:null}(e);return t?t._hostContainerInfo._topLevelWrapper:null}var L=1,M=function(){this.rootID=L++};M.prototype.isReactComponent={},M.prototype.render=function(){return this.props.child},M.isReactTopLevelWrapper=!0;var D={TopLevelWrapper:M,_instancesByReactRootID:C,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r,i){return D.scrollMonitor(r,function(){v.enqueueElementInternal(e,t,n),i&&v.enqueueCallbackInternal(e,i)}),e},_renderNewRootComponent:function(e,t,n,i){R(t)||r("37"),s.ensureScrollValueMonitoring();var o=m(e,!1);y.batchedUpdates(P,o,t,n,i);var a=o._instance.rootID;return C[a]=o,o},renderSubtreeIntoContainer:function(e,t,n,i){return null!=e&&p.has(e)||r("38"),D._renderSubtreeIntoContainer(e,t,n,i)},_renderSubtreeIntoContainer:function(e,t,n,i){v.validateCallback(i,"ReactDOM.render"),a.isValidElement(t)||r("39","string"==typeof t?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof t?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":"");var o,s=a.createElement(M,{child:t});if(e){var u=p.get(e);o=u._processChildContext(u._context)}else o=g;var c=I(n);if(c){var l=c._currentElement.props.child;if(b(l,t)){var f=c._renderedComponent.getPublicInstance(),d=i&&function(){i.call(f)};return D._updateRootComponent(c,s,o,n,d),f}D.unmountComponentAtNode(n)}var h,y=x(n),m=y&&!(!(h=y).getAttribute||!h.getAttribute(w)),_=j(n),k=m&&!c&&!_,E=D._renderNewRootComponent(s,n,k,o)._renderedComponent.getPublicInstance();return i&&i.call(E),E},render:function(e,t,n){return D._renderSubtreeIntoContainer(null,e,t,n)},unmountComponentAtNode:function(e){R(e)||r("40");var t=I(e);if(!t){j(e),1===e.nodeType&&e.hasAttribute(k);return!1}return delete C[t._instance.rootID],y.batchedUpdates(A,t,e,!1),!0},_mountImageIntoNode:function(e,t,n,o,a){if(R(t)||r("41"),o){var s=x(t);if(d.canReuseMarkup(e,s))return void u.precacheNode(n,s);var c=s.getAttribute(d.CHECKSUM_ATTR_NAME);s.removeAttribute(d.CHECKSUM_ATTR_NAME);var l=s.outerHTML;s.setAttribute(d.CHECKSUM_ATTR_NAME,c);var f=e,p=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}(f,l),h=" (client) "+f.substring(p-20,p+20)+"\n (server) "+l.substring(p-20,p+20);t.nodeType===S&&r("42",h)}if(t.nodeType===S&&r("43"),a.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);i.insertTreeBefore(t,e,null)}else _(t,e),u.precacheNode(n,t.firstChild)}};e.exports=D},function(e,t,n){"use strict";e.exports=function(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}},function(e,t,n){"use strict";var r=n(229),i=n(227),o=n(121),a=n(109);var s={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=a();return{focusedElem:e,selectionRange:s.hasSelectionCapabilities(e)?s.getSelection(e):null}},restoreSelection:function(e){var t,n=a(),r=e.focusedElem,u=e.selectionRange;n!==r&&(t=r,i(document.documentElement,t))&&(s.hasSelectionCapabilities(r)&&s.setSelection(r,u),o(r))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=r.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,i=t.end;if(void 0===i&&(i=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(i,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var o=e.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",i-n),o.select()}else r.setOffsets(e,t)}};e.exports=s},function(e,t,n){"use strict";var r=n(17),i={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};e.exports=i},function(e,t,n){"use strict";var r,i,o,a,s,u,c,l=n(42),f=n(21);n(2),n(4);function p(e){var t=Function.prototype.toString,n=Object.prototype.hasOwnProperty,r=RegExp("^"+t.call(n).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");try{var i=t.call(e);return r.test(i)}catch(e){return!1}}if("function"==typeof Array.from&&"function"==typeof Map&&p(Map)&&null!=Map.prototype&&"function"==typeof Map.prototype.keys&&p(Map.prototype.keys)&&"function"==typeof Set&&p(Set)&&null!=Set.prototype&&"function"==typeof Set.prototype.keys&&p(Set.prototype.keys)){var d=new Map,h=new Set;r=function(e,t){d.set(e,t)},i=function(e){return d.get(e)},o=function(e){d.delete(e)},a=function(){return Array.from(d.keys())},s=function(e){h.add(e)},u=function(e){h.delete(e)},c=function(){return Array.from(h.keys())}}else{var v={},y={},g=function(e){return"."+e},m=function(e){return parseInt(e.substr(1),10)};r=function(e,t){var n=g(e);v[n]=t},i=function(e){var t=g(e);return v[t]},o=function(e){var t=g(e);delete v[t]},a=function(){return Object.keys(v).map(m)},s=function(e){var t=g(e);y[t]=!0},u=function(e){var t=g(e);delete y[t]},c=function(){return Object.keys(y).map(m)}}var _=[];function b(e){var t=i(e);if(t){var n=t.childIDs;o(e),n.forEach(b)}}function w(e,t,n){return"\n    in "+(e||"Unknown")+(t?" (at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+")":n?" (created by "+n+")":"")}function k(e){return null==e?"#empty":"string"==typeof e||"number"==typeof e?"#text":"string"==typeof e.type?e.type:e.type.displayName||e.type.name||"Unknown"}function E(e){var t,n=S.getDisplayName(e),r=S.getElement(e),i=S.getOwnerID(e);return i&&(t=S.getDisplayName(i)),w(n,r&&r._source,t)}var S={onSetChildren:function(e,t){var n=i(e);n||l("144"),n.childIDs=t;for(var r=0;r<t.length;r++){var o=t[r],a=i(o);a||l("140"),null==a.childIDs&&"object"==typeof a.element&&null!=a.element&&l("141"),a.isMounted||l("71"),null==a.parentID&&(a.parentID=e),a.parentID!==e&&l("142",o,a.parentID,e)}},onBeforeMountComponent:function(e,t,n){r(e,{element:t,parentID:n,text:null,childIDs:[],isMounted:!1,updateCount:0})},onBeforeUpdateComponent:function(e,t){var n=i(e);n&&n.isMounted&&(n.element=t)},onMountComponent:function(e){var t=i(e);t||l("144"),t.isMounted=!0,0===t.parentID&&s(e)},onUpdateComponent:function(e){var t=i(e);t&&t.isMounted&&t.updateCount++},onUnmountComponent:function(e){var t=i(e);t&&(t.isMounted=!1,0===t.parentID&&u(e));_.push(e)},purgeUnmountedComponents:function(){if(!S._preventPurging){for(var e=0;e<_.length;e++){b(_[e])}_.length=0}},isMounted:function(e){var t=i(e);return!!t&&t.isMounted},getCurrentStackAddendum:function(e){var t="";if(e){var n=k(e),r=e._owner;t+=w(n,e._source,r&&r.getName())}var i=f.current,o=i&&i._debugID;return t+=S.getStackAddendumByID(o)},getStackAddendumByID:function(e){for(var t="";e;)t+=E(e),e=S.getParentID(e);return t},getChildIDs:function(e){var t=i(e);return t?t.childIDs:[]},getDisplayName:function(e){var t=S.getElement(e);return t?k(t):null},getElement:function(e){var t=i(e);return t?t.element:null},getOwnerID:function(e){var t=S.getElement(e);return t&&t._owner?t._owner._debugID:null},getParentID:function(e){var t=i(e);return t?t.parentID:null},getSource:function(e){var t=i(e),n=t?t.element:null;return null!=n?n._source:null},getText:function(e){var t=S.getElement(e);return"string"==typeof t?t:"number"==typeof t?""+t:null},getUpdateCount:function(e){var t=i(e);return t?t.updateCount:0},getRootIDs:c,getRegisteredIDs:a,pushNonStandardWarningStack:function(e,t){if("function"==typeof console.reactStack){var n=[],r=f.current,i=r&&r._debugID;try{for(e&&n.push({name:i?S.getDisplayName(i):null,fileName:t?t.fileName:null,lineNumber:t?t.lineNumber:null});i;){var o=S.getElement(i),a=S.getParentID(i),s=S.getOwnerID(i),u=s?S.getDisplayName(s):null,c=o&&o._source;n.push({name:u,fileName:c?c.fileName:null,lineNumber:c?c.lineNumber:null}),i=a}}catch(e){}console.reactStack(n)}},popNonStandardWarningStack:function(){"function"==typeof console.reactStackEnd&&console.reactStackEnd()}};e.exports=S},function(e,t,n){"use strict";var r=n(3),i=(n(21),n(242)),o=n(241),a=(n(2),n(70)),s=(n(4),"."),u=":";function c(e,t){return e&&"object"==typeof e&&null!=e.key?a.escape(e.key):t.toString(36)}e.exports=function(e,t,n){return null==e?0:function e(t,n,l,f){var p,d=typeof t;if("undefined"!==d&&"boolean"!==d||(t=null),null===t||"string"===d||"number"===d||"object"===d&&t.$$typeof===i)return l(f,t,""===n?s+c(t,0):n),1;var h=0,v=""===n?s:n+u;if(Array.isArray(t))for(var y=0;y<t.length;y++)h+=e(p=t[y],v+c(p,y),l,f);else{var g=o(t);if(g){var m,_=g.call(t);if(g!==t.entries)for(var b=0;!(m=_.next()).done;)h+=e(p=m.value,v+c(p,b++),l,f);else for(;!(m=_.next()).done;){var w=m.value;w&&(h+=e(p=w[1],v+a.escape(w[0])+u+c(p,0),l,f))}}else if("object"===d){var k=String(t);r("31","[object Object]"===k?"object with keys {"+Object.keys(t).join(", ")+"}":k,"")}}return h}(e,"",t,n)}},function(e,t,n){"use strict";var r=n(3),i=(n(2),null),o=null;var a={createInternalComponent:function(e){return i||r("111",e.type),new i(e)},createInstanceForText:function(e){return new o(e)},isTextComponent:function(e){return e instanceof o},injection:{injectGenericComponentClass:function(e){i=e},injectTextComponentClass:function(e){o=e}}};e.exports=a},function(e,t,n){"use strict";var r,i={injectEmptyComponentFactory:function(e){r=e}},o={create:function(e){return r(e)}};o.injection=i,e.exports=o},function(e,t,n){"use strict";var r=n(3),i=n(33),o=(n(2),{HOST:0,COMPOSITE:1,EMPTY:2,getType:function(e){return null===e||!1===e?o.EMPTY:i.isValidElement(e)?"function"==typeof e.type?o.COMPOSITE:o.HOST:void r("26",e)}});e.exports=o},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(244),a=n(115),s=n(114),u=(n(243),n(2),n(4),function(e){this.construct(e)});function c(e,t){var n;if(null===e||!1===e)n=a.create(c);else if("object"==typeof e){var i=e,o=i.type;if("function"!=typeof o&&"string"!=typeof o){var l="";0,l+=function(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}(i._owner),r("130",null==o?o:typeof o,l)}"string"==typeof i.type?n=s.createInternalComponent(i):!function(e){return"function"==typeof e&&void 0!==e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}(i.type)?n=new u(i):(n=new i.type(i)).getHostNode||(n.getHostNode=n.getNativeNode)}else"string"==typeof e||"number"==typeof e?n=s.createInstanceForText(e):r("131",typeof e);return n._mountIndex=0,n._mountImage=null,n}i(u.prototype,o,{_instantiateReactComponent:c}),e.exports=c},function(e,t,n){"use strict";var r=n(5),i=n(74),o=n(6),a=n(16),s=(n(4),!1);function u(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=i.getValue(e);null!=t&&c(this,Boolean(e.multiple),t)}}function c(e,t,n){var r,i,a=o.getNodeFromInstance(e).options;if(t){for(r={},i=0;i<n.length;i++)r[""+n[i]]=!0;for(i=0;i<a.length;i++){var s=r.hasOwnProperty(a[i].value);a[i].selected!==s&&(a[i].selected=s)}}else{for(r=""+n,i=0;i<a.length;i++)if(a[i].value===r)return void(a[i].selected=!0);a.length&&(a[0].selected=!0)}}var l={getHostProps:function(e,t){return r({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var n=i.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,listeners:null,onChange:function(e){var t=this._currentElement.props,n=i.executeOnChange(t,e);this._rootNodeID&&(this._wrapperState.pendingUpdate=!0);return a.asap(u,this),n}.bind(e),wasMultiple:Boolean(t.multiple)},void 0===t.value||void 0===t.defaultValue||s||(s=!0)},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var r=i.getValue(t);null!=r?(e._wrapperState.pendingUpdate=!1,c(e,Boolean(t.multiple),r)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?c(e,Boolean(t.multiple),t.defaultValue):c(e,Boolean(t.multiple),t.multiple?[]:""))}};e.exports=l},function(e,t,n){"use strict";var r=n(31),i=(n(6),n(15),n(253)),o=(n(4),new RegExp("^["+r.ATTRIBUTE_NAME_START_CHAR+"]["+r.ATTRIBUTE_NAME_CHAR+"]*$")),a={},s={};function u(e){return!!s.hasOwnProperty(e)||!a.hasOwnProperty(e)&&(o.test(e)?(s[e]=!0,!0):(a[e]=!0,!1))}function c(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&!1===t}var l={createMarkupForID:function(e){return r.ID_ATTRIBUTE_NAME+"="+i(e)},setAttributeForID:function(e,t){e.setAttribute(r.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return r.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(e){e.setAttribute(r.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){var n=r.properties.hasOwnProperty(e)?r.properties[e]:null;if(n){if(c(n,t))return"";var o=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&!0===t?o+'=""':o+"="+i(t)}return r.isCustomAttribute(e)?null==t?"":e+"="+i(t):null},createMarkupForCustomAttribute:function(e,t){return u(e)&&null!=t?e+"="+i(t):""},setValueForProperty:function(e,t,n){var i=r.properties.hasOwnProperty(t)?r.properties[t]:null;if(i){var o=i.mutationMethod;if(o)o(e,n);else{if(c(i,n))return void this.deleteValueForProperty(e,t);if(i.mustUseProperty)e[i.propertyName]=n;else{var a=i.attributeName,s=i.attributeNamespace;s?e.setAttributeNS(s,a,""+n):i.hasBooleanValue||i.hasOverloadedBooleanValue&&!0===n?e.setAttribute(a,""):e.setAttribute(a,""+n)}}}else if(r.isCustomAttribute(t))return void l.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,n){u(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))},deleteValueForAttribute:function(e,t){e.removeAttribute(t)},deleteValueForProperty:function(e,t){var n=r.properties.hasOwnProperty(t)?r.properties[t]:null;if(n){var i=n.mutationMethod;if(i)i(e,void 0);else if(n.mustUseProperty){var o=n.propertyName;n.hasBooleanValue?e[o]=!1:e[o]=""}else e.removeAttribute(n.attributeName)}else r.isCustomAttribute(t)&&e.removeAttribute(t)}};e.exports=l},function(e,t,n){"use strict";var r={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};var i=["Webkit","ms","Moz","O"];Object.keys(r).forEach(function(e){i.forEach(function(t){r[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=r[e]})});var o={isUnitlessNumber:r,shorthandPropertyExpansions:{background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}}};e.exports=o},function(e,t,n){"use strict";e.exports=function(e){try{e.focus()}catch(e){}}},function(e,t,n){"use strict";var r=n(11),i=n(53),o=n(54),a=function(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(a=function(e,t){3!==e.nodeType?o(e,i(t)):e.nodeValue=t})),e.exports=a},function(e,t,n){"use strict";var r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){r.currentScrollLeft=e.x,r.currentScrollTop=e.y}};e.exports=r},function(e,t,n){"use strict";var r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!r[e.type]:"textarea"===t}},function(e,t,n){"use strict";var r=n(6);function i(e){var t=e.type,n=e.nodeName;return n&&"input"===n.toLowerCase()&&("checkbox"===t||"radio"===t)}function o(e){return e._wrapperState.valueTracker}var a={_getTrackerFromNode:function(e){return o(r.getInstanceFromNode(e))},track:function(e){if(!o(e)){var t=r.getNodeFromInstance(e),n=i(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),s=""+t[n];t.hasOwnProperty(n)||"function"!=typeof a.get||"function"!=typeof a.set||(Object.defineProperty(t,n,{enumerable:a.enumerable,configurable:!0,get:function(){return a.get.call(this)},set:function(e){s=""+e,a.set.call(this,e)}}),function(e,t){e._wrapperState.valueTracker=t}(e,{getValue:function(){return s},setValue:function(e){s=""+e},stopTracking:function(){!function(e){e._wrapperState.valueTracker=null}(e),delete t[n]}}))}},updateValueIfChanged:function(e){if(!e)return!1;var t=o(e);if(!t)return a.track(e),!0;var n,s,u=t.getValue(),c=((n=r.getNodeFromInstance(e))&&(s=i(n)?""+n.checked:n.value),s);return c!==u&&(t.setValue(c),!0)},stopTracking:function(e){var t=o(e);t&&t.stopTracking()}};e.exports=a},function(e,t,n){"use strict";e.exports={logTopLevelRenders:!1}},function(e,t,n){"use strict";var r=n(3);var i=n(25),o=(n(2),function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._callbacks=null,this._contexts=null,this._arg=t}return e.prototype.enqueue=function(e,t){this._callbacks=this._callbacks||[],this._callbacks.push(e),this._contexts=this._contexts||[],this._contexts.push(t)},e.prototype.notifyAll=function(){var e=this._callbacks,t=this._contexts,n=this._arg;if(e&&t){e.length!==t.length&&r("24"),this._callbacks=null,this._contexts=null;for(var i=0;i<e.length;i++)e[i].call(t[i],n);e.length=0,t.length=0}},e.prototype.checkpoint=function(){return this._callbacks?this._callbacks.length:0},e.prototype.rollback=function(e){this._callbacks&&this._contexts&&(this._callbacks.length=e,this._contexts.length=e)},e.prototype.reset=function(){this._callbacks=null,this._contexts=null},e.prototype.destructor=function(){this.reset()},e}());e.exports=i.addPoolingTo(o)},function(e,t,n){"use strict";var r=n(11),i=null;e.exports=function(){return!i&&r.canUseDOM&&(i="textContent"in document.documentElement?"textContent":"innerText"),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}},function(e,t,n){"use strict";var r=n(3);n(2);e.exports=function(e,t){return null==t&&r("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}},function(e,t,n){"use strict";e.exports={hasCachedChildNodes:1}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,i,o,a,s,u){if(r(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,i,o,a,s,u],f=0;(c=new Error(t.replace(/%s/g,function(){return l[f++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,n){"use strict";var r=n(290);e.exports=function(e){return r(e,!1)}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=r},function(e,t,n){"use strict";e.exports=!1},function(e,t,n){"use strict";n(4);var r={isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){},enqueueReplaceState:function(e,t){},enqueueSetState:function(e,t){}};e.exports=r},function(e,t,n){"use strict";var r=n(42),i=n(5),o=n(137),a=(n(136),n(85));n(2),n(298);function s(e,t,n){this.props=e,this.context=t,this.refs=a,this.updater=n||o}function u(e,t,n){this.props=e,this.context=t,this.refs=a,this.updater=n||o}function c(){}s.prototype.isReactComponent={},s.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&r("85"),this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t,"setState")},s.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e,"forceUpdate")},c.prototype=s.prototype,u.prototype=new c,u.prototype.constructor=u,i(u.prototype,s.prototype),u.prototype.isPureReactComponent=!0,e.exports={Component:s,PureComponent:u}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.StatsDClient=void 0;var r=c(n(27)),i=c(n(142)),o=c(n(8)),a=n(536),s=c(n(48)),u=c(n(59));function c(e){return e&&e.__esModule?e:{default:e}}class l{constructor(){this.metricBuffer=[],this.excludedMetrics=[],this.sampleRate=1,this.enabled=!0,this.flushIntervalMs=3e4,this.numRetries=3,this.apiEndpoint="/v1/statsd",this.prefix="chromium_m.",this.maxSubmissionSize=100,u.default.register(this.flushMetrics.bind(this),"statsd_flush",this.flushIntervalMs)}flushMetrics(){let e=this.metricBuffer.slice();this.metricBuffer=[];let t=this._filterMetrics(e);this.maxSubmissionSize>0&&t.length>this.maxSubmissionSize&&(t=t.slice(t.length-this.maxSubmissionSize));let n=this._transformMetrics(t);return n&&n.size?(0,s.default)(this._httpRequest.bind(this,n),1e3,this.numRetries).catch(()=>{this.increment("statsd.submit_error"),this.metricBuffer=this.metricBuffer.concat(t)}):r.default.resolve()}_httpRequest(e){return new r.default((t,n)=>{i.default.ajax(`https://countvoncount.goguardian.com${this.apiEndpoint}`,{type:"POST",data:e,processData:!1,beforeSend:function(e){e.setRequestHeader("Authorization",localStorage.compRand||"Unknown"),e.setRequestHeader("ExtensionVersion",o.default.app.getDetails().version||"Unknown"),e.setRequestHeader("Content-type","application/binary")},error:(e,t,r)=>{n({textStatus:t,errorThrown:r,jqXHR:e})},success:e=>{t(e)}})})}_filterMetrics(e){return e.filter(e=>-1===this.excludedMetrics.indexOf(e.name))}_transformMetrics(t){if(!t.length)return;let n={submissionTime:Date.now(),payload:t};if(!a.StatsDBatch.recordType.isValid(n))return;let r=e.alloc(1);return r.writeUInt8(a.StatsDBatch.version),new Blob([e.concat([r,a.StatsDBatch.recordType.toBuffer(n)])],{type:"application/binary"})}_pushMetric(e,t,n,r){this.enabled&&(r=r||this.sampleRate,Math.random()>1-r&&this.metricBuffer.push({name:this.prefix+t,type:e,timestampMs:Date.now(),value:n.toString()}))}toJSON(){return this.metricBuffer}increment(e,t,n){t=t||1,this._pushMetric("COUNT",e,t,n)}decrement(e,t,n){t=t||1,this._pushMetric("COUNT",e,-t,n)}histogram(e,t,n){this._pushMetric("HISTOGRAM",e,t,n)}set(e,t,n){this._pushMetric("SET",e,t,n)}}t.StatsDClient=l,t.default=new l}).call(this,n(22).Buffer)},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]}},function(e,t,n){(function(t){var n,r=t.crypto||t.msCrypto;if(r&&r.getRandomValues){var i=new Uint8Array(16);n=function(){return r.getRandomValues(i),i}}if(!n){var o=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}e.exports=n}).call(this,n(12))},function(e,t,n){var r,i,o;
/*!
 * jQuery JavaScript Library v2.2.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:23Z
 */
/*!
 * jQuery JavaScript Library v2.2.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:23Z
 */
i="undefined"!=typeof window?window:this,o=function(n,i){var o=[],a=n.document,s=o.slice,u=o.concat,c=o.push,l=o.indexOf,f={},p=f.toString,d=f.hasOwnProperty,h={},v=function(e,t){return new v.fn.init(e,t)},y=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,g=/^-ms-/,m=/-([\da-z])/gi,_=function(e,t){return t.toUpperCase()};function b(e){var t=!!e&&"length"in e&&e.length,n=v.type(e);return"function"!==n&&!v.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}v.fn=v.prototype={jquery:"2.2.4",constructor:v,selector:"",length:0,toArray:function(){return s.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:s.call(this)},pushStack:function(e){var t=v.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return v.each(this,e)},map:function(e){return this.pushStack(v.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},v.extend=v.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||v.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(c&&r&&(v.isPlainObject(r)||(i=v.isArray(r)))?(i?(i=!1,o=n&&v.isArray(n)?n:[]):o=n&&v.isPlainObject(n)?n:{},a[t]=v.extend(c,o,r)):void 0!==r&&(a[t]=r));return a},v.extend({expando:"jQuery"+("2.2.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===v.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!v.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==v.type(e)||e.nodeType||v.isWindow(e))return!1;if(e.constructor&&!d.call(e,"constructor")&&!d.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||d.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?f[p.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=v.trim(e))&&(1===e.indexOf("use strict")?((t=a.createElement("script")).text=e,a.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(g,"ms-").replace(m,_)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,r=0;if(b(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(y,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(b(Object(e))?v.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:l.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(b(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return u.apply([],a)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),v.isFunction(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||v.guid++,i},now:Date.now,support:h}),"function"==typeof Symbol&&(v.fn[Symbol.iterator]=o[Symbol.iterator]),v.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){f["[object "+t+"]"]=t.toLowerCase()});var w=
/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
function(e){var t,n,r,i,o,a,s,u,c,l,f,p,d,h,v,y,g,m,_,b="sizzle"+1*new Date,w=e.document,k=0,E=0,S=oe(),T=oe(),C=oe(),x=function(e,t){return e===t&&(f=!0),0},O=1<<31,P={}.hasOwnProperty,A=[],j=A.pop,R=A.push,I=A.push,L=A.slice,M=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},D="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",N="[\\x20\\t\\r\\n\\f]",B="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",F="\\["+N+"*("+B+")(?:"+N+"*([*^$|!~]?=)"+N+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+N+"*\\]",U=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",V=new RegExp(N+"+","g"),q=new RegExp("^"+N+"+|((?:^|[^\\\\])(?:\\\\.)*)"+N+"+$","g"),W=new RegExp("^"+N+"*,"+N+"*"),H=new RegExp("^"+N+"*([>+~]|"+N+")"+N+"*"),z=new RegExp("="+N+"*([^\\]'\"]*?)"+N+"*\\]","g"),Y=new RegExp(U),Q=new RegExp("^"+B+"$"),K={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+N+"*(even|odd|(([+-]|)(\\d*)n|)"+N+"*(?:([+-]|)"+N+"*(\\d+)|))"+N+"*\\)|)","i"),bool:new RegExp("^(?:"+D+")$","i"),needsContext:new RegExp("^"+N+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+N+"*((?:-\\d)?\\d*)"+N+"*\\)|)(?=[^-]|$)","i")},$=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,G=/^[^{]+\{\s*\[native \w/,X=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,ee=/'|\\/g,te=new RegExp("\\\\([\\da-f]{1,6}"+N+"?|("+N+")|.)","ig"),ne=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},re=function(){p()};try{I.apply(A=L.call(w.childNodes),w.childNodes),A[w.childNodes.length].nodeType}catch(e){I={apply:A.length?function(e,t){R.apply(e,L.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ie(e,t,r,i){var o,s,c,l,f,h,g,m,k=t&&t.ownerDocument,E=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==E&&9!==E&&11!==E)return r;if(!i&&((t?t.ownerDocument||t:w)!==d&&p(t),t=t||d,v)){if(11!==E&&(h=X.exec(e)))if(o=h[1]){if(9===E){if(!(c=t.getElementById(o)))return r;if(c.id===o)return r.push(c),r}else if(k&&(c=k.getElementById(o))&&_(t,c)&&c.id===o)return r.push(c),r}else{if(h[2])return I.apply(r,t.getElementsByTagName(e)),r;if((o=h[3])&&n.getElementsByClassName&&t.getElementsByClassName)return I.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!C[e+" "]&&(!y||!y.test(e))){if(1!==E)k=t,m=e;else if("object"!==t.nodeName.toLowerCase()){for((l=t.getAttribute("id"))?l=l.replace(ee,"\\$&"):t.setAttribute("id",l=b),s=(g=a(e)).length,f=Q.test(l)?"#"+l:"[id='"+l+"']";s--;)g[s]=f+" "+ve(g[s]);m=g.join(","),k=Z.test(e)&&de(t.parentNode)||t}if(m)try{return I.apply(r,k.querySelectorAll(m)),r}catch(e){}finally{l===b&&t.removeAttribute("id")}}}return u(e.replace(q,"$1"),t,r,i)}function oe(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function ae(e){return e[b]=!0,e}function se(e){var t=d.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){for(var n=e.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=t}function ce(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||O)-(~e.sourceIndex||O);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function le(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function pe(e){return ae(function(t){return t=+t,ae(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function de(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ie.support={},o=ie.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},p=ie.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:w;return a!==d&&9===a.nodeType&&a.documentElement?(h=(d=a).documentElement,v=!o(d),(i=d.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",re,!1):i.attachEvent&&i.attachEvent("onunload",re)),n.attributes=se(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=se(function(e){return e.appendChild(d.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=G.test(d.getElementsByClassName),n.getById=se(function(e){return h.appendChild(e).id=b,!d.getElementsByName||!d.getElementsByName(b).length}),n.getById?(r.find.ID=function(e,t){if(void 0!==t.getElementById&&v){var n=t.getElementById(e);return n?[n]:[]}},r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&v)return t.getElementsByClassName(e)},g=[],y=[],(n.qsa=G.test(d.querySelectorAll))&&(se(function(e){h.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&y.push("[*^$]="+N+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||y.push("\\["+N+"*(?:value|"+D+")"),e.querySelectorAll("[id~="+b+"-]").length||y.push("~="),e.querySelectorAll(":checked").length||y.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||y.push(".#.+[+~]")}),se(function(e){var t=d.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&y.push("name"+N+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||y.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),y.push(",.*:")})),(n.matchesSelector=G.test(m=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&se(function(e){n.disconnectedMatch=m.call(e,"div"),m.call(e,"[s!='']:x"),g.push("!=",U)}),y=y.length&&new RegExp(y.join("|")),g=g.length&&new RegExp(g.join("|")),t=G.test(h.compareDocumentPosition),_=t||G.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},x=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===d||e.ownerDocument===w&&_(w,e)?-1:t===d||t.ownerDocument===w&&_(w,t)?1:l?M(l,e)-M(l,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===d?-1:t===d?1:i?-1:o?1:l?M(l,e)-M(l,t):0;if(i===o)return ce(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?ce(a[r],s[r]):a[r]===w?-1:s[r]===w?1:0},d):d},ie.matches=function(e,t){return ie(e,null,null,t)},ie.matchesSelector=function(e,t){if((e.ownerDocument||e)!==d&&p(e),t=t.replace(z,"='$1']"),n.matchesSelector&&v&&!C[t+" "]&&(!g||!g.test(t))&&(!y||!y.test(t)))try{var r=m.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return ie(t,d,null,[e]).length>0},ie.contains=function(e,t){return(e.ownerDocument||e)!==d&&p(e),_(e,t)},ie.attr=function(e,t){(e.ownerDocument||e)!==d&&p(e);var i=r.attrHandle[t.toLowerCase()],o=i&&P.call(r.attrHandle,t.toLowerCase())?i(e,t,!v):void 0;return void 0!==o?o:n.attributes||!v?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},ie.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ie.uniqueSort=function(e){var t,r=[],i=0,o=0;if(f=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(x),f){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return l=null,e},i=ie.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=ie.selectors={cacheLength:50,createPseudo:ae,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ie.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ie.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Y.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+N+")"+e+"("+N+"|$)"))&&S(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ie.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(V," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var c,l,f,p,d,h,v=o!==a?"nextSibling":"previousSibling",y=t.parentNode,g=s&&t.nodeName.toLowerCase(),m=!u&&!s,_=!1;if(y){if(o){for(;v;){for(p=t;p=p[v];)if(s?p.nodeName.toLowerCase()===g:1===p.nodeType)return!1;h=v="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?y.firstChild:y.lastChild],a&&m){for(_=(d=(c=(l=(f=(p=y)[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===k&&c[1])&&c[2],p=d&&y.childNodes[d];p=++d&&p&&p[v]||(_=d=0)||h.pop();)if(1===p.nodeType&&++_&&p===t){l[e]=[k,d,_];break}}else if(m&&(_=d=(c=(l=(f=(p=t)[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===k&&c[1]),!1===_)for(;(p=++d&&p&&p[v]||(_=d=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==g:1!==p.nodeType)||!++_||(m&&((l=(f=p[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]=[k,_]),p!==t)););return(_-=i)===r||_%r==0&&_/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ie.error("unsupported pseudo: "+e);return i[b]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ae(function(e,n){for(var r,o=i(e,t),a=o.length;a--;)e[r=M(e,o[a])]=!(n[r]=o[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:ae(function(e){var t=[],n=[],r=s(e.replace(q,"$1"));return r[b]?ae(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:ae(function(e){return function(t){return ie(e,t).length>0}}),contains:ae(function(e){return e=e.replace(te,ne),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:ae(function(e){return Q.test(e||"")||ie.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=v?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return $.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:pe(function(){return[0]}),last:pe(function(e,t){return[t-1]}),eq:pe(function(e,t,n){return[n<0?n+t:n]}),even:pe(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:pe(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:pe(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:pe(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=le(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=fe(t);function he(){}function ve(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ye(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=E++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,c,l=[k,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if((s=(u=(c=t[b]||(t[b]={}))[t.uniqueID]||(c[t.uniqueID]={}))[r])&&s[0]===k&&s[1]===o)return l[2]=s[2];if(u[r]=l,l[2]=e(t,n,a))return!0}}}function ge(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function me(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,c=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),c&&t.push(s)));return a}function _e(e,t,n,r,i,o){return r&&!r[b]&&(r=_e(r)),i&&!i[b]&&(i=_e(i,o)),ae(function(o,a,s,u){var c,l,f,p=[],d=[],h=a.length,v=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)ie(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),y=!e||!o&&t?v:me(v,p,e,s,u),g=n?i||(o?e:h||r)?[]:a:y;if(n&&n(y,g,s,u),r)for(c=me(g,d),r(c,[],s,u),l=c.length;l--;)(f=c[l])&&(g[d[l]]=!(y[d[l]]=f));if(o){if(i||e){if(i){for(c=[],l=g.length;l--;)(f=g[l])&&c.push(y[l]=f);i(null,g=[],c,u)}for(l=g.length;l--;)(f=g[l])&&(c=i?M(o,f):p[l])>-1&&(o[c]=!(a[c]=f))}}else g=me(g===a?g.splice(h,g.length):g),i?i(null,a,g,u):I.apply(a,g)})}function be(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],u=a?1:0,l=ye(function(e){return e===t},s,!0),f=ye(function(e){return M(t,e)>-1},s,!0),p=[function(e,n,r){var i=!a&&(r||n!==c)||((t=n).nodeType?l(e,n,r):f(e,n,r));return t=null,i}];u<o;u++)if(n=r.relative[e[u].type])p=[ye(ge(p),n)];else{if((n=r.filter[e[u].type].apply(null,e[u].matches))[b]){for(i=++u;i<o&&!r.relative[e[i].type];i++);return _e(u>1&&ge(p),u>1&&ve(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(q,"$1"),n,u<i&&be(e.slice(u,i)),i<o&&be(e=e.slice(i)),i<o&&ve(e))}p.push(n)}return ge(p)}return he.prototype=r.filters=r.pseudos,r.setFilters=new he,a=ie.tokenize=function(e,t){var n,i,o,a,s,u,c,l=T[e+" "];if(l)return t?0:l.slice(0);for(s=e,u=[],c=r.preFilter;s;){for(a in n&&!(i=W.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=H.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(q," ")}),s=s.slice(n.length)),r.filter)!(i=K[a].exec(s))||c[a]&&!(i=c[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?ie.error(e):T(e,u).slice(0)},s=ie.compile=function(e,t){var n,i=[],o=[],s=C[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=be(t[n]))[b]?i.push(s):o.push(s);(s=C(e,function(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,u,l){var f,h,y,g=0,m="0",_=o&&[],b=[],w=c,E=o||i&&r.find.TAG("*",l),S=k+=null==w?1:Math.random()||.1,T=E.length;for(l&&(c=a===d||a||l);m!==T&&null!=(f=E[m]);m++){if(i&&f){for(h=0,a||f.ownerDocument===d||(p(f),s=!v);y=e[h++];)if(y(f,a||d,s)){u.push(f);break}l&&(k=S)}n&&((f=!y&&f)&&g--,o&&_.push(f))}if(g+=m,n&&m!==g){for(h=0;y=t[h++];)y(_,b,a,s);if(o){if(g>0)for(;m--;)_[m]||b[m]||(b[m]=j.call(u));b=me(b)}I.apply(u,b),l&&!o&&b.length>0&&g+t.length>1&&ie.uniqueSort(u)}return l&&(k=S,c=w),_};return n?ae(o):o}(o,i))).selector=e}return s},u=ie.select=function(e,t,i,o){var u,c,l,f,p,d="function"==typeof e&&e,h=!o&&a(e=d.selector||e);if(i=i||[],1===h.length){if((c=h[0]=h[0].slice(0)).length>2&&"ID"===(l=c[0]).type&&n.getById&&9===t.nodeType&&v&&r.relative[c[1].type]){if(!(t=(r.find.ID(l.matches[0].replace(te,ne),t)||[])[0]))return i;d&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(u=K.needsContext.test(e)?0:c.length;u--&&(l=c[u],!r.relative[f=l.type]);)if((p=r.find[f])&&(o=p(l.matches[0].replace(te,ne),Z.test(c[0].type)&&de(t.parentNode)||t))){if(c.splice(u,1),!(e=o.length&&ve(c)))return I.apply(i,o),i;break}}return(d||s(e,h))(o,t,!v,i,!t||Z.test(e)&&de(t.parentNode)||t),i},n.sortStable=b.split("").sort(x).join("")===b,n.detectDuplicates=!!f,p(),n.sortDetached=se(function(e){return 1&e.compareDocumentPosition(d.createElement("div"))}),se(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ue("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&se(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ue("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),se(function(e){return null==e.getAttribute("disabled")})||ue(D,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),ie}(n);v.find=w,v.expr=w.selectors,v.expr[":"]=v.expr.pseudos,v.uniqueSort=v.unique=w.uniqueSort,v.text=w.getText,v.isXMLDoc=w.isXML,v.contains=w.contains;var k=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&v(e).is(n))break;r.push(e)}return r},E=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},S=v.expr.match.needsContext,T=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,C=/^.[^:#\[\.,]*$/;function x(e,t,n){if(v.isFunction(t))return v.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return v.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(C.test(t))return v.filter(t,e,n);t=v.filter(t,e)}return v.grep(e,function(e){return l.call(t,e)>-1!==n})}v.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?v.find.matchesSelector(r,e)?[r]:[]:v.find.matches(e,v.grep(t,function(e){return 1===e.nodeType}))},v.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(v(e).filter(function(){for(t=0;t<n;t++)if(v.contains(i[t],this))return!0}));for(t=0;t<n;t++)v.find(e,i[t],r);return(r=this.pushStack(n>1?v.unique(r):r)).selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(x(this,e||[],!1))},not:function(e){return this.pushStack(x(this,e||[],!0))},is:function(e){return!!x(this,"string"==typeof e&&S.test(e)?v(e):e||[],!1).length}});var O,P=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(v.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||O,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:P.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof v?t[0]:t,v.merge(this,v.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:a,!0)),T.test(r[1])&&v.isPlainObject(t))for(r in t)v.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=a.getElementById(r[2]))&&i.parentNode&&(this.length=1,this[0]=i),this.context=a,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):v.isFunction(e)?void 0!==n.ready?n.ready(e):e(v):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),v.makeArray(e,this))}).prototype=v.fn,O=v(a);var A=/^(?:parents|prev(?:Until|All))/,j={children:!0,contents:!0,next:!0,prev:!0};function R(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}v.fn.extend({has:function(e){var t=v(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(v.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=S.test(e)||"string"!=typeof e?v(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&v.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?v.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?l.call(v(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(v.uniqueSort(v.merge(this.get(),v(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),v.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return k(e,"parentNode")},parentsUntil:function(e,t,n){return k(e,"parentNode",n)},next:function(e){return R(e,"nextSibling")},prev:function(e){return R(e,"previousSibling")},nextAll:function(e){return k(e,"nextSibling")},prevAll:function(e){return k(e,"previousSibling")},nextUntil:function(e,t,n){return k(e,"nextSibling",n)},prevUntil:function(e,t,n){return k(e,"previousSibling",n)},siblings:function(e){return E((e.parentNode||{}).firstChild,e)},children:function(e){return E(e.firstChild)},contents:function(e){return e.contentDocument||v.merge([],e.childNodes)}},function(e,t){v.fn[e]=function(n,r){var i=v.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=v.filter(r,i)),this.length>1&&(j[e]||v.uniqueSort(i),A.test(e)&&i.reverse()),this.pushStack(i)}});var I,L=/\S+/g;function M(){a.removeEventListener("DOMContentLoaded",M),n.removeEventListener("load",M),v.ready()}v.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return v.each(e.match(L)||[],function(e,n){t[n]=!0}),t}(e):v.extend({},e);var t,n,r,i,o=[],a=[],s=-1,u=function(){for(i=e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){v.each(n,function(n,r){v.isFunction(r)?e.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==v.type(r)&&t(r)})}(arguments),n&&!t&&u()),this},remove:function(){return v.each(arguments,function(e,t){for(var n;(n=v.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--}),this},has:function(e){return e?v.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},v.extend({Deferred:function(e){var t=[["resolve","done",v.Callbacks("once memory"),"resolved"],["reject","fail",v.Callbacks("once memory"),"rejected"],["notify","progress",v.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return v.Deferred(function(n){v.each(t,function(t,o){var a=v.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&v.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?v.extend(e,r):r}},i={};return r.pipe=r.then,v.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=s.call(arguments),a=o.length,u=1!==a||e&&v.isFunction(e.promise)?a:0,c=1===u?e:v.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?s.call(arguments):i,r===t?c.notifyWith(n,r):--u||c.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);i<a;i++)o[i]&&v.isFunction(o[i].promise)?o[i].promise().progress(l(i,n,t)).done(l(i,r,o)).fail(c.reject):--u;return u||c.resolveWith(r,o),c.promise()}}),v.fn.ready=function(e){return v.ready.promise().done(e),this},v.extend({isReady:!1,readyWait:1,holdReady:function(e){e?v.readyWait++:v.ready(!0)},ready:function(e){(!0===e?--v.readyWait:v.isReady)||(v.isReady=!0,!0!==e&&--v.readyWait>0||(I.resolveWith(a,[v]),v.fn.triggerHandler&&(v(a).triggerHandler("ready"),v(a).off("ready"))))}}),v.ready.promise=function(e){return I||(I=v.Deferred(),"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?n.setTimeout(v.ready):(a.addEventListener("DOMContentLoaded",M),n.addEventListener("load",M))),I.promise(e)},v.ready.promise();var D=function(e,t,n,r,i,o,a){var s=0,u=e.length,c=null==n;if("object"===v.type(n))for(s in i=!0,n)D(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,v.isFunction(r)||(a=!0),c&&(a?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(v(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:c?t.call(e):u?t(e[0],n):o},N=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function B(){this.expando=v.expando+B.uid++}B.uid=1,B.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!N(e))return{};var t=e[this.expando];return t||(t={},N(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[t]=n;else for(r in t)i[r]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?void 0!==(r=this.get(e,t))?r:this.get(e,v.camelCase(t)):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=e[this.expando];if(void 0!==o){if(void 0===t)this.register(e);else{v.isArray(t)?r=t.concat(t.map(v.camelCase)):(i=v.camelCase(t),r=t in o?[t,i]:(r=i)in o?[r]:r.match(L)||[]),n=r.length;for(;n--;)delete o[r[n]]}(void 0===t||v.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!v.isEmptyObject(t)}};var F=new B,U=new B,V=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,q=/[A-Z]/g;function W(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(q,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:V.test(n)?v.parseJSON(n):n)}catch(e){}U.set(e,t,n)}else n=void 0;return n}v.extend({hasData:function(e){return U.hasData(e)||F.hasData(e)},data:function(e,t,n){return U.access(e,t,n)},removeData:function(e,t){U.remove(e,t)},_data:function(e,t,n){return F.access(e,t,n)},_removeData:function(e,t){F.remove(e,t)}}),v.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=U.get(o),1===o.nodeType&&!F.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=v.camelCase(r.slice(5)),W(o,r,i[r]));F.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){U.set(this,e)}):D(this,function(t){var n,r;if(o&&void 0===t)return void 0!==(n=U.get(o,e)||U.get(o,e.replace(q,"-$&").toLowerCase()))?n:(r=v.camelCase(e),void 0!==(n=U.get(o,r))?n:void 0!==(n=W(o,r,void 0))?n:void 0);r=v.camelCase(e),this.each(function(){var n=U.get(this,r);U.set(this,r,t),e.indexOf("-")>-1&&void 0!==n&&U.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){U.remove(this,e)})}}),v.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=F.get(e,t),n&&(!r||v.isArray(n)?r=F.access(e,t,v.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=v.queue(e,t),r=n.length,i=n.shift(),o=v._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){v.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return F.get(e,n)||F.access(e,n,{empty:v.Callbacks("once memory").add(function(){F.remove(e,[t+"queue",n])})})}}),v.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?v.queue(this[0],e):void 0===t?this:this.each(function(){var n=v.queue(this,e,t);v._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&v.dequeue(this,e)})},dequeue:function(e){return this.each(function(){v.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=v.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=F.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var H=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,z=new RegExp("^(?:([+-])=|)("+H+")([a-z%]*)$","i"),Y=["Top","Right","Bottom","Left"],Q=function(e,t){return e=t||e,"none"===v.css(e,"display")||!v.contains(e.ownerDocument,e)};function K(e,t,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return v.css(e,t,"")},u=s(),c=n&&n[3]||(v.cssNumber[t]?"":"px"),l=(v.cssNumber[t]||"px"!==c&&+u)&&z.exec(v.css(e,t));if(l&&l[3]!==c){c=c||l[3],n=n||[],l=+u||1;do{l/=o=o||".5",v.style(e,t,l+c)}while(o!==(o=s()/u)&&1!==o&&--a)}return n&&(l=+l||+u||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}var $=/^(?:checkbox|radio)$/i,J=/<([\w:-]+)/,G=/^$|\/(?:java|ecma)script/i,X={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Z(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&v.nodeName(e,t)?v.merge([e],n):n}function ee(e,t){for(var n=0,r=e.length;n<r;n++)F.set(e[n],"globalEval",!t||F.get(t[n],"globalEval"))}X.optgroup=X.option,X.tbody=X.tfoot=X.colgroup=X.caption=X.thead,X.th=X.td;var te,ne,re=/<|&#?\w+;/;function ie(e,t,n,r,i){for(var o,a,s,u,c,l,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===v.type(o))v.merge(p,o.nodeType?[o]:o);else if(re.test(o)){for(a=a||f.appendChild(t.createElement("div")),s=(J.exec(o)||["",""])[1].toLowerCase(),u=X[s]||X._default,a.innerHTML=u[1]+v.htmlPrefilter(o)+u[2],l=u[0];l--;)a=a.lastChild;v.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));for(f.textContent="",d=0;o=p[d++];)if(r&&v.inArray(o,r)>-1)i&&i.push(o);else if(c=v.contains(o.ownerDocument,o),a=Z(f.appendChild(o),"script"),c&&ee(a),n)for(l=0;o=a[l++];)G.test(o.type||"")&&n.push(o);return f}te=a.createDocumentFragment().appendChild(a.createElement("div")),(ne=a.createElement("input")).setAttribute("type","radio"),ne.setAttribute("checked","checked"),ne.setAttribute("name","t"),te.appendChild(ne),h.checkClone=te.cloneNode(!0).cloneNode(!0).lastChild.checked,te.innerHTML="<textarea>x</textarea>",h.noCloneChecked=!!te.cloneNode(!0).lastChild.defaultValue;var oe=/^key/,ae=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,se=/^([^.]*)(?:\.(.+)|)/;function ue(){return!0}function ce(){return!1}function le(){try{return a.activeElement}catch(e){}}function fe(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)fe(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=ce;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return v().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=v.guid++)),e.each(function(){v.event.add(this,t,i,r,n)})}v.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,c,l,f,p,d,h,y,g=F.get(e);if(g)for(n.handler&&(n=(o=n).handler,i=o.selector),n.guid||(n.guid=v.guid++),(u=g.events)||(u=g.events={}),(a=g.handle)||(a=g.handle=function(t){return void 0!==v&&v.event.triggered!==t.type?v.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(L)||[""]).length;c--;)d=y=(s=se.exec(t[c])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=v.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=v.event.special[d]||{},l=v.extend({type:d,origType:y,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&v.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(d,a)),f.add&&(f.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,l):p.push(l),v.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,c,l,f,p,d,h,y,g=F.hasData(e)&&F.get(e);if(g&&(u=g.events)){for(c=(t=(t||"").match(L)||[""]).length;c--;)if(d=y=(s=se.exec(t[c])||[])[1],h=(s[2]||"").split(".").sort(),d){for(f=v.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)l=p[o],!i&&y!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(p.splice(o,1),l.selector&&p.delegateCount--,f.remove&&f.remove.call(e,l));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,g.handle)||v.removeEvent(e,d,g.handle),delete u[d])}else for(d in u)v.event.remove(e,d+t[c],n,r,!0);v.isEmptyObject(u)&&F.remove(e,"handle events")}},dispatch:function(e){e=v.event.fix(e);var t,n,r,i,o,a,u=s.call(arguments),c=(F.get(this,"events")||{})[e.type]||[],l=v.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,e)){for(a=v.event.handlers.call(this,e,c),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,void 0!==(r=((v.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&(!0!==u.disabled||"click"!==e.type)){for(r=[],n=0;n<s;n++)void 0===r[i=(o=t[n]).selector+" "]&&(r[i]=o.needsContext?v(i,this).index(u)>-1:v.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&a.push({elem:u,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(r=(n=e.target.ownerDocument||a).documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[v.expando])return e;var t,n,r,i=e.type,o=e,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=ae.test(i)?this.mouseHooks:oe.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new v.Event(o),t=r.length;t--;)e[n=r[t]]=o[n];return e.target||(e.target=a),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==le()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===le()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&v.nodeName(this,"input"))return this.click(),!1},_default:function(e){return v.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},v.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},v.Event=function(e,t){if(!(this instanceof v.Event))return new v.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ue:ce):this.type=e,t&&v.extend(this,t),this.timeStamp=e&&e.timeStamp||v.now(),this[v.expando]=!0},v.Event.prototype={constructor:v.Event,isDefaultPrevented:ce,isPropagationStopped:ce,isImmediatePropagationStopped:ce,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ue,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ue,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ue,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},v.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){v.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,i=e.handleObj;return r&&(r===this||v.contains(this,r))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),v.fn.extend({on:function(e,t,n,r){return fe(this,e,t,n,r)},one:function(e,t,n,r){return fe(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,v(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ce),this.each(function(){v.event.remove(this,e,n,t)})}});var pe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,de=/<script|<style|<link/i,he=/checked\s*(?:[^=]|=\s*.checked.)/i,ve=/^true\/(.*)/,ye=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function ge(e,t){return v.nodeName(e,"table")&&v.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function me(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function _e(e){var t=ve.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function be(e,t){var n,r,i,o,a,s,u,c;if(1===t.nodeType){if(F.hasData(e)&&(o=F.access(e),a=F.set(t,o),c=o.events))for(i in delete a.handle,a.events={},c)for(n=0,r=c[i].length;n<r;n++)v.event.add(t,i,c[i][n]);U.hasData(e)&&(s=U.access(e),u=v.extend({},s),U.set(t,u))}}function we(e,t,n,r){t=u.apply([],t);var i,o,a,s,c,l,f=0,p=e.length,d=p-1,y=t[0],g=v.isFunction(y);if(g||p>1&&"string"==typeof y&&!h.checkClone&&he.test(y))return e.each(function(i){var o=e.eq(i);g&&(t[0]=y.call(this,i,o.html())),we(o,t,n,r)});if(p&&(o=(i=ie(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=(a=v.map(Z(i,"script"),me)).length;f<p;f++)c=i,f!==d&&(c=v.clone(c,!0,!0),s&&v.merge(a,Z(c,"script"))),n.call(e[f],c,f);if(s)for(l=a[a.length-1].ownerDocument,v.map(a,_e),f=0;f<s;f++)c=a[f],G.test(c.type||"")&&!F.access(c,"globalEval")&&v.contains(l,c)&&(c.src?v._evalUrl&&v._evalUrl(c.src):v.globalEval(c.textContent.replace(ye,"")))}return e}function ke(e,t,n){for(var r,i=t?v.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||v.cleanData(Z(r)),r.parentNode&&(n&&v.contains(r.ownerDocument,r)&&ee(Z(r,"script")),r.parentNode.removeChild(r));return e}v.extend({htmlPrefilter:function(e){return e.replace(pe,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s,u,c,l=e.cloneNode(!0),f=v.contains(e.ownerDocument,e);if(!(h.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||v.isXMLDoc(e)))for(a=Z(l),r=0,i=(o=Z(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(c=u.nodeName.toLowerCase())&&$.test(s.type)?u.checked=s.checked:"input"!==c&&"textarea"!==c||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||Z(e),a=a||Z(l),r=0,i=o.length;r<i;r++)be(o[r],a[r]);else be(e,l);return(a=Z(l,"script")).length>0&&ee(a,!f&&Z(e,"script")),l},cleanData:function(e){for(var t,n,r,i=v.event.special,o=0;void 0!==(n=e[o]);o++)if(N(n)){if(t=n[F.expando]){if(t.events)for(r in t.events)i[r]?v.event.remove(n,r):v.removeEvent(n,r,t.handle);n[F.expando]=void 0}n[U.expando]&&(n[U.expando]=void 0)}}}),v.fn.extend({domManip:we,detach:function(e){return ke(this,e,!0)},remove:function(e){return ke(this,e)},text:function(e){return D(this,function(e){return void 0===e?v.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return we(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ge(this,e).appendChild(e)})},prepend:function(){return we(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ge(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return we(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return we(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(v.cleanData(Z(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return v.clone(this,e,t)})},html:function(e){return D(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!de.test(e)&&!X[(J.exec(e)||["",""])[1].toLowerCase()]){e=v.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(v.cleanData(Z(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return we(this,arguments,function(t){var n=this.parentNode;v.inArray(this,e)<0&&(v.cleanData(Z(this)),n&&n.replaceChild(t,this))},e)}}),v.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){v.fn[e]=function(e){for(var n,r=[],i=v(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),v(i[a])[t](n),c.apply(r,n.get());return this.pushStack(r)}});var Ee,Se={HTML:"block",BODY:"block"};function Te(e,t){var n=v(t.createElement(e)).appendTo(t.body),r=v.css(n[0],"display");return n.detach(),r}function Ce(e){var t=a,n=Se[e];return n||("none"!==(n=Te(e,t))&&n||((t=(Ee=(Ee||v("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),n=Te(e,t),Ee.detach()),Se[e]=n),n}var xe=/^margin/,Oe=new RegExp("^("+H+")(?!px)[a-z%]+$","i"),Pe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},Ae=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i},je=a.documentElement;function Re(e,t,n){var r,i,o,a,s=e.style;return""!==(a=(n=n||Pe(e))?n.getPropertyValue(t)||n[t]:void 0)&&void 0!==a||v.contains(e.ownerDocument,e)||(a=v.style(e,t)),n&&!h.pixelMarginRight()&&Oe.test(a)&&xe.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o),void 0!==a?a+"":a}function Ie(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){var e,t,r,i,o=a.createElement("div"),s=a.createElement("div");function u(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",je.appendChild(o);var a=n.getComputedStyle(s);e="1%"!==a.top,i="2px"===a.marginLeft,t="4px"===a.width,s.style.marginRight="50%",r="4px"===a.marginRight,je.removeChild(o)}s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",h.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",o.appendChild(s),v.extend(h,{pixelPosition:function(){return u(),e},boxSizingReliable:function(){return null==t&&u(),t},pixelMarginRight:function(){return null==t&&u(),r},reliableMarginLeft:function(){return null==t&&u(),i},reliableMarginRight:function(){var e,t=s.appendChild(a.createElement("div"));return t.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",s.style.width="1px",je.appendChild(o),e=!parseFloat(n.getComputedStyle(t).marginRight),je.removeChild(o),s.removeChild(t),e}}))}();var Le=/^(none|table(?!-c[ea]).+)/,Me={position:"absolute",visibility:"hidden",display:"block"},De={letterSpacing:"0",fontWeight:"400"},Ne=["Webkit","O","Moz","ms"],Be=a.createElement("div").style;function Fe(e){if(e in Be)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=Ne.length;n--;)if((e=Ne[n]+t)in Be)return e}function Ue(e,t,n){var r=z.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Ve(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=v.css(e,n+Y[o],!0,i)),r?("content"===n&&(a-=v.css(e,"padding"+Y[o],!0,i)),"margin"!==n&&(a-=v.css(e,"border"+Y[o]+"Width",!0,i))):(a+=v.css(e,"padding"+Y[o],!0,i),"padding"!==n&&(a+=v.css(e,"border"+Y[o]+"Width",!0,i)));return a}function qe(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Pe(e),a="border-box"===v.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(((i=Re(e,t,o))<0||null==i)&&(i=e.style[t]),Oe.test(i))return i;r=a&&(h.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+Ve(e,t,n||(a?"border":"content"),r,o)+"px"}function We(e,t){for(var n,r,i,o=[],a=0,s=e.length;a<s;a++)(r=e[a]).style&&(o[a]=F.get(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Q(r)&&(o[a]=F.access(r,"olddisplay",Ce(r.nodeName)))):(i=Q(r),"none"===n&&i||F.set(r,"olddisplay",i?n:v.css(r,"display"))));for(a=0;a<s;a++)(r=e[a]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function He(e,t,n,r,i){return new He.prototype.init(e,t,n,r,i)}v.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Re(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=v.camelCase(t),u=e.style;if(t=v.cssProps[s]||(v.cssProps[s]=Fe(s)||s),a=v.cssHooks[t]||v.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t];"string"===(o=typeof n)&&(i=z.exec(n))&&i[1]&&(n=K(e,t,i),o="number"),null!=n&&n==n&&("number"===o&&(n+=i&&i[3]||(v.cssNumber[s]?"":"px")),h.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u[t]=n))}},css:function(e,t,n,r){var i,o,a,s=v.camelCase(t);return t=v.cssProps[s]||(v.cssProps[s]=Fe(s)||s),(a=v.cssHooks[t]||v.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Re(e,t,r)),"normal"===i&&t in De&&(i=De[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),v.each(["height","width"],function(e,t){v.cssHooks[t]={get:function(e,n,r){if(n)return Le.test(v.css(e,"display"))&&0===e.offsetWidth?Ae(e,Me,function(){return qe(e,t,r)}):qe(e,t,r)},set:function(e,n,r){var i,o=r&&Pe(e),a=r&&Ve(e,t,r,"border-box"===v.css(e,"boxSizing",!1,o),o);return a&&(i=z.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=v.css(e,t)),Ue(0,n,a)}}}),v.cssHooks.marginLeft=Ie(h.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Re(e,"marginLeft"))||e.getBoundingClientRect().left-Ae(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),v.cssHooks.marginRight=Ie(h.reliableMarginRight,function(e,t){if(t)return Ae(e,{display:"inline-block"},Re,[e,"marginRight"])}),v.each({margin:"",padding:"",border:"Width"},function(e,t){v.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Y[r]+t]=o[r]||o[r-2]||o[0];return i}},xe.test(e)||(v.cssHooks[e+t].set=Ue)}),v.fn.extend({css:function(e,t){return D(this,function(e,t,n){var r,i,o={},a=0;if(v.isArray(t)){for(r=Pe(e),i=t.length;a<i;a++)o[t[a]]=v.css(e,t[a],!1,r);return o}return void 0!==n?v.style(e,t,n):v.css(e,t)},e,t,arguments.length>1)},show:function(){return We(this,!0)},hide:function(){return We(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Q(this)?v(this).show():v(this).hide()})}}),v.Tween=He,He.prototype={constructor:He,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||v.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(v.cssNumber[n]?"":"px")},cur:function(){var e=He.propHooks[this.prop];return e&&e.get?e.get(this):He.propHooks._default.get(this)},run:function(e){var t,n=He.propHooks[this.prop];return this.options.duration?this.pos=t=v.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):He.propHooks._default.set(this),this}},He.prototype.init.prototype=He.prototype,He.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=v.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){v.fx.step[e.prop]?v.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[v.cssProps[e.prop]]&&!v.cssHooks[e.prop]?e.elem[e.prop]=e.now:v.style(e.elem,e.prop,e.now+e.unit)}}},He.propHooks.scrollTop=He.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},v.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},v.fx=He.prototype.init,v.fx.step={};var ze,Ye,Qe=/^(?:toggle|show|hide)$/,Ke=/queueHooks$/;function $e(){return n.setTimeout(function(){ze=void 0}),ze=v.now()}function Je(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=Y[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function Ge(e,t,n){for(var r,i=(Xe.tweeners[t]||[]).concat(Xe.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function Xe(e,t,n){var r,i,o=0,a=Xe.prefilters.length,s=v.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=ze||$e(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(r);return s.notifyWith(e,[c,r,n]),r<1&&a?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:v.extend({},t),opts:v.extend(!0,{specialEasing:{},easing:v.easing._default},n),originalProperties:t,originalOptions:n,startTime:ze||$e(),duration:n.duration,tweens:[],createTween:function(t,n){var r=v.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),l=c.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=v.camelCase(n)],o=e[n],v.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=v.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(l,c.opts.specialEasing);o<a;o++)if(r=Xe.prefilters[o].call(c,e,l,c.opts))return v.isFunction(r.stop)&&(v._queueHooks(c.elem,c.opts.queue).stop=v.proxy(r.stop,r)),r;return v.map(l,Ge,c),v.isFunction(c.opts.start)&&c.opts.start.call(e,c),v.fx.timer(v.extend(u,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}v.Animation=v.extend(Xe,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return K(n.elem,e,z.exec(t),n),n}]},tweener:function(e,t){v.isFunction(e)?(t=e,e=["*"]):e=e.match(L);for(var n,r=0,i=e.length;r<i;r++)n=e[r],Xe.tweeners[n]=Xe.tweeners[n]||[],Xe.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,c,l=this,f={},p=e.style,d=e.nodeType&&Q(e),h=F.get(e,"fxshow");for(r in n.queue||(null==(s=v._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,l.always(function(){l.always(function(){s.unqueued--,v.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===("none"===(c=v.css(e,"display"))?F.get(e,"olddisplay")||Ce(e.nodeName):c)&&"none"===v.css(e,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",l.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),t)if(i=t[r],Qe.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(d?"hide":"show")){if("show"!==i||!h||void 0===h[r])continue;d=!0}f[r]=h&&h[r]||v.style(e,r)}else c=void 0;if(v.isEmptyObject(f))"inline"===("none"===c?Ce(e.nodeName):c)&&(p.display=c);else for(r in h?"hidden"in h&&(d=h.hidden):h=F.access(e,"fxshow",{}),o&&(h.hidden=!d),d?v(e).show():l.done(function(){v(e).hide()}),l.done(function(){var t;for(t in F.remove(e,"fxshow"),f)v.style(e,t,f[t])}),f)a=Ge(d?h[r]:0,r,l),r in h||(h[r]=a.start,d&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}],prefilter:function(e,t){t?Xe.prefilters.unshift(e):Xe.prefilters.push(e)}}),v.speed=function(e,t,n){var r=e&&"object"==typeof e?v.extend({},e):{complete:n||!n&&t||v.isFunction(e)&&e,duration:e,easing:n&&t||t&&!v.isFunction(t)&&t};return r.duration=v.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in v.fx.speeds?v.fx.speeds[r.duration]:v.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){v.isFunction(r.old)&&r.old.call(this),r.queue&&v.dequeue(this,r.queue)},r},v.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Q).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=v.isEmptyObject(e),o=v.speed(t,n,r),a=function(){var t=Xe(this,v.extend({},e),o);(i||F.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=v.timers,a=F.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&Ke.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||v.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=F.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=v.timers,a=r?r.length:0;for(n.finish=!0,v.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),v.each(["toggle","show","hide"],function(e,t){var n=v.fn[t];v.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(Je(t,!0),e,r,i)}}),v.each({slideDown:Je("show"),slideUp:Je("hide"),slideToggle:Je("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){v.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),v.timers=[],v.fx.tick=function(){var e,t=0,n=v.timers;for(ze=v.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||v.fx.stop(),ze=void 0},v.fx.timer=function(e){v.timers.push(e),e()?v.fx.start():v.timers.pop()},v.fx.interval=13,v.fx.start=function(){Ye||(Ye=n.setInterval(v.fx.tick,v.fx.interval))},v.fx.stop=function(){n.clearInterval(Ye),Ye=null},v.fx.speeds={slow:600,fast:200,_default:400},v.fn.delay=function(e,t){return e=v.fx&&v.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,r){var i=n.setTimeout(t,e);r.stop=function(){n.clearTimeout(i)}})},function(){var e=a.createElement("input"),t=a.createElement("select"),n=t.appendChild(a.createElement("option"));e.type="checkbox",h.checkOn=""!==e.value,h.optSelected=n.selected,t.disabled=!0,h.optDisabled=!n.disabled,(e=a.createElement("input")).value="t",e.type="radio",h.radioValue="t"===e.value}();var Ze,et=v.expr.attrHandle;v.fn.extend({attr:function(e,t){return D(this,v.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){v.removeAttr(this,e)})}}),v.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?v.prop(e,t,n):(1===o&&v.isXMLDoc(e)||(t=t.toLowerCase(),i=v.attrHooks[t]||(v.expr.match.bool.test(t)?Ze:void 0)),void 0!==n?null===n?void v.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=v.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!h.radioValue&&"radio"===t&&v.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(L);if(o&&1===e.nodeType)for(;n=o[i++];)r=v.propFix[n]||n,v.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)}}),Ze={set:function(e,t,n){return!1===t?v.removeAttr(e,n):e.setAttribute(n,n),n}},v.each(v.expr.match.bool.source.match(/\w+/g),function(e,t){var n=et[t]||v.find.attr;et[t]=function(e,t,r){var i,o;return r||(o=et[t],et[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,et[t]=o),i}});var tt=/^(?:input|select|textarea|button)$/i,nt=/^(?:a|area)$/i;v.fn.extend({prop:function(e,t){return D(this,v.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[v.propFix[e]||e]})}}),v.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&v.isXMLDoc(e)||(t=v.propFix[t]||t,i=v.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=v.find.attr(e,"tabindex");return t?parseInt(t,10):tt.test(e.nodeName)||nt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),h.optSelected||(v.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),v.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){v.propFix[this.toLowerCase()]=this});var rt=/[\t\r\n\f]/g;function it(e){return e.getAttribute&&e.getAttribute("class")||""}v.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(v.isFunction(e))return this.each(function(t){v(this).addClass(e.call(this,t,it(this)))});if("string"==typeof e&&e)for(t=e.match(L)||[];n=this[u++];)if(i=it(n),r=1===n.nodeType&&(" "+i+" ").replace(rt," ")){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=v.trim(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(v.isFunction(e))return this.each(function(t){v(this).removeClass(e.call(this,t,it(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(L)||[];n=this[u++];)if(i=it(n),r=1===n.nodeType&&(" "+i+" ").replace(rt," ")){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(s=v.trim(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):v.isFunction(e)?this.each(function(n){v(this).toggleClass(e.call(this,n,it(this),t),t)}):this.each(function(){var t,r,i,o;if("string"===n)for(r=0,i=v(this),o=e.match(L)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||((t=it(this))&&F.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":F.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+it(n)+" ").replace(rt," ").indexOf(t)>-1)return!0;return!1}});var ot=/\r/g,at=/[\x20\t\r\n\f]+/g;v.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=v.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,v(this).val()):e)?i="":"number"==typeof i?i+="":v.isArray(i)&&(i=v.map(i,function(e){return null==e?"":e+""})),(t=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=v.valHooks[i.type]||v.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(ot,""):null==n?"":n:void 0}}),v.extend({valHooks:{option:{get:function(e){var t=v.find.attr(e,"value");return null!=t?t:v.trim(v.text(e)).replace(at," ")}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],s=o?i+1:r.length,u=i<0?s:o?i:0;u<s;u++)if(((n=r[u]).selected||u===i)&&(h.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!v.nodeName(n.parentNode,"optgroup"))){if(t=v(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=v.makeArray(t),a=i.length;a--;)((r=i[a]).selected=v.inArray(v.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),v.each(["radio","checkbox"],function(){v.valHooks[this]={set:function(e,t){if(v.isArray(t))return e.checked=v.inArray(v(e).val(),t)>-1}},h.checkOn||(v.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var st=/^(?:focusinfocus|focusoutblur)$/;v.extend(v.event,{trigger:function(e,t,r,i){var o,s,u,c,l,f,p,h=[r||a],y=d.call(e,"type")?e.type:e,g=d.call(e,"namespace")?e.namespace.split("."):[];if(s=u=r=r||a,3!==r.nodeType&&8!==r.nodeType&&!st.test(y+v.event.triggered)&&(y.indexOf(".")>-1&&(y=(g=y.split(".")).shift(),g.sort()),l=y.indexOf(":")<0&&"on"+y,(e=e[v.expando]?e:new v.Event(y,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:v.makeArray(t,[e]),p=v.event.special[y]||{},i||!p.trigger||!1!==p.trigger.apply(r,t))){if(!i&&!p.noBubble&&!v.isWindow(r)){for(c=p.delegateType||y,st.test(c+y)||(s=s.parentNode);s;s=s.parentNode)h.push(s),u=s;u===(r.ownerDocument||a)&&h.push(u.defaultView||u.parentWindow||n)}for(o=0;(s=h[o++])&&!e.isPropagationStopped();)e.type=o>1?c:p.bindType||y,(f=(F.get(s,"events")||{})[e.type]&&F.get(s,"handle"))&&f.apply(s,t),(f=l&&s[l])&&f.apply&&N(s)&&(e.result=f.apply(s,t),!1===e.result&&e.preventDefault());return e.type=y,i||e.isDefaultPrevented()||p._default&&!1!==p._default.apply(h.pop(),t)||!N(r)||l&&v.isFunction(r[y])&&!v.isWindow(r)&&((u=r[l])&&(r[l]=null),v.event.triggered=y,r[y](),v.event.triggered=void 0,u&&(r[l]=u)),e.result}},simulate:function(e,t,n){var r=v.extend(new v.Event,n,{type:e,isSimulated:!0});v.event.trigger(r,null,t)}}),v.fn.extend({trigger:function(e,t){return this.each(function(){v.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return v.event.trigger(e,t,n,!0)}}),v.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){v.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),v.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),h.focusin="onfocusin"in n,h.focusin||v.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){v.event.simulate(t,e.target,v.event.fix(e))};v.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=F.access(r,t);i||r.addEventListener(e,n,!0),F.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=F.access(r,t)-1;i?F.access(r,t,i):(r.removeEventListener(e,n,!0),F.remove(r,t))}}});var ut=n.location,ct=v.now(),lt=/\?/;v.parseJSON=function(e){return JSON.parse(e+"")},v.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||v.error("Invalid XML: "+e),t};var ft=/#.*$/,pt=/([?&])_=[^&]*/,dt=/^(.*?):[ \t]*([^\r\n]*)$/gm,ht=/^(?:GET|HEAD)$/,vt=/^\/\//,yt={},gt={},mt="*/".concat("*"),_t=a.createElement("a");function bt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(L)||[];if(v.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function wt(e,t,n,r){var i={},o=e===gt;function a(s){var u;return i[s]=!0,v.each(e[s]||[],function(e,s){var c=s(t,n,r);return"string"!=typeof c||o||i[c]?o?!(u=c):void 0:(t.dataTypes.unshift(c),a(c),!1)}),u}return a(t.dataTypes[0])||!i["*"]&&a("*")}function kt(e,t){var n,r,i=v.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&v.extend(!0,e,r),e}_t.href=ut.href,v.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ut.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ut.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":mt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":v.parseJSON,"text xml":v.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?kt(kt(e,v.ajaxSettings),t):kt(v.ajaxSettings,e)},ajaxPrefilter:bt(yt),ajaxTransport:bt(gt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,s,u,c,l,f,p=v.ajaxSetup({},t),d=p.context||p,h=p.context&&(d.nodeType||d.jquery)?v(d):v.event,y=v.Deferred(),g=v.Callbacks("once memory"),m=p.statusCode||{},_={},b={},w=0,k="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!s)for(s={};t=dt.exec(o);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=b[n]=b[n]||e,_[e]=t),this},overrideMimeType:function(e){return w||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(w<2)for(t in e)m[t]=[m[t],e[t]];else E.always(e[E.status]);return this},abort:function(e){var t=e||k;return r&&r.abort(t),S(0,t),this}};if(y.promise(E).complete=g.add,E.success=E.done,E.error=E.fail,p.url=((e||p.url||ut.href)+"").replace(ft,"").replace(vt,ut.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=v.trim(p.dataType||"*").toLowerCase().match(L)||[""],null==p.crossDomain){c=a.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=_t.protocol+"//"+_t.host!=c.protocol+"//"+c.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=v.param(p.data,p.traditional)),wt(yt,p,t,E),2===w)return E;for(f in(l=v.event&&p.global)&&0==v.active++&&v.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!ht.test(p.type),i=p.url,p.hasContent||(p.data&&(i=p.url+=(lt.test(i)?"&":"?")+p.data,delete p.data),!1===p.cache&&(p.url=pt.test(i)?i.replace(pt,"$1_="+ct++):i+(lt.test(i)?"&":"?")+"_="+ct++)),p.ifModified&&(v.lastModified[i]&&E.setRequestHeader("If-Modified-Since",v.lastModified[i]),v.etag[i]&&E.setRequestHeader("If-None-Match",v.etag[i])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&E.setRequestHeader("Content-Type",p.contentType),E.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+mt+"; q=0.01":""):p.accepts["*"]),p.headers)E.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(!1===p.beforeSend.call(d,E,p)||2===w))return E.abort();for(f in k="abort",{success:1,error:1,complete:1})E[f](p[f]);if(r=wt(gt,p,t,E)){if(E.readyState=1,l&&h.trigger("ajaxSend",[E,p]),2===w)return E;p.async&&p.timeout>0&&(u=n.setTimeout(function(){E.abort("timeout")},p.timeout));try{w=1,r.send(_,S)}catch(e){if(!(w<2))throw e;S(-1,e)}}else S(-1,"No Transport");function S(e,t,a,s){var c,f,_,b,k,S=t;2!==w&&(w=2,u&&n.clearTimeout(u),r=void 0,o=s||"",E.readyState=e>0?4:0,c=e>=200&&e<300||304===e,a&&(b=function(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(p,E,a)),b=function(e,t,n,r){var i,o,a,s,u,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=l.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=c[u+" "+o]||c["* "+o]))for(i in c)if((s=i.split(" "))[1]===o&&(a=c[u+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[i]:!0!==c[i]&&(o=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(p,b,E,c),c?(p.ifModified&&((k=E.getResponseHeader("Last-Modified"))&&(v.lastModified[i]=k),(k=E.getResponseHeader("etag"))&&(v.etag[i]=k)),204===e||"HEAD"===p.type?S="nocontent":304===e?S="notmodified":(S=b.state,f=b.data,c=!(_=b.error))):(_=S,!e&&S||(S="error",e<0&&(e=0))),E.status=e,E.statusText=(t||S)+"",c?y.resolveWith(d,[f,S,E]):y.rejectWith(d,[E,S,_]),E.statusCode(m),m=void 0,l&&h.trigger(c?"ajaxSuccess":"ajaxError",[E,p,c?f:_]),g.fireWith(d,[E,S]),l&&(h.trigger("ajaxComplete",[E,p]),--v.active||v.event.trigger("ajaxStop")))}return E},getJSON:function(e,t,n){return v.get(e,t,n,"json")},getScript:function(e,t){return v.get(e,void 0,t,"script")}}),v.each(["get","post"],function(e,t){v[t]=function(e,n,r,i){return v.isFunction(n)&&(i=i||r,r=n,n=void 0),v.ajax(v.extend({url:e,type:t,dataType:i,data:n,success:r},v.isPlainObject(e)&&e))}}),v._evalUrl=function(e){return v.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},v.fn.extend({wrapAll:function(e){var t;return v.isFunction(e)?this.each(function(t){v(this).wrapAll(e.call(this,t))}):(this[0]&&(t=v(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return v.isFunction(e)?this.each(function(t){v(this).wrapInner(e.call(this,t))}):this.each(function(){var t=v(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=v.isFunction(e);return this.each(function(n){v(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){v.nodeName(this,"body")||v(this).replaceWith(this.childNodes)}).end()}}),v.expr.filters.hidden=function(e){return!v.expr.filters.visible(e)},v.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var Et=/%20/g,St=/\[\]$/,Tt=/\r?\n/g,Ct=/^(?:submit|button|image|reset|file)$/i,xt=/^(?:input|select|textarea|keygen)/i;function Ot(e,t,n,r){var i;if(v.isArray(t))v.each(t,function(t,i){n||St.test(e)?r(e,i):Ot(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==v.type(t))r(e,t);else for(i in t)Ot(e+"["+i+"]",t[i],n,r)}v.param=function(e,t){var n,r=[],i=function(e,t){t=v.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=v.ajaxSettings&&v.ajaxSettings.traditional),v.isArray(e)||e.jquery&&!v.isPlainObject(e))v.each(e,function(){i(this.name,this.value)});else for(n in e)Ot(n,e[n],t,i);return r.join("&").replace(Et,"+")},v.fn.extend({serialize:function(){return v.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=v.prop(this,"elements");return e?v.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!v(this).is(":disabled")&&xt.test(this.nodeName)&&!Ct.test(e)&&(this.checked||!$.test(e))}).map(function(e,t){var n=v(this).val();return null==n?null:v.isArray(n)?v.map(n,function(e){return{name:t.name,value:e.replace(Tt,"\r\n")}}):{name:t.name,value:n.replace(Tt,"\r\n")}}).get()}}),v.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Pt={0:200,1223:204},At=v.ajaxSettings.xhr();h.cors=!!At&&"withCredentials"in At,h.ajax=At=!!At,v.ajaxTransport(function(e){var t,r;if(h.cors||At&&!e.crossDomain)return{send:function(i,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(a,i[a]);t=function(e){return function(){t&&(t=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Pt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),r=s.onerror=t("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){t&&r()})},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),v.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return v.globalEval(e),e}}}),v.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),v.ajaxTransport("script",function(e){var t,n;if(e.crossDomain)return{send:function(r,i){t=v("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),a.head.appendChild(t[0])},abort:function(){n&&n()}}});var jt=[],Rt=/(=)\?(?=&|$)|\?\?/;v.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=jt.pop()||v.expando+"_"+ct++;return this[e]=!0,e}}),v.ajaxPrefilter("json jsonp",function(e,t,r){var i,o,a,s=!1!==e.jsonp&&(Rt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Rt.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=v.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Rt,"$1"+i):!1!==e.jsonp&&(e.url+=(lt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||v.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=n[i],n[i]=function(){a=arguments},r.always(function(){void 0===o?v(n).removeProp(i):n[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,jt.push(i)),a&&v.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),v.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||a;var r=T.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=ie([e],t,i),i&&i.length&&v(i).remove(),v.merge([],r.childNodes))};var It=v.fn.load;function Lt(e){return v.isWindow(e)?e:9===e.nodeType&&e.defaultView}v.fn.load=function(e,t,n){if("string"!=typeof e&&It)return It.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=v.trim(e.slice(s)),e=e.slice(0,s)),v.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&v.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?v("<div>").append(v.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},v.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){v.fn[t]=function(e){return this.on(t,e)}}),v.expr.filters.animated=function(e){return v.grep(v.timers,function(t){return e===t.elem}).length},v.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,c=v.css(e,"position"),l=v(e),f={};"static"===c&&(e.style.position="relative"),s=l.offset(),o=v.css(e,"top"),u=v.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1?(a=(r=l.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),v.isFunction(t)&&(t=t.call(e,n,v.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):l.css(f)}},v.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){v.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;return o?(t=o.documentElement,v.contains(t,r)?(i=r.getBoundingClientRect(),n=Lt(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i):void 0},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===v.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),v.nodeName(e[0],"html")||(r=e.offset()),r.top+=v.css(e[0],"borderTopWidth",!0),r.left+=v.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-v.css(n,"marginTop",!0),left:t.left-r.left-v.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===v.css(e,"position");)e=e.offsetParent;return e||je})}}),v.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;v.fn[e]=function(r){return D(this,function(e,r,i){var o=Lt(e);if(void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),v.each(["top","left"],function(e,t){v.cssHooks[t]=Ie(h.pixelPosition,function(e,n){if(n)return n=Re(e,t),Oe.test(n)?v(e).position()[t]+"px":n})}),v.each({Height:"height",Width:"width"},function(e,t){v.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){v.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===i?"margin":"border");return D(this,function(t,n,r){var i;return v.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?v.css(t,n,a):v.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),v.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},size:function(){return this.length}}),v.fn.andSelf=v.fn.addBack,void 0===(r=function(){return v}.apply(t,[]))||(e.exports=r);var Mt=n.jQuery,Dt=n.$;return v.noConflict=function(e){return n.$===v&&(n.$=Dt),e&&n.jQuery===v&&(n.jQuery=Mt),v},i||(n.jQuery=n.$=v),v},"object"==typeof e&&"object"==typeof e.exports?e.exports=i.document?o(i,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return o(e)}:o(i)},function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o=Object.defineProperty,a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,l=c&&c(Object);e.exports=function e(t,n,f){if("string"!=typeof n){if(l){var p=c(n);p&&p!==l&&e(t,p,f)}var d=a(n);s&&(d=d.concat(s(n)));for(var h=0;h<d.length;++h){var v=d[h];if(!(r[v]||i[v]||f&&f[v])){var y=u(n,v);try{o(t,v,y)}catch(e){}}}return t}return t}},function(e,t,n){var r=n(302),i=n(301),o=i;o.v1=r,o.v4=i,e.exports=o},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(62),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.alias=t.wrapStore=t.Store=void 0;var r=a(n(192)),i=a(n(173)),o=a(n(171));function a(e){return e&&e.__esModule?e:{default:e}}t.Store=r.default,t.wrapStore=i.default,t.alias=o.default},function(e,t,n){"use strict";var r=n(315),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=f;var o=n(299);o.inherits=n(24);var a=n(504),s=n(337);o.inherits(f,a);for(var u=i(s.prototype),c=0;c<u.length;c++){var l=u[c];f.prototype[l]||(f.prototype[l]=s.prototype[l])}function f(e){if(!(this instanceof f))return new f(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",p)}function p(){this.allowHalfOpen||this._writableState.ended||r(d,this)}function d(e){e.end()}Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),r(t,e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=new class{constructor(){this.DEFAULT_PLATFORM="Default",this.WINDOWS="Windows"}getPlatform(){switch(window.navigator.platform){case"Win":case"Windows":case"Win16":case"Win32":case"Win64":case"WinCE":case"OS/2":case"Pocket PC":return"Windows";default:return"Default"}}isWindowsPlatform(){return this.getPlatform()===this.WINDOWS}isDefaultPlatform(){return this.getPlatform()===this.DEFAULT_PLATFORM}isEdgeBrowser(){return navigator.userAgent.includes("Edg")}},e.exports=t.default},,function(e,t,n){"use strict";e.exports=n(281)},,,,function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(178),i=n(177),o=n(176),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},function(e,t,n){(function(e){var r=n(35),i=n(179),o="object"==typeof t&&t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u}).call(this,n(28)(e))},function(e,t,n){var r=n(182),i=n(181),o=n(104),a=n(157),s=n(95),u=n(156),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),l=!n&&i(e),f=!n&&!l&&a(e),p=!n&&!l&&!f&&u(e),d=n||l||f||p,h=d?r(e.length,String):[],v=h.length;for(var y in e)!t&&!c.call(e,y)||d&&("length"==y||f&&("offset"==y||"parent"==y)||p&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,v))||h.push(y);return h}},function(e,t,n){var r=n(158),i=n(175),o=n(88);e.exports=function(e){return o(e)?r(e,!0):i(e)}},function(e,t,n){var r=n(86),i=n(88),o=n(95),a=n(34);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(97),i=n(186),o=n(185);e.exports=function(e,t){return o(i(e,t,r),e+"")}},function(e,t,n){var r=n(163),i=n(160);e.exports=function(e){return r(function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var u=n[r];u&&e(t,u,r,a)}return t})}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var r=n(191),i=n(99);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var c=t[s],l=o?o(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),a?i(n,c,l):r(n,c,l)}return n}},function(e,t,n){var r=n(166),i=n(164),o=n(159),a=i(function(e,t){r(t,o(t),e)});e.exports=a},,function(e,t,n){var r;
/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r))e.push(i.apply(null,r));else if("object"===o)for(var a in r)n.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}void 0!==e&&e.exports?e.exports=i:void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){return function(t){return function(n){var r=e[n.type];return t(r?r(n):n)}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=[];return Object.keys(t).forEach(function(i){e[i]!==t[i]&&n.push({key:i,value:t[i],change:r.DIFF_STATUS_UPDATED})}),Object.keys(e).forEach(function(e){t[e]||n.push({key:e,change:r.DIFF_STATUS_REMOVED})}),n};var r=n(60)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(60),o=n(172),a=(r=o)&&r.__esModule?r:{default:r};var s=function(e,t){Promise.resolve(e).then(function(e){t({error:null,value:e})}).catch(function(e){console.error("error dispatching result:",e),t({error:e.message,value:null})})};t.default=function(e,t){var n=t.portName,r=t.dispatchResponder;if(!n)throw new Error("portName is required in options");r||(r=s);var o=function(t,o,a){if(t.type===i.DISPATCH_TYPE&&t.portName===n){var s=Object.assign({},t.payload,{_sender:o}),u=null;try{u=e.dispatch(s)}catch(e){u=Promise.reject(e.message),console.error(e)}return r(u,a),!0}},u=function(t){if(t.name===n){var r=e.getState(),o=e.subscribe(function(){var n=e.getState(),o=(0,a.default)(r,n);o.length&&(r=n,t.postMessage({type:i.PATCH_STATE_TYPE,payload:o}))});t.onDisconnect.addListener(o),t.postMessage({type:i.STATE_TYPE,payload:r})}};chrome.runtime.onMessage.addListener(o),chrome.runtime.onMessageExternal?chrome.runtime.onMessageExternal.addListener(o):console.warn("runtime.onMessageExternal is not supported"),chrome.runtime.onConnect.addListener(u),chrome.runtime.onConnectExternal?chrome.runtime.onConnectExternal.addListener(u):console.warn("runtime.onConnectExternal is not supported")}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var r=n(34),i=n(155),o=n(174),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},function(e,t,n){(function(e){var r=n(89),i="object"==typeof t&&t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{return a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,n(28)(e))},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){var r=n(44),i=n(96),o=n(43),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(44),i=n(43),o="[object Arguments]";e.exports=function(e){return i(e)&&r(e)==o}},function(e,t,n){var r=n(180),i=n(43),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t){var n=800,r=16,i=Date.now;e.exports=function(e){var t=0,o=0;return function(){var a=i(),s=r-(a-o);if(o=a,s>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var r=n(161),i=n(98),o=n(97),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},function(e,t,n){var r=n(184),i=n(183)(r);e.exports=i},function(e,t,n){var r=n(162),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),u=Array(s);++a<s;)u[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=n(u),r(e,this,c)}}},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(35)["__core-js_shared__"];e.exports=r},function(e,t,n){var r,i=n(188),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},function(e,t,n){var r=n(90),i=n(189),o=n(34),a=n(165),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,p=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?p:s).test(a(e))}},function(e,t,n){var r=n(99),i=n(86),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(167),a=(r=o)&&r.__esModule?r:{default:r},s=n(60);var u=function(){function e(t){var n=this,r=t.portName,i=t.state,o=void 0===i?{}:i,a=t.extensionId,u=void 0===a?"":a;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!r)throw new Error("portName is required in options");this.portName=r,this.readyResolved=!1,this.readyPromise=new Promise(function(e){return n.readyResolve=e}),this.extensionId=u,this.port=chrome.runtime.connect(this.extensionId,{name:r}),this.listeners=[],this.state=o,this.port.onMessage.addListener(function(e){switch(e.type){case s.STATE_TYPE:n.replaceState(e.payload),n.readyResolved||(n.readyResolved=!0,n.readyResolve());break;case s.PATCH_STATE_TYPE:n.patchState(e.payload)}}),this.dispatch=this.dispatch.bind(this)}return i(e,[{key:"ready",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null!==e?this.readyPromise.then(e):this.readyPromise}},{key:"subscribe",value:function(e){var t=this;return this.listeners.push(e),function(){t.listeners=t.listeners.filter(function(t){return t!==e})}}},{key:"patchState",value:function(e){var t=Object.assign({},this.state);e.forEach(function(e){var n=e.change,r=e.key,i=e.value;switch(n){case s.DIFF_STATUS_UPDATED:t[r]=i;break;case s.DIFF_STATUS_REMOVED:Reflect.deleteProperty(t,r)}}),this.state=t,this.listeners.forEach(function(e){return e()})}},{key:"replaceState",value:function(e){this.state=e,this.listeners.forEach(function(e){return e()})}},{key:"getState",value:function(){return this.state}},{key:"dispatch",value:function(e){var t=this;return new Promise(function(n,r){chrome.runtime.sendMessage(t.extensionId,{type:s.DISPATCH_TYPE,portName:t.portName,payload:e},function(e){var t=e.error,i=e.value;if(t){var o=new Error("\nLooks like there is an error in the background page. You might want to inspect your background page for more details.\n"+t);r((0,a.default)(o,t))}else n(i&&i.payload)})})}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n=e.Symbol;"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable";return t}},function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var i,o,a=n(193),s=(i=a)&&i.__esModule?i:{default:i};o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var u=(0,s.default)(o);t.default=u}).call(this,n(12),n(28)(e))},,,,,,,,,,function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i,o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(e,t,n){"use strict";var r=n(84),i=n(133),o=n(132);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";var r=n(108);e.exports=r.renderSubtreeIntoContainer},function(e,t,n){"use strict";var r=n(3),i=(n(21),n(6)),o=n(38),a=n(107);n(2),n(4);e.exports=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=o.get(e);if(t)return(t=a(t))?i.getNodeFromInstance(t):null;"function"==typeof e.render?r("44"):r("45",Object.keys(e))}},function(e,t,n){"use strict";e.exports="15.6.2"},function(e,t,n){"use strict";var r=65521;e.exports=function(e){for(var t=1,n=0,i=0,o=e.length,a=-4&o;i<a;){for(var s=Math.min(i+4096,a);i<s;i+=4)n+=(t+=e.charCodeAt(i))+(t+=e.charCodeAt(i+1))+(t+=e.charCodeAt(i+2))+(t+=e.charCodeAt(i+3));t%=r,n%=r}for(;i<o;i++)n+=t+=e.charCodeAt(i);return(t%=r)|(n%=r)<<16}},function(e,t,n){"use strict";var r=n(209),i=/\/?>/,o=/^<\!\-\-/,a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return o.test(e)?e:e.replace(i," "+a.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(a.CHECKSUM_ATTR_NAME);return n=n&&parseInt(n,10),r(e)===n}};e.exports=a},function(e,t,n){"use strict";e.exports={useCreateElement:!0,useFiber:!1}},function(e,t,n){"use strict";n(68);var r=9;e.exports=function(e,t){return{_topLevelWrapper:e,_idCounter:1,_ownerDocument:t?t.nodeType===r?t:t.ownerDocument:null,_node:t,_tag:t?t.nodeName.toLowerCase():null,_namespaceURI:t?t.namespaceURI:null}}},function(e,t,n){"use strict";var r=n(55);function i(e,t,n,i){return r.call(this,e,t,n,i)}r.augmentClass(i,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),e.exports=i},function(e,t,n){"use strict";var r=n(20);function i(e,t,n,i){return r.call(this,e,t,n,i)}r.augmentClass(i,{propertyName:null,elapsedTime:null,pseudoElement:null}),e.exports=i},function(e,t,n){"use strict";var r=n(39),i={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:n(78)};function o(e,t,n,i){return r.call(this,e,t,n,i)}r.augmentClass(o,i),e.exports=o},function(e,t,n){"use strict";var r=n(55);function i(e,t,n,i){return r.call(this,e,t,n,i)}r.augmentClass(i,{dataTransfer:null}),e.exports=i},function(e,t,n){"use strict";var r=n(67),i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=function(e){if(e.key){var t=i[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=r(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?o[e.keyCode]||"Unidentified":""}},function(e,t,n){"use strict";var r=n(39),i=n(67),o={key:n(217),location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:n(78),charCode:function(e){return"keypress"===e.type?i(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?i(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};function a(e,t,n,i){return r.call(this,e,t,n,i)}r.augmentClass(a,o),e.exports=a},function(e,t,n){"use strict";var r=n(39);function i(e,t,n,i){return r.call(this,e,t,n,i)}r.augmentClass(i,{relatedTarget:null}),e.exports=i},function(e,t,n){"use strict";var r=n(20),i={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};function o(e,t,n,i){return r.call(this,e,t,n,i)}r.augmentClass(o,i),e.exports=o},function(e,t,n){"use strict";var r=n(20);function i(e,t,n,i){return r.call(this,e,t,n,i)}r.augmentClass(i,{animationName:null,elapsedTime:null,pseudoElement:null}),e.exports=i},function(e,t,n){"use strict";var r=n(3),i=n(111),o=n(41),a=n(6),s=n(221),u=n(220),c=n(20),l=n(219),f=n(218),p=n(55),d=n(216),h=n(215),v=n(214),y=n(39),g=n(213),m=n(17),_=n(67),b=(n(2),{}),w={};["abort","animationEnd","animationIteration","animationStart","blur","canPlay","canPlayThrough","click","contextMenu","copy","cut","doubleClick","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","focus","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","progress","rateChange","reset","scroll","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchMove","touchStart","transitionEnd","volumeChange","waiting","wheel"].forEach(function(e){var t=e[0].toUpperCase()+e.slice(1),n="on"+t,r="top"+t,i={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[r]};b[e]=i,w[r]=i});var k={};function E(e){return"."+e._rootNodeID}function S(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}var T={eventTypes:b,extractEvents:function(e,t,n,i){var a,m=w[e];if(!m)return null;switch(e){case"topAbort":case"topCanPlay":case"topCanPlayThrough":case"topDurationChange":case"topEmptied":case"topEncrypted":case"topEnded":case"topError":case"topInput":case"topInvalid":case"topLoad":case"topLoadedData":case"topLoadedMetadata":case"topLoadStart":case"topPause":case"topPlay":case"topPlaying":case"topProgress":case"topRateChange":case"topReset":case"topSeeked":case"topSeeking":case"topStalled":case"topSubmit":case"topSuspend":case"topTimeUpdate":case"topVolumeChange":case"topWaiting":a=c;break;case"topKeyPress":if(0===_(n))return null;case"topKeyDown":case"topKeyUp":a=f;break;case"topBlur":case"topFocus":a=l;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":a=p;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":a=d;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":a=h;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":a=s;break;case"topTransitionEnd":a=v;break;case"topScroll":a=y;break;case"topWheel":a=g;break;case"topCopy":case"topCut":case"topPaste":a=u}a||r("86",e);var b=a.getPooled(m,t,n,i);return o.accumulateTwoPhaseDispatches(b),b},didPutListener:function(e,t,n){if("onClick"===t&&!S(e._tag)){var r=E(e),o=a.getNodeFromInstance(e);k[r]||(k[r]=i.listen(o,"click",m))}},willDeleteListener:function(e,t){if("onClick"===t&&!S(e._tag)){var n=E(e);k[n].remove(),delete k[n]}}};e.exports=T},function(e,t,n){"use strict";var r=n(41),i=n(11),o=n(6),a=n(110),s=n(20),u=n(109),c=n(124),l=n(72),f=i.canUseDOM&&"documentMode"in document&&document.documentMode<=11,p={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:["topBlur","topContextMenu","topFocus","topKeyDown","topKeyUp","topMouseDown","topMouseUp","topSelectionChange"]}},d=null,h=null,v=null,y=!1,g=!1;function m(e,t){if(y||null==d||d!==u())return null;var n=function(e){if("selectionStart"in e&&a.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}(d);if(!v||!l(v,n)){v=n;var i=s.getPooled(p.select,h,e,t);return i.type="select",i.target=d,r.accumulateTwoPhaseDispatches(i),i}return null}var _={eventTypes:p,extractEvents:function(e,t,n,r){if(!g)return null;var i=t?o.getNodeFromInstance(t):window;switch(e){case"topFocus":(c(i)||"true"===i.contentEditable)&&(d=i,h=t,v=null);break;case"topBlur":d=null,h=null,v=null;break;case"topMouseDown":y=!0;break;case"topContextMenu":case"topMouseUp":return y=!1,m(n,r);case"topSelectionChange":if(f)break;case"topKeyDown":case"topKeyUp":return m(n,r)}return null},didPutListener:function(e,t,n){"onSelect"===t&&(g=!0)}};e.exports=_},function(e,t,n){"use strict";var r="http://www.w3.org/1999/xlink",i="http://www.w3.org/XML/1998/namespace",o={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},a={Properties:{},DOMAttributeNamespaces:{xlinkActuate:r,xlinkArcrole:r,xlinkHref:r,xlinkRole:r,xlinkShow:r,xlinkTitle:r,xlinkType:r,xmlBase:i,xmlLang:i,xmlSpace:i},DOMAttributeNames:{}};Object.keys(o).forEach(function(e){a.Properties[e]=0,o[e]&&(a.DOMAttributeNames[e]=o[e])}),e.exports=a},function(e,t,n){"use strict";e.exports=function(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"==typeof t.Node?e instanceof t.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}},function(e,t,n){"use strict";var r=n(225);e.exports=function(e){return r(e)&&3==e.nodeType}},function(e,t,n){"use strict";var r=n(226);e.exports=function e(t,n){return!(!t||!n)&&(t===n||!r(t)&&(r(n)?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}},function(e,t,n){"use strict";function r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function i(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}e.exports=function(e,t){for(var n=r(e),o=0,a=0;n;){if(3===n.nodeType){if(a=o+n.textContent.length,o<=t&&a>=t)return{node:n,offset:t-o};o=a}n=r(i(n))}}},function(e,t,n){"use strict";var r=n(11),i=n(228),o=n(128);function a(e,t,n,r){return e===n&&t===r}var s=r.canUseDOM&&"selection"in document&&!("getSelection"in window),u={getOffsets:s?function(e){var t=document.selection.createRange(),n=t.text.length,r=t.duplicate();r.moveToElementText(e),r.setEndPoint("EndToStart",t);var i=r.text.length;return{start:i,end:i+n}}:function(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,r=t.anchorOffset,i=t.focusNode,o=t.focusOffset,s=t.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(e){return null}var u=a(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)?0:s.toString().length,c=s.cloneRange();c.selectNodeContents(e),c.setEnd(s.startContainer,s.startOffset);var l=a(c.startContainer,c.startOffset,c.endContainer,c.endOffset)?0:c.toString().length,f=l+u,p=document.createRange();p.setStart(n,r),p.setEnd(i,o);var d=p.collapsed;return{start:d?f:l,end:d?l:f}},setOffsets:s?function(e,t){var n,r,i=document.selection.createRange().duplicate();void 0===t.end?r=n=t.start:t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),i.moveToElementText(e),i.moveStart("character",n),i.setEndPoint("EndToStart",i),i.moveEnd("character",r-n),i.select()}:function(e,t){if(window.getSelection){var n=window.getSelection(),r=e[o()].length,a=Math.min(t.start,r),s=void 0===t.end?a:Math.min(t.end,r);if(!n.extend&&a>s){var u=s;s=a,a=u}var c=i(e,a),l=i(e,s);if(c&&l){var f=document.createRange();f.setStart(c.node,c.offset),n.removeAllRanges(),a>s?(n.addRange(f),n.extend(l.node,l.offset)):(f.setEnd(l.node,l.offset),n.addRange(f))}}}};e.exports=u},function(e,t,n){"use strict";var r=n(5),i=n(127),o=n(25),a=n(52),s=n(110),u=(n(15),n(56)),c=n(69),l=[{initialize:s.getSelectionInformation,close:s.restoreSelection},{initialize:function(){var e=a.isEnabled();return a.setEnabled(!1),e},close:function(e){a.setEnabled(e)}},{initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}}];function f(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=i.getPooled(null),this.useCreateElement=e}var p={getTransactionWrappers:function(){return l},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return c},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(e){this.reactMountReady.rollback(e)},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null}};r(f.prototype,u,p),o.addPoolingTo(f),e.exports=f},function(e,t,n){"use strict";var r=n(31),i=n(40),o=n(82),a=n(73),s=n(115),u=n(52),c=n(114),l=n(16),f={Component:a.injection,DOMProperty:r.injection,EmptyComponent:s.injection,EventPluginHub:i.injection,EventPluginUtils:o.injection,EventEmitter:u.injection,HostComponent:c.injection,Updates:l.injection};e.exports=f},function(e,t,n){"use strict";e.exports=function(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}},function(e,t,n){"use strict";var r=n(5),i=n(111),o=n(11),a=n(25),s=n(6),u=n(16),c=n(80),l=n(232);function f(e){for(;e._hostParent;)e=e._hostParent;var t=s.getNodeFromInstance(e).parentNode;return s.getClosestInstanceFromNode(t)}function p(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function d(e){var t=c(e.nativeEvent),n=s.getClosestInstanceFromNode(t),r=n;do{e.ancestors.push(r),r=r&&f(r)}while(r);for(var i=0;i<e.ancestors.length;i++)n=e.ancestors[i],h._handleTopLevel(e.topLevelType,n,e.nativeEvent,c(e.nativeEvent))}r(p.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),a.addPoolingTo(p,a.twoArgumentPooler);var h={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:o.canUseDOM?window:null,setHandleTopLevel:function(e){h._handleTopLevel=e},setEnabled:function(e){h._enabled=!!e},isEnabled:function(){return h._enabled},trapBubbledEvent:function(e,t,n){return n?i.listen(n,t,h.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){return n?i.capture(n,t,h.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=function(e){e(l(window))}.bind(null,e);i.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(h._enabled){var n=p.getPooled(e,t);try{u.batchedUpdates(d,n)}finally{p.release(n)}}}};e.exports=h},function(e,t,n){"use strict";var r=n(5),i=n(16),o=n(56),a=n(17),s={initialize:a,close:function(){f.isBatchingUpdates=!1}},u=[{initialize:a,close:i.flushBatchedUpdates.bind(i)},s];function c(){this.reinitializeTransaction()}r(c.prototype,o,{getTransactionWrappers:function(){return u}});var l=new c,f={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,i,o){var a=f.isBatchingUpdates;return f.isBatchingUpdates=!0,a?e(t,n,r,i,o):l.perform(e,null,t,n,r,i,o)}};e.exports=f},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(77),a=n(29),s=n(6),u=n(53),c=(n(2),n(68),function(e){this._currentElement=e,this._stringText=""+e,this._hostNode=null,this._hostParent=null,this._domID=0,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});i(c.prototype,{mountComponent:function(e,t,n,r){var i=n._idCounter++,o=" react-text: "+i+" ";if(this._domID=i,this._hostParent=t,e.useCreateElement){var c=n._ownerDocument,l=c.createComment(o),f=c.createComment(" /react-text "),p=a(c.createDocumentFragment());return a.queueChild(p,a(l)),this._stringText&&a.queueChild(p,a(c.createTextNode(this._stringText))),a.queueChild(p,a(f)),s.precacheNode(this,l),this._closingComment=f,p}var d=u(this._stringText);return e.renderToStaticMarkup?d:"\x3c!--"+o+"--\x3e"+d+"\x3c!-- /react-text --\x3e"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var r=this.getHostNode();o.replaceDelimitedText(r[0],r[1],n)}}},getHostNode:function(){var e=this._commentNodes;if(e)return e;if(!this._closingComment)for(var t=s.getNodeFromInstance(this).nextSibling;;){if(null==t&&r("67",this._domID),8===t.nodeType&&" /react-text "===t.nodeValue){this._closingComment=t;break}t=t.nextSibling}return e=[this._hostNode,this._closingComment],this._commentNodes=e,e},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,s.uncacheNode(this)}}),e.exports=c},function(e,t,n){"use strict";var r=n(3);n(2);function i(e,t){"_hostNode"in e||r("33"),"_hostNode"in t||r("33");for(var n=0,i=e;i;i=i._hostParent)n++;for(var o=0,a=t;a;a=a._hostParent)o++;for(;n-o>0;)e=e._hostParent,n--;for(;o-n>0;)t=t._hostParent,o--;for(var s=n;s--;){if(e===t)return e;e=e._hostParent,t=t._hostParent}return null}e.exports={isAncestor:function(e,t){"_hostNode"in e||r("35"),"_hostNode"in t||r("35");for(;t;){if(t===e)return!0;t=t._hostParent}return!1},getLowestCommonAncestor:i,getParentInstance:function(e){return"_hostNode"in e||r("36"),e._hostParent},traverseTwoPhase:function(e,t,n){for(var r,i=[];e;)i.push(e),e=e._hostParent;for(r=i.length;r-- >0;)t(i[r],"captured",n);for(r=0;r<i.length;r++)t(i[r],"bubbled",n)},traverseEnterLeave:function(e,t,n,r,o){for(var a=e&&t?i(e,t):null,s=[];e&&e!==a;)s.push(e),e=e._hostParent;for(var u,c=[];t&&t!==a;)c.push(t),t=t._hostParent;for(u=0;u<s.length;u++)n(s[u],"bubbled",r);for(u=c.length;u-- >0;)n(c[u],"captured",o)}}},function(e,t,n){"use strict";var r=n(5),i=n(29),o=n(6),a=function(e){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=0};r(a.prototype,{mountComponent:function(e,t,n,r){var a=n._idCounter++;this._domID=a,this._hostParent=t,this._hostContainerInfo=n;var s=" react-empty: "+this._domID+" ";if(e.useCreateElement){var u=n._ownerDocument.createComment(s);return o.precacheNode(this,u),i(u)}return e.renderToStaticMarkup?"":"\x3c!--"+s+"--\x3e"},receiveComponent:function(){},getHostNode:function(){return o.getNodeFromInstance(this)},unmountComponent:function(){o.uncacheNode(this)}}),e.exports=a},function(e,t,n){"use strict";var r=n(69);n(4);var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.transaction=t}return e.prototype.isMounted=function(e){return!1},e.prototype.enqueueCallback=function(e,t,n){this.transaction.isInTransaction()&&r.enqueueCallback(e,t,n)},e.prototype.enqueueForceUpdate=function(e){this.transaction.isInTransaction()&&r.enqueueForceUpdate(e)},e.prototype.enqueueReplaceState=function(e,t){this.transaction.isInTransaction()&&r.enqueueReplaceState(e,t)},e.prototype.enqueueSetState=function(e,t){this.transaction.isInTransaction()&&r.enqueueSetState(e,t)},e}();e.exports=i},function(e,t,n){"use strict";var r=n(5),i=n(25),o=n(56),a=(n(15),n(238)),s=[];var u={enqueue:function(){}};function c(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.useCreateElement=!1,this.updateQueue=new a(this)}var l={getTransactionWrappers:function(){return s},getReactMountReady:function(){return u},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};r(c.prototype,o,l),i.addPoolingTo(c),e.exports=c},function(e,t,n){"use strict";(function(t){n(70);var r=n(113);n(4);function i(e,t,n,r){if(e&&"object"==typeof e){var i=e;0,void 0===i[n]&&null!=t&&(i[n]=t)}}void 0!==t&&Object({NODE_ENV:"production",TEST:void 0,LOG:"off",account:"https://account.goguardian.com",gatekeeper:"https://gatekeeper.goguardian.com",scribe:"https://agreements.goguardian.com/#/agree",floorWarden:"https://floor-warden.goguardian.com",magicHat:"https://signup.goguardian.com",adminV1:"https://goguardian.com",dashApi:"https://dashapi.goguardian.com",cortana:"https://cortana.goguardian.com",masterchief:"https://admin.goguardian.com",presenter:"https://x3-presenter.goguardian.com",x3Ui:"https://smart-alerts.goguardian.com",x3Predictor:"https://x3-predictor.goguardian.com",policyMaker:"https://x3-policy-maker.goguardian.com",reporter:"https://x3-reporter.goguardian.com",beaconFullpagePredictor:"https://beacon-fullpage-predictor.goguardian.com",mlEndpoint:"https://ml-endpoint.goguardian.com",tivan:"https://tivan.goguardian.com",dunce:"https://dunce.goguardian.com",chalkboard:"https://chalkboard.goguardian.com",enroll:"https://enroll.goguardian.com",extScreenshots:"https://screenshots.goguardian.com",inquisition:"https://inquisition.goguardian.com",snapper:"https://snapper.goguardian.com",teacher:"https://teacher.goguardian.com",offTaskAlerts:"https://taskiness-preprocessor.goguardian.com",scenesBlockPageUrl:"https://student.goguardian.com/teacher/blocked.html",blessUp:"https://director.goguardian.com",bigChune:"https://big-go-chune.goguardian.com",fleetApi:"https://fleet-api.goguardian.com",fleetUi:"https://fleet.goguardian.com",extapi:"https://extapi.goguardian.com",metrics:"https://countvoncount.goguardian.com",panther:"https://panther.goguardian.com",playButton:"https://play-button.goguardian.com",present:"https://rollcall.goguardian.com",quiddity:"https://quiddity.goguardian.com",shinkansen:"http://api.shinkansen.internal.goguardian.com",snat:"https://snat.goguardian.com",waluigi:"https://waluigi.goguardian.com",kingsHand:"https://kings-hand.goguardian.com",throneRoom:"https://manage.goguardian.com",beaconUI:"https://beacon.goguardian.com",landing:"https://www.goguardian.com",static:"https://static.goguardian.com",merchant:"https://merchant.goguardian.com",shylock:"https://shylock.goguardian.com",harambe:"https://harambe.goguardian.com",polyjuiceApi:"https://polyjuice-api.goguardian.com",potatoApi:"https://potato-juice.goguardian.com",supportApi:"https://support-api.goguardian.com",supportDashboard:"https://support-tools.goguardian.com",theftRecoveryApi:"https://theft-recovery.goguardian.com",courier:"",checkup:"https://checkup.goguardian.com",experiments:"https://experiments-api.goguardian.com"}),e.exports=function(e,t){if(null==e)return e;var n={};return r(e,i,n),n}}).call(this,n(18))},function(e,t,n){"use strict";var r="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";e.exports=function(e){var t=e&&(r&&e[r]||e[i]);if("function"==typeof t)return t}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=r},function(e,t,n){"use strict";var r=1;e.exports=function(){return r++}},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(33),a=n(73),s=n(21),u=n(81),c=n(38),l=(n(15),n(116)),f=n(30),p=n(85),d=(n(2),n(72)),h=n(71),v=(n(4),0),y=1,g=2;function m(e){}function _(e,t){0}m.prototype.render=function(){var e=c.get(this)._currentElement.type,t=e(this.props,this.context,this.updater);return _(e,t),t};var b=1,w={construct:function(e){this._currentElement=e,this._rootNodeID=0,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(e,t,n,i){this._context=i,this._mountOrder=b++,this._hostParent=t,this._hostContainerInfo=n;var a,s=this._currentElement.props,u=this._processContext(i),l=this._currentElement.type,f=e.getUpdateQueue(),d=function(e){return!(!e.prototype||!e.prototype.isReactComponent)}(l),h=this._constructComponent(d,s,u,f);d||null!=h&&null!=h.render?!function(e){return!(!e.prototype||!e.prototype.isPureReactComponent)}(l)?this._compositeType=v:this._compositeType=y:(a=h,_(),null===h||!1===h||o.isValidElement(h)||r("105",l.displayName||l.name||"Component"),h=new m(l),this._compositeType=g),h.props=s,h.context=u,h.refs=p,h.updater=f,this._instance=h,c.set(h,this);var w,k=h.state;return void 0===k&&(h.state=k=null),("object"!=typeof k||Array.isArray(k))&&r("106",this.getName()||"ReactCompositeComponent"),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,w=h.unstable_handleError?this.performInitialMountWithErrorHandling(a,t,n,e,i):this.performInitialMount(a,t,n,e,i),h.componentDidMount&&e.getReactMountReady().enqueue(h.componentDidMount,h),w},_constructComponent:function(e,t,n,r){return this._constructComponentWithoutOwner(e,t,n,r)},_constructComponentWithoutOwner:function(e,t,n,r){var i=this._currentElement.type;return e?new i(t,n,r):i(t,n,r)},performInitialMountWithErrorHandling:function(e,t,n,r,i){var o,a=r.checkpoint();try{o=this.performInitialMount(e,t,n,r,i)}catch(s){r.rollback(a),this._instance.unstable_handleError(s),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),a=r.checkpoint(),this._renderedComponent.unmountComponent(!0),r.rollback(a),o=this.performInitialMount(e,t,n,r,i)}return o},performInitialMount:function(e,t,n,r,i){var o=this._instance;o.componentWillMount&&(o.componentWillMount(),this._pendingStateQueue&&(o.state=this._processPendingState(o.props,o.context))),void 0===e&&(e=this._renderValidatedComponent());var a=l.getType(e);this._renderedNodeType=a;var s=this._instantiateReactComponent(e,a!==l.EMPTY);return this._renderedComponent=s,f.mountComponent(s,r,t,n,this._processChildContext(i),0)},getHostNode:function(){return f.getHostNode(this._renderedComponent)},unmountComponent:function(e){if(this._renderedComponent){var t=this._instance;if(t.componentWillUnmount&&!t._calledComponentWillUnmount)if(t._calledComponentWillUnmount=!0,e){var n=this.getName()+".componentWillUnmount()";u.invokeGuardedCallback(n,t.componentWillUnmount.bind(t))}else t.componentWillUnmount();this._renderedComponent&&(f.unmountComponent(this._renderedComponent,e),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=0,this._topLevelWrapper=null,c.remove(t)}},_maskContext:function(e){var t=this._currentElement.type.contextTypes;if(!t)return p;var n={};for(var r in t)n[r]=e[r];return n},_processContext:function(e){return this._maskContext(e)},_processChildContext:function(e){var t,n=this._currentElement.type,o=this._instance;if(o.getChildContext&&(t=o.getChildContext()),t){for(var a in"object"!=typeof n.childContextTypes&&r("107",this.getName()||"ReactCompositeComponent"),t)a in n.childContextTypes||r("108",this.getName()||"ReactCompositeComponent",a);return i({},e,t)}return e},_checkContextTypes:function(e,t,n){0},receiveComponent:function(e,t,n){var r=this._currentElement,i=this._context;this._pendingElement=null,this.updateComponent(t,r,e,i,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement?f.receiveComponent(this,this._pendingElement,e,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(e,t,n,i,o){var a=this._instance;null==a&&r("136",this.getName()||"ReactCompositeComponent");var s,u=!1;this._context===o?s=a.context:(s=this._processContext(o),u=!0);var c=t.props,l=n.props;t!==n&&(u=!0),u&&a.componentWillReceiveProps&&a.componentWillReceiveProps(l,s);var f=this._processPendingState(l,s),p=!0;this._pendingForceUpdate||(a.shouldComponentUpdate?p=a.shouldComponentUpdate(l,f,s):this._compositeType===y&&(p=!d(c,l)||!d(a.state,f))),this._updateBatchNumber=null,p?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,l,f,s,e,o)):(this._currentElement=n,this._context=o,a.props=l,a.state=f,a.context=s)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,o=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(o&&1===r.length)return r[0];for(var a=i({},o?r[0]:n.state),s=o?1:0;s<r.length;s++){var u=r[s];i(a,"function"==typeof u?u.call(n,a,e,t):u)}return a},_performComponentUpdate:function(e,t,n,r,i,o){var a,s,u,c=this._instance,l=Boolean(c.componentDidUpdate);l&&(a=c.props,s=c.state,u=c.context),c.componentWillUpdate&&c.componentWillUpdate(t,n,r),this._currentElement=e,this._context=o,c.props=t,c.state=n,c.context=r,this._updateRenderedComponent(i,o),l&&i.getReactMountReady().enqueue(c.componentDidUpdate.bind(c,a,s,u),c)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,i=this._renderValidatedComponent();if(h(r,i))f.receiveComponent(n,i,e,this._processChildContext(t));else{var o=f.getHostNode(n);f.unmountComponent(n,!1);var a=l.getType(i);this._renderedNodeType=a;var s=this._instantiateReactComponent(i,a!==l.EMPTY);this._renderedComponent=s;var u=f.mountComponent(s,e,this._hostParent,this._hostContainerInfo,this._processChildContext(t),0);this._replaceNodeWithMarkup(o,u,n)}},_replaceNodeWithMarkup:function(e,t,n){a.replaceNodeWithMarkup(e,t,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){return this._instance.render()},_renderValidatedComponent:function(){var e;if(this._compositeType!==g){s.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{s.current=null}}else e=this._renderValidatedComponentWithoutOwnerOrContext();return null===e||!1===e||o.isValidElement(e)||r("109",this.getName()||"ReactCompositeComponent"),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n&&r("110");var i=t.getPublicInstance();(n.refs===p?n.refs={}:n.refs)[e]=i},detachRef:function(e){delete this.getPublicInstance().refs[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return this._compositeType===g?null:e},_instantiateReactComponent:null};e.exports=w},function(e,t,n){"use strict";(function(t){var r=n(30),i=n(117),o=(n(70),n(71)),a=n(113);n(4);function s(e,t,n,r){var o=void 0===e[n];null!=t&&o&&(e[n]=i(t,!0))}void 0!==t&&Object({NODE_ENV:"production",TEST:void 0,LOG:"off",account:"https://account.goguardian.com",gatekeeper:"https://gatekeeper.goguardian.com",scribe:"https://agreements.goguardian.com/#/agree",floorWarden:"https://floor-warden.goguardian.com",magicHat:"https://signup.goguardian.com",adminV1:"https://goguardian.com",dashApi:"https://dashapi.goguardian.com",cortana:"https://cortana.goguardian.com",masterchief:"https://admin.goguardian.com",presenter:"https://x3-presenter.goguardian.com",x3Ui:"https://smart-alerts.goguardian.com",x3Predictor:"https://x3-predictor.goguardian.com",policyMaker:"https://x3-policy-maker.goguardian.com",reporter:"https://x3-reporter.goguardian.com",beaconFullpagePredictor:"https://beacon-fullpage-predictor.goguardian.com",mlEndpoint:"https://ml-endpoint.goguardian.com",tivan:"https://tivan.goguardian.com",dunce:"https://dunce.goguardian.com",chalkboard:"https://chalkboard.goguardian.com",enroll:"https://enroll.goguardian.com",extScreenshots:"https://screenshots.goguardian.com",inquisition:"https://inquisition.goguardian.com",snapper:"https://snapper.goguardian.com",teacher:"https://teacher.goguardian.com",offTaskAlerts:"https://taskiness-preprocessor.goguardian.com",scenesBlockPageUrl:"https://student.goguardian.com/teacher/blocked.html",blessUp:"https://director.goguardian.com",bigChune:"https://big-go-chune.goguardian.com",fleetApi:"https://fleet-api.goguardian.com",fleetUi:"https://fleet.goguardian.com",extapi:"https://extapi.goguardian.com",metrics:"https://countvoncount.goguardian.com",panther:"https://panther.goguardian.com",playButton:"https://play-button.goguardian.com",present:"https://rollcall.goguardian.com",quiddity:"https://quiddity.goguardian.com",shinkansen:"http://api.shinkansen.internal.goguardian.com",snat:"https://snat.goguardian.com",waluigi:"https://waluigi.goguardian.com",kingsHand:"https://kings-hand.goguardian.com",throneRoom:"https://manage.goguardian.com",beaconUI:"https://beacon.goguardian.com",landing:"https://www.goguardian.com",static:"https://static.goguardian.com",merchant:"https://merchant.goguardian.com",shylock:"https://shylock.goguardian.com",harambe:"https://harambe.goguardian.com",polyjuiceApi:"https://polyjuice-api.goguardian.com",potatoApi:"https://potato-juice.goguardian.com",supportApi:"https://support-api.goguardian.com",supportDashboard:"https://support-tools.goguardian.com",theftRecoveryApi:"https://theft-recovery.goguardian.com",courier:"",checkup:"https://checkup.goguardian.com",experiments:"https://experiments-api.goguardian.com"});var u={instantiateChildren:function(e,t,n,r){if(null==e)return null;var i={};return a(e,s,i),i},updateChildren:function(e,t,n,a,s,u,c,l,f){if(t||e){var p,d;for(p in t)if(t.hasOwnProperty(p)){var h=(d=e&&e[p])&&d._currentElement,v=t[p];if(null!=d&&o(h,v))r.receiveComponent(d,v,s,l),t[p]=d;else{d&&(a[p]=r.getHostNode(d),r.unmountComponent(d,!1));var y=i(v,!0);t[p]=y;var g=r.mountComponent(y,s,u,c,l,f);n.push(g)}}for(p in e)!e.hasOwnProperty(p)||t&&t.hasOwnProperty(p)||(d=e[p],a[p]=r.getHostNode(d),r.unmountComponent(d,!1))}},unmountChildren:function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];r.unmountComponent(i,t)}}};e.exports=u}).call(this,n(18))},function(e,t,n){"use strict";var r=n(3),i=n(73),o=(n(38),n(15),n(21),n(30)),a=n(245),s=(n(17),n(240));n(2);function u(e,t){return t&&(e=e||[]).push(t),e}function c(e,t){i.processChildrenUpdates(e,t)}var l={Mixin:{_reconcilerInstantiateChildren:function(e,t,n){return a.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r,i,o){var u;return u=s(t,0),a.updateChildren(e,u,n,r,i,this,this._hostContainerInfo,o,0),u},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var i=[],a=0;for(var s in r)if(r.hasOwnProperty(s)){var u=r[s];0;var c=o.mountComponent(u,t,this,this._hostContainerInfo,n,0);u._mountIndex=a++,i.push(c)}return i},updateTextContent:function(e){var t,n=this._renderedChildren;for(var i in a.unmountChildren(n,!1),n)n.hasOwnProperty(i)&&r("118");c(this,[(t=e,{type:"TEXT_CONTENT",content:t,fromIndex:null,fromNode:null,toIndex:null,afterNode:null})])},updateMarkup:function(e){var t,n=this._renderedChildren;for(var i in a.unmountChildren(n,!1),n)n.hasOwnProperty(i)&&r("118");c(this,[(t=e,{type:"SET_MARKUP",content:t,fromIndex:null,fromNode:null,toIndex:null,afterNode:null})])},updateChildren:function(e,t,n){this._updateChildren(e,t,n)},_updateChildren:function(e,t,n){var r=this._renderedChildren,i={},a=[],s=this._reconcilerUpdateChildren(r,e,a,i,t,n);if(s||r){var l,f=null,p=0,d=0,h=0,v=null;for(l in s)if(s.hasOwnProperty(l)){var y=r&&r[l],g=s[l];y===g?(f=u(f,this.moveChild(y,v,p,d)),d=Math.max(y._mountIndex,d),y._mountIndex=p):(y&&(d=Math.max(y._mountIndex,d)),f=u(f,this._mountChildAtIndex(g,a[h],v,p,t,n)),h++),p++,v=o.getHostNode(g)}for(l in i)i.hasOwnProperty(l)&&(f=u(f,this._unmountChild(r[l],i[l])));f&&c(this,f),this._renderedChildren=s}},unmountChildren:function(e){var t=this._renderedChildren;a.unmountChildren(t,e),this._renderedChildren=null},moveChild:function(e,t,n,r){if(e._mountIndex<r)return function(e,t,n){return{type:"MOVE_EXISTING",content:null,fromIndex:e._mountIndex,fromNode:o.getHostNode(e),toIndex:n,afterNode:t}}(e,t,n)},createChild:function(e,t,n){return function(e,t,n){return{type:"INSERT_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:n,afterNode:t}}(n,t,e._mountIndex)},removeChild:function(e,t){return function(e,t){return{type:"REMOVE_NODE",content:null,fromIndex:e._mountIndex,fromNode:t,toIndex:null,afterNode:null}}(e,t)},_mountChildAtIndex:function(e,t,n,r,i,o){return e._mountIndex=r,this.createChild(e,n,t)},_unmountChild:function(e,t){var n=this.removeChild(e,t);return e._mountIndex=null,n}}};e.exports=l},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(74),a=n(6),s=n(16);n(2),n(4);function u(){this._rootNodeID&&c.updateWrapper(this)}var c={getHostProps:function(e,t){return null!=t.dangerouslySetInnerHTML&&r("91"),i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue,onChange:e._wrapperState.onChange})},mountWrapper:function(e,t){var n=o.getValue(t),i=n;if(null==n){var a=t.defaultValue,c=t.children;null!=c&&(null!=a&&r("92"),Array.isArray(c)&&(c.length<=1||r("93"),c=c[0]),a=""+c),null==a&&(a=""),i=a}e._wrapperState={initialValue:""+i,listeners:null,onChange:function(e){var t=this._currentElement.props,n=o.executeOnChange(t,e);return s.asap(u,this),n}.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=a.getNodeFromInstance(e),r=o.getValue(t);if(null!=r){var i=""+r;i!==n.value&&(n.value=i),null==t.defaultValue&&(n.defaultValue=i)}null!=t.defaultValue&&(n.defaultValue=t.defaultValue)},postMountWrapper:function(e){var t=a.getNodeFromInstance(e),n=t.textContent;n===e._wrapperState.initialValue&&(t.value=n)}};e.exports=c},function(e,t,n){"use strict";var r=n(5),i=n(33),o=n(6),a=n(118),s=(n(4),!1);function u(e){var t="";return i.Children.forEach(e,function(e){null!=e&&("string"==typeof e||"number"==typeof e?t+=e:s||(s=!0))}),t}var c={mountWrapper:function(e,t,n){var r=null;if(null!=n){var i=n;"optgroup"===i._tag&&(i=i._hostParent),null!=i&&"select"===i._tag&&(r=a.getSelectValueContext(i))}var o,s=null;if(null!=r)if(o=null!=t.value?t.value+"":u(t.children),s=!1,Array.isArray(r)){for(var c=0;c<r.length;c++)if(""+r[c]===o){s=!0;break}}else s=""+r===o;e._wrapperState={selected:s}},postMountWrapper:function(e){var t=e._currentElement.props;null!=t.value&&o.getNodeFromInstance(e).setAttribute("value",t.value)},getHostProps:function(e,t){var n=r({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(n.selected=e._wrapperState.selected);var i=u(t.children);return i&&(n.children=i),n}};e.exports=c},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(119),a=n(74),s=n(6),u=n(16);n(2),n(4);function c(){this._rootNodeID&&l.updateWrapper(this)}var l={getHostProps:function(e,t){var n=a.getValue(t),r=a.getChecked(t);return i({type:void 0,step:void 0,min:void 0,max:void 0},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=r?r:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange})},mountWrapper:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:n,listeners:null,onChange:function(e){var t=this._currentElement.props,n=a.executeOnChange(t,e);u.asap(c,this);var i=t.name;if("radio"===t.type&&null!=i){for(var o=s.getNodeFromInstance(this),l=o;l.parentNode;)l=l.parentNode;for(var f=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),p=0;p<f.length;p++){var d=f[p];if(d!==o&&d.form===o.form){var h=s.getInstanceFromNode(d);h||r("90"),u.asap(c,h)}}}return n}.bind(e),controlled:function(e){return"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}(t)}},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&o.setValueForProperty(s.getNodeFromInstance(e),"checked",n||!1);var r=s.getNodeFromInstance(e),i=a.getValue(t);if(null!=i)if(0===i&&""===r.value)r.value="0";else if("number"===t.type){var u=parseFloat(r.value,10)||0;(i!=u||i==u&&r.value!=i)&&(r.value=""+i)}else r.value!==""+i&&(r.value=""+i);else null==t.value&&null!=t.defaultValue&&r.defaultValue!==""+t.defaultValue&&(r.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(r.defaultChecked=!!t.defaultChecked)},postMountWrapper:function(e){var t=e._currentElement.props,n=s.getNodeFromInstance(e);switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":n.value="",n.value=n.defaultValue;break;default:n.value=n.value}var r=n.name;""!==r&&(n.name=""),n.defaultChecked=!n.defaultChecked,n.defaultChecked=!n.defaultChecked,""!==r&&(n.name=r)}};e.exports=l},function(e,t,n){"use strict";var r=n(11);function i(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}var o={animationend:i("Animation","AnimationEnd"),animationiteration:i("Animation","AnimationIteration"),animationstart:i("Animation","AnimationStart"),transitionend:i("Transition","TransitionEnd")},a={},s={};r.canUseDOM&&(s=document.createElement("div").style,"AnimationEvent"in window||(delete o.animationend.animation,delete o.animationiteration.animation,delete o.animationstart.animation),"TransitionEvent"in window||delete o.transitionend.transition),e.exports=function(e){if(a[e])return a[e];if(!o[e])return e;var t=o[e];for(var n in t)if(t.hasOwnProperty(n)&&n in s)return a[e]=t[n];return""}},function(e,t,n){"use strict";var r=n(40);var i={handleTopLevel:function(e,t,n,i){!function(e){r.enqueueEvents(e),r.processEventQueue(!1)}(r.extractEvents(e,t,n,i))}};e.exports=i},function(e,t,n){"use strict";var r=n(53);e.exports=function(e){return'"'+r(e)+'"'}},function(e,t,n){"use strict";e.exports=function(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}},function(e,t,n){"use strict";var r=/([A-Z])/g;e.exports=function(e){return e.replace(r,"-$1").toLowerCase()}},function(e,t,n){"use strict";var r=n(255),i=/^ms-/;e.exports=function(e){return r(e).replace(i,"-ms-")}},function(e,t,n){"use strict";var r=n(120),i=(n(4),r.isUnitlessNumber);e.exports=function(e,t,n,r){if(null==t||"boolean"==typeof t||""===t)return"";var o=isNaN(t);return r||o||0===t||i.hasOwnProperty(e)&&i[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}},function(e,t,n){"use strict";var r=/-(.)/g;e.exports=function(e){return e.replace(r,function(e,t){return t.toUpperCase()})}},function(e,t,n){"use strict";var r=n(258),i=/^-ms-/;e.exports=function(e){return r(e.replace(i,"ms-"))}},function(e,t,n){"use strict";var r=n(120),i=n(11),o=(n(15),n(259),n(257)),a=n(256),s=n(254),u=(n(4),s(function(e){return a(e)})),c=!1,l="cssFloat";if(i.canUseDOM){var f=document.createElement("div").style;try{f.font=""}catch(e){c=!0}void 0===document.documentElement.style.cssFloat&&(l="styleFloat")}var p={createMarkupForStyles:function(e,t){var n="";for(var r in e)if(e.hasOwnProperty(r)){var i=0===r.indexOf("--"),a=e[r];0,null!=a&&(n+=u(r)+":",n+=o(r,a,t,i)+";")}return n||null},setValueForStyles:function(e,t,n){var i=e.style;for(var a in t)if(t.hasOwnProperty(a)){var s=0===a.indexOf("--");0;var u=o(a,t[a],n,s);if("float"!==a&&"cssFloat"!==a||(a=l),s)i.setProperty(a,u);else if(u)i[a]=u;else{var f=c&&r.shorthandPropertyExpansions[a];if(f)for(var p in f)i[p]="";else i[a]=""}}}};e.exports=p},function(e,t,n){"use strict";var r=n(6),i=n(121),o={focusDOMComponent:function(){i(r.getNodeFromInstance(this))}};e.exports=o},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(261),a=n(260),s=n(29),u=n(76),c=n(31),l=n(119),f=n(40),p=n(83),d=n(52),h=n(131),v=n(6),y=n(250),g=n(248),m=n(118),_=n(247),b=(n(15),n(246)),w=n(239),k=(n(17),n(53)),E=(n(2),n(79),n(72),n(125)),S=(n(68),n(4),h),T=f.deleteListener,C=v.getNodeFromInstance,x=d.listenTo,O=p.registrationNameModules,P={string:!0,number:!0},A="__html",j={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},R=11;function I(e,t){t&&(z[e._tag]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&r("137",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&r("60"),"object"==typeof t.dangerouslySetInnerHTML&&A in t.dangerouslySetInnerHTML||r("61")),null!=t.style&&"object"!=typeof t.style&&r("62",function(e){if(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" This DOM node was rendered by `"+n+"`."}}return""}(e)))}function L(e,t,n,r){if(!(r instanceof w)){0;var i=e._hostContainerInfo,o=i._node&&i._node.nodeType===R?i._node:i._ownerDocument;x(t,o),r.getReactMountReady().enqueue(M,{inst:e,registrationName:t,listener:n})}}function M(){f.putListener(this.inst,this.registrationName,this.listener)}function D(){y.postMountWrapper(this)}function N(){_.postMountWrapper(this)}function B(){g.postMountWrapper(this)}var F={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"};function U(){E.track(this)}function V(){this._rootNodeID||r("63");var e=C(this);switch(e||r("64"),this._tag){case"iframe":case"object":this._wrapperState.listeners=[d.trapBubbledEvent("topLoad","load",e)];break;case"video":case"audio":for(var t in this._wrapperState.listeners=[],F)F.hasOwnProperty(t)&&this._wrapperState.listeners.push(d.trapBubbledEvent(t,F[t],e));break;case"source":this._wrapperState.listeners=[d.trapBubbledEvent("topError","error",e)];break;case"img":this._wrapperState.listeners=[d.trapBubbledEvent("topError","error",e),d.trapBubbledEvent("topLoad","load",e)];break;case"form":this._wrapperState.listeners=[d.trapBubbledEvent("topReset","reset",e),d.trapBubbledEvent("topSubmit","submit",e)];break;case"input":case"select":case"textarea":this._wrapperState.listeners=[d.trapBubbledEvent("topInvalid","invalid",e)]}}function q(){m.postUpdateWrapper(this)}var W={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},H={listing:!0,pre:!0,textarea:!0},z=i({menuitem:!0},W),Y=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Q={},K={}.hasOwnProperty;function $(e,t){return e.indexOf("-")>=0||null!=t.is}var J=1;function G(e){var t=e.type;!function(e){K.call(Q,e)||(Y.test(e)||r("65",e),Q[e]=!0)}(t),this._currentElement=e,this._tag=t.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=0,this._domID=0,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}G.displayName="ReactDOMComponent",G.Mixin={mountComponent:function(e,t,n,r){this._rootNodeID=J++,this._domID=n._idCounter++,this._hostParent=t,this._hostContainerInfo=n;var i,a,c,f=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(V,this);break;case"input":y.mountWrapper(this,f,t),f=y.getHostProps(this,f),e.getReactMountReady().enqueue(U,this),e.getReactMountReady().enqueue(V,this);break;case"option":g.mountWrapper(this,f,t),f=g.getHostProps(this,f);break;case"select":m.mountWrapper(this,f,t),f=m.getHostProps(this,f),e.getReactMountReady().enqueue(V,this);break;case"textarea":_.mountWrapper(this,f,t),f=_.getHostProps(this,f),e.getReactMountReady().enqueue(U,this),e.getReactMountReady().enqueue(V,this)}if(I(this,f),null!=t?(i=t._namespaceURI,a=t._tag):n._tag&&(i=n._namespaceURI,a=n._tag),(null==i||i===u.svg&&"foreignobject"===a)&&(i=u.html),i===u.html&&("svg"===this._tag?i=u.svg:"math"===this._tag&&(i=u.mathml)),this._namespaceURI=i,e.useCreateElement){var p,d=n._ownerDocument;if(i===u.html)if("script"===this._tag){var h=d.createElement("div"),b=this._currentElement.type;h.innerHTML="<"+b+"></"+b+">",p=h.removeChild(h.firstChild)}else p=f.is?d.createElement(this._currentElement.type,f.is):d.createElement(this._currentElement.type);else p=d.createElementNS(i,this._currentElement.type);v.precacheNode(this,p),this._flags|=S.hasCachedChildNodes,this._hostParent||l.setAttributeForRoot(p),this._updateDOMProperties(null,f,e);var w=s(p);this._createInitialChildren(e,f,r,w),c=w}else{var k=this._createOpenTagMarkupAndPutListeners(e,f),E=this._createContentMarkup(e,f,r);c=!E&&W[this._tag]?k+"/>":k+">"+E+"</"+this._currentElement.type+">"}switch(this._tag){case"input":e.getReactMountReady().enqueue(D,this),f.autoFocus&&e.getReactMountReady().enqueue(o.focusDOMComponent,this);break;case"textarea":e.getReactMountReady().enqueue(N,this),f.autoFocus&&e.getReactMountReady().enqueue(o.focusDOMComponent,this);break;case"select":case"button":f.autoFocus&&e.getReactMountReady().enqueue(o.focusDOMComponent,this);break;case"option":e.getReactMountReady().enqueue(B,this)}return c},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];if(null!=o)if(O.hasOwnProperty(r))o&&L(this,r,o,e);else{"style"===r&&(o&&(o=this._previousStyleCopy=i({},t.style)),o=a.createMarkupForStyles(o,this));var s=null;null!=this._tag&&$(this._tag,t)?j.hasOwnProperty(r)||(s=l.createMarkupForCustomAttribute(r,o)):s=l.createMarkupForProperty(r,o),s&&(n+=" "+s)}}return e.renderToStaticMarkup?n:(this._hostParent||(n+=" "+l.createMarkupForRoot()),n+=" "+l.createMarkupForID(this._domID))},_createContentMarkup:function(e,t,n){var r="",i=t.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&(r=i.__html);else{var o=P[typeof t.children]?t.children:null,a=null!=o?null:t.children;if(null!=o)r=k(o);else if(null!=a){r=this.mountChildren(a,e,n).join("")}}return H[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var i=t.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&s.queueHTML(r,i.__html);else{var o=P[typeof t.children]?t.children:null,a=null!=o?null:t.children;if(null!=o)""!==o&&s.queueText(r,o);else if(null!=a)for(var u=this.mountChildren(a,e,n),c=0;c<u.length;c++)s.queueChild(r,u[c])}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,r){var i=t.props,o=this._currentElement.props;switch(this._tag){case"input":i=y.getHostProps(this,i),o=y.getHostProps(this,o);break;case"option":i=g.getHostProps(this,i),o=g.getHostProps(this,o);break;case"select":i=m.getHostProps(this,i),o=m.getHostProps(this,o);break;case"textarea":i=_.getHostProps(this,i),o=_.getHostProps(this,o)}switch(I(this,o),this._updateDOMProperties(i,o,e),this._updateDOMChildren(i,o,e,r),this._tag){case"input":y.updateWrapper(this),E.updateValueIfChanged(this);break;case"textarea":_.updateWrapper(this);break;case"select":e.getReactMountReady().enqueue(q,this)}},_updateDOMProperties:function(e,t,n){var r,o,s;for(r in e)if(!t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&null!=e[r])if("style"===r){var u=this._previousStyleCopy;for(o in u)u.hasOwnProperty(o)&&((s=s||{})[o]="");this._previousStyleCopy=null}else O.hasOwnProperty(r)?e[r]&&T(this,r):$(this._tag,e)?j.hasOwnProperty(r)||l.deleteValueForAttribute(C(this),r):(c.properties[r]||c.isCustomAttribute(r))&&l.deleteValueForProperty(C(this),r);for(r in t){var f=t[r],p="style"===r?this._previousStyleCopy:null!=e?e[r]:void 0;if(t.hasOwnProperty(r)&&f!==p&&(null!=f||null!=p))if("style"===r)if(f?f=this._previousStyleCopy=i({},f):this._previousStyleCopy=null,p){for(o in p)!p.hasOwnProperty(o)||f&&f.hasOwnProperty(o)||((s=s||{})[o]="");for(o in f)f.hasOwnProperty(o)&&p[o]!==f[o]&&((s=s||{})[o]=f[o])}else s=f;else if(O.hasOwnProperty(r))f?L(this,r,f,n):p&&T(this,r);else if($(this._tag,t))j.hasOwnProperty(r)||l.setValueForAttribute(C(this),r,f);else if(c.properties[r]||c.isCustomAttribute(r)){var d=C(this);null!=f?l.setValueForProperty(d,r,f):l.deleteValueForProperty(d,r)}}s&&a.setValueForStyles(C(this),s,this)},_updateDOMChildren:function(e,t,n,r){var i=P[typeof e.children]?e.children:null,o=P[typeof t.children]?t.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,u=null!=i?null:e.children,c=null!=o?null:t.children,l=null!=i||null!=a,f=null!=o||null!=s;null!=u&&null==c?this.updateChildren(null,n,r):l&&!f&&this.updateTextContent(""),null!=o?i!==o&&this.updateTextContent(""+o):null!=s?a!==s&&this.updateMarkup(""+s):null!=c&&this.updateChildren(c,n,r)},getHostNode:function(){return C(this)},unmountComponent:function(e){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var t=this._wrapperState.listeners;if(t)for(var n=0;n<t.length;n++)t[n].remove();break;case"input":case"textarea":E.stopTracking(this);break;case"html":case"head":case"body":r("66",this._tag)}this.unmountChildren(e),v.uncacheNode(this),f.deleteAllListeners(this),this._rootNodeID=0,this._domID=0,this._wrapperState=null},getPublicInstance:function(){return C(this)}},i(G.prototype,G.Mixin,b.Mixin),e.exports=G},function(e,t,n){"use strict";var r=n(77),i=n(6),o={dangerouslyProcessChildrenUpdates:function(e,t){var n=i.getNodeFromInstance(e);r.processUpdates(n,t)}};e.exports=o},function(e,t,n){"use strict";var r=n(11),i=n(2),o=r.canUseDOM?document.createElement("div"):null,a={},s=[1,'<select multiple="true">',"</select>"],u=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],l=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],f={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:s,option:s,caption:u,colgroup:u,tbody:u,tfoot:u,thead:u,td:c,th:c};["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"].forEach(function(e){f[e]=l,a[e]=!0}),e.exports=function(e){return o||i(!1),f.hasOwnProperty(e)||(e="*"),a.hasOwnProperty(e)||(o.innerHTML="*"===e?"<link />":"<"+e+"></"+e+">",a[e]=!o.firstChild),a[e]?f[e]:null}},function(e,t,n){"use strict";var r=n(2);e.exports=function(e){return function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}(e)?Array.isArray(e)?e.slice():function(e){var t=e.length;if((Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e)&&r(!1),"number"!=typeof t&&r(!1),0===t||t-1 in e||r(!1),"function"==typeof e.callee&&r(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}(e):[e]}},function(e,t,n){"use strict";var r=n(11),i=n(265),o=n(264),a=n(2),s=r.canUseDOM?document.createElement("div"):null,u=/^\s*<(\w+)/;e.exports=function(e,t){var n=s;s||a(!1);var r=function(e){var t=e.match(u);return t&&t[1].toLowerCase()}(e),c=r&&o(r);if(c){n.innerHTML=c[1]+e+c[2];for(var l=c[0];l--;)n=n.lastChild}else n.innerHTML=e;var f=n.getElementsByTagName("script");f.length&&(t||a(!1),i(f).forEach(t));for(var p=Array.from(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return p}},function(e,t,n){"use strict";var r=n(3),i=n(29),o=n(11),a=n(266),s=n(17),u=(n(2),{dangerouslyReplaceNodeWithMarkup:function(e,t){if(o.canUseDOM||r("56"),t||r("57"),"HTML"===e.nodeName&&r("58"),"string"==typeof t){var n=a(t,s)[0];e.parentNode.replaceChild(n,e)}else i.replaceChildWithTree(e,t)}});e.exports=u},function(e,t,n){"use strict";var r=n(77),i={processChildrenUpdates:n(263).dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup};e.exports=i},function(e,t,n){"use strict";var r=n(31),i=r.injection.MUST_USE_PROPERTY,o=r.injection.HAS_BOOLEAN_VALUE,a=r.injection.HAS_NUMERIC_VALUE,s=r.injection.HAS_POSITIVE_NUMERIC_VALUE,u=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE,c={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+r.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:o,allowTransparency:0,alt:0,as:0,async:o,autoComplete:0,autoPlay:o,capture:o,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:i|o,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:o,controlsList:0,coords:0,crossOrigin:0,data:0,dateTime:0,default:o,defer:o,dir:0,disabled:o,download:u,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:o,formTarget:0,frameBorder:0,headers:0,height:0,hidden:o,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:o,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:i|o,muted:i|o,name:0,nonce:0,noValidate:o,open:o,optimum:0,pattern:0,placeholder:0,playsInline:o,poster:0,preload:0,profile:0,radioGroup:0,readOnly:o,referrerPolicy:0,rel:0,required:o,reversed:o,role:0,rows:s,rowSpan:a,sandbox:0,scope:0,scoped:o,scrolling:0,seamless:o,selected:i|o,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:a,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:o,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{},DOMMutationMethods:{value:function(e,t){if(null==t)return e.removeAttribute("value");"number"!==e.type||!1===e.hasAttribute("value")?e.setAttribute("value",""+t):e.validity&&!e.validity.badInput&&e.ownerDocument.activeElement!==e&&e.setAttribute("value",""+t)}}};e.exports=c},function(e,t,n){"use strict";var r=n(41),i=n(6),o=n(55),a={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},s={eventTypes:a,extractEvents:function(e,t,n,s){if("topMouseOver"===e&&(n.relatedTarget||n.fromElement))return null;if("topMouseOut"!==e&&"topMouseOver"!==e)return null;var u,c,l;if(s.window===s)u=s;else{var f=s.ownerDocument;u=f?f.defaultView||f.parentWindow:window}if("topMouseOut"===e){c=t;var p=n.relatedTarget||n.toElement;l=p?i.getClosestInstanceFromNode(p):null}else c=null,l=t;if(c===l)return null;var d=null==c?u:i.getNodeFromInstance(c),h=null==l?u:i.getNodeFromInstance(l),v=o.getPooled(a.mouseLeave,c,n,s);v.type="mouseleave",v.target=d,v.relatedTarget=h;var y=o.getPooled(a.mouseEnter,l,n,s);return y.type="mouseenter",y.target=h,y.relatedTarget=d,r.accumulateEnterLeaveDispatches(v,y,c,l),[v,y]}};e.exports=s},function(e,t,n){"use strict";e.exports=["ResponderEventPlugin","SimpleEventPlugin","TapEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin"]},function(e,t,n){"use strict";var r=n(3);n(2);function i(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)}var o={addComponentAsRefTo:function(e,t,n){i(n)||r("119"),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){i(n)||r("120");var o=n.getPublicInstance();o&&o.refs[t]===e.getPublicInstance()&&n.detachRef(t)}};e.exports=o},function(e,t,n){"use strict";var r=n(272),i={};i.attachRefs=function(e,t){if(null!==t&&"object"==typeof t){var n=t.ref;null!=n&&function(e,t,n){"function"==typeof e?e(t.getPublicInstance()):r.addComponentAsRefTo(t,e,n)}(n,e,t._owner)}},i.shouldUpdateRefs=function(e,t){var n=null,r=null;null!==e&&"object"==typeof e&&(n=e.ref,r=e._owner);var i=null,o=null;return null!==t&&"object"==typeof t&&(i=t.ref,o=t._owner),n!==i||"string"==typeof i&&o!==r},i.detachRefs=function(e,t){if(null!==t&&"object"==typeof t){var n=t.ref;null!=n&&function(e,t,n){"function"==typeof e?e(null):r.removeComponentAsRefFrom(t,e,n)}(n,e,t._owner)}},e.exports=i},function(e,t,n){"use strict";var r=n(40),i=n(41),o=n(11),a=n(6),s=n(16),u=n(20),c=n(125),l=n(80),f=n(79),p=n(124),d={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:["topBlur","topChange","topClick","topFocus","topInput","topKeyDown","topKeyUp","topSelectionChange"]}};function h(e,t,n){var r=u.getPooled(d.change,e,t,n);return r.type="change",i.accumulateTwoPhaseDispatches(r),r}var v=null,y=null;var g=!1;function m(e){var t=h(y,e,l(e));s.batchedUpdates(_,t)}function _(e){r.enqueueEvents(e),r.processEventQueue(!1)}function b(){v&&(v.detachEvent("onchange",m),v=null,y=null)}function w(e,t){var n=c.updateValueIfChanged(e),r=!0===t.simulated&&j._allowSimulatedPassThrough;if(n||r)return e}function k(e,t){if("topChange"===e)return t}function E(e,t,n){"topFocus"===e?(b(),function(e,t){y=t,(v=e).attachEvent("onchange",m)}(t,n)):"topBlur"===e&&b()}o.canUseDOM&&(g=f("change")&&(!document.documentMode||document.documentMode>8));var S=!1;function T(){v&&(v.detachEvent("onpropertychange",C),v=null,y=null)}function C(e){"value"===e.propertyName&&w(y,e)&&m(e)}function x(e,t,n){"topFocus"===e?(T(),function(e,t){y=t,(v=e).attachEvent("onpropertychange",C)}(t,n)):"topBlur"===e&&T()}function O(e,t,n){if("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)return w(y,n)}function P(e,t,n){if("topClick"===e)return w(t,n)}function A(e,t,n){if("topInput"===e||"topChange"===e)return w(t,n)}o.canUseDOM&&(S=f("input")&&(!document.documentMode||document.documentMode>9));var j={eventTypes:d,_allowSimulatedPassThrough:!0,_isInputEventSupported:S,extractEvents:function(e,t,n,r){var i,o,s,u,c=t?a.getNodeFromInstance(t):window;if("select"===(u=(s=c).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type?g?i=k:o=E:p(c)?S?i=A:(i=O,o=x):function(e){var t=e.nodeName;return t&&"input"===t.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}(c)&&(i=P),i){var l=i(e,t,n);if(l)return h(l,n,r)}o&&o(e,c,t),"topBlur"===e&&function(e,t){if(null!=e){var n=e._wrapperState||t._wrapperState;if(n&&n.controlled&&"number"===t.type){var r=""+t.value;t.getAttribute("value")!==r&&t.setAttribute("value",r)}}}(t,c)}};e.exports=j},function(e,t,n){"use strict";var r=n(20);function i(e,t,n,i){return r.call(this,e,t,n,i)}r.augmentClass(i,{data:null}),e.exports=i},function(e,t,n){"use strict";var r=n(20);function i(e,t,n,i){return r.call(this,e,t,n,i)}r.augmentClass(i,{data:null}),e.exports=i},function(e,t,n){"use strict";var r=n(5),i=n(25),o=n(128);function a(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}r(a.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[o()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,i=this.getText(),o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);var s=t>1?1-t:void 0;return this._fallbackText=i.slice(e,s),this._fallbackText}}),i.addPoolingTo(a),e.exports=a},function(e,t,n){"use strict";var r=n(41),i=n(11),o=n(277),a=n(276),s=n(275),u=[9,13,27,32],c=229,l=i.canUseDOM&&"CompositionEvent"in window,f=null;i.canUseDOM&&"documentMode"in document&&(f=document.documentMode);var p,d=i.canUseDOM&&"TextEvent"in window&&!f&&!("object"==typeof(p=window.opera)&&"function"==typeof p.version&&parseInt(p.version(),10)<=12),h=i.canUseDOM&&(!l||f&&f>8&&f<=11);var v=32,y=String.fromCharCode(v),g={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:["topBlur","topCompositionEnd","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:["topBlur","topCompositionStart","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:["topBlur","topCompositionUpdate","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]}},m=!1;function _(e,t){switch(e){case"topKeyUp":return-1!==u.indexOf(t.keyCode);case"topKeyDown":return t.keyCode!==c;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function b(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}var w=null;function k(e,t,n,i){var s,u;if(l?s=function(e){switch(e){case"topCompositionStart":return g.compositionStart;case"topCompositionEnd":return g.compositionEnd;case"topCompositionUpdate":return g.compositionUpdate}}(e):w?_(e,n)&&(s=g.compositionEnd):function(e,t){return"topKeyDown"===e&&t.keyCode===c}(e,n)&&(s=g.compositionStart),!s)return null;h&&(w||s!==g.compositionStart?s===g.compositionEnd&&w&&(u=w.getData()):w=o.getPooled(i));var f=a.getPooled(s,t,n,i);if(u)f.data=u;else{var p=b(n);null!==p&&(f.data=p)}return r.accumulateTwoPhaseDispatches(f),f}function E(e,t,n,i){var a;if(!(a=d?function(e,t){switch(e){case"topCompositionEnd":return b(t);case"topKeyPress":return t.which!==v?null:(m=!0,y);case"topTextInput":var n=t.data;return n===y&&m?null:n;default:return null}}(e,n):function(e,t){if(w){if("topCompositionEnd"===e||!l&&_(e,t)){var n=w.getData();return o.release(w),w=null,n}return null}switch(e){case"topPaste":return null;case"topKeyPress":return t.which&&!function(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}(t)?String.fromCharCode(t.which):null;case"topCompositionEnd":return h?null:t.data;default:return null}}(e,n)))return null;var u=s.getPooled(g.beforeInput,t,n,i);return u.data=a,r.accumulateTwoPhaseDispatches(u),u}var S={eventTypes:g,extractEvents:function(e,t,n,r){return[k(e,t,n,r),E(e,t,n,r)]}};e.exports=S},function(e,t,n){"use strict";e.exports={Properties:{"aria-current":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},DOMAttributeNames:{},DOMPropertyNames:{}}},function(e,t,n){"use strict";var r=n(279),i=n(278),o=n(274),a=n(271),s=n(270),u=n(269),c=n(268),l=n(262),f=n(6),p=n(237),d=n(236),h=n(235),v=n(234),y=n(233),g=n(231),m=n(230),_=n(224),b=n(223),w=n(222),k=!1;e.exports={inject:function(){k||(k=!0,g.EventEmitter.injectReactEventListener(y),g.EventPluginHub.injectEventPluginOrder(a),g.EventPluginUtils.injectComponentTree(f),g.EventPluginUtils.injectTreeTraversal(d),g.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:w,EnterLeaveEventPlugin:s,ChangeEventPlugin:o,SelectEventPlugin:b,BeforeInputEventPlugin:i}),g.HostComponent.injectGenericComponentClass(l),g.HostComponent.injectTextComponentClass(h),g.DOMProperty.injectDOMPropertyConfig(r),g.DOMProperty.injectDOMPropertyConfig(u),g.DOMProperty.injectDOMPropertyConfig(_),g.EmptyComponent.injectEmptyComponentFactory(function(e){return new p(e)}),g.Updates.injectReconcileTransaction(m),g.Updates.injectBatchingStrategy(v),g.Component.injectEnvironment(c))}}},function(e,t,n){"use strict";var r=n(6),i=n(280),o=n(108),a=n(30),s=n(16),u=n(208),c=n(207),l=n(107),f=n(206);n(4);i.inject();var p={findDOMNode:c,render:o.render,unmountComponentAtNode:o.unmountComponentAtNode,version:u,unstable_batchedUpdates:s.batchedUpdates,unstable_renderSubtreeIntoContainer:f};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:r.getClosestInstanceFromNode,getNodeFromInstance:function(e){return e._renderedComponent&&(e=l(e)),e?r.getNodeFromInstance(e):null}},Mount:o,Reconciler:a}),e.exports=p},function(e,t,n){"use strict";var r=n(42),i=n(32);n(2);e.exports=function(e){return i.isValidElement(e)||r("143"),e}},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,i,o,a,s,u){if(r(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,i,o,a,s,u],f=0;(c=new Error(t.replace(/%s/g,function(){return l[f++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";var r=n(5),i=n(284),o=n(283),a="mixins";e.exports=function(e,t,n){var s=[],u={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},c={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)f(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=r({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=r({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=d(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=r({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var i=n in c;o(!i,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var a=n in e;o(!a,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),e[n]=r}}}(e,t)},autobind:function(){}};function l(e,t){var n=u.hasOwnProperty(t)?u[t]:null;m.hasOwnProperty(t)&&o("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&o("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function f(e,n){if(n){o("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),o(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,i=r.__reactAutoBindPairs;for(var s in n.hasOwnProperty(a)&&c.mixins(e,n.mixins),n)if(n.hasOwnProperty(s)&&s!==a){var f=n[s],p=r.hasOwnProperty(s);if(l(p,s),c.hasOwnProperty(s))c[s](e,f);else{var v=u.hasOwnProperty(s);if("function"!=typeof f||v||p||!1===n.autobind)if(p){var y=u[s];o(v&&("DEFINE_MANY_MERGED"===y||"DEFINE_MANY"===y),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",y,s),"DEFINE_MANY_MERGED"===y?r[s]=d(r[s],f):"DEFINE_MANY"===y&&(r[s]=h(r[s],f))}else r[s]=f;else i.push(s,f),r[s]=f}}}}function p(e,t){for(var n in o(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(o(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function d(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return p(i,n),p(i,r),i}}function h(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function v(e,t){return t.bind(e)}var y={componentDidMount:function(){this.__isMounted=!0}},g={componentWillUnmount:function(){this.__isMounted=!1}},m={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},_=function(){};return r(_.prototype,e.prototype,m),function(e){var t=function(e,r,a){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e[r]=v(e,i)}}(this),this.props=e,this.context=r,this.refs=i,this.updater=a||n,this.state=null;var s=this.getInitialState?this.getInitialState():null;o("object"==typeof s&&!Array.isArray(s),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=s};for(var r in t.prototype=new _,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],s.forEach(f.bind(null,t)),f(t,y),f(t,e),f(t,g),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),o(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),u)t.prototype[r]||(t.prototype[r]=null);return t}}},function(e,t,n){"use strict";var r=n(138).Component,i=n(32).isValidElement,o=n(137),a=n(285);e.exports=a(r,i,o)},function(e,t,n){"use strict";e.exports="15.6.2"},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){}},function(e,t,n){"use strict";var r=n(84);e.exports=r},function(e,t,n){"use strict";var r=n(84),i=n(133),o=n(289),a=n(5),s=n(132),u=n(288);e.exports=function(e,t){var n="function"==typeof Symbol&&Symbol.iterator,c="@@iterator";var l="<<anonymous>>",f={array:v("array"),bool:v("boolean"),func:v("function"),number:v("number"),object:v("object"),string:v("string"),symbol:v("symbol"),any:h(r.thatReturnsNull),arrayOf:function(e){return h(function(t,n,r,i,o){if("function"!=typeof e)return new d("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a)){var u=g(a);return new d("Invalid "+i+" `"+o+"` of type `"+u+"` supplied to `"+r+"`, expected an array.")}for(var c=0;c<a.length;c++){var l=e(a,c,r,i,o+"["+c+"]",s);if(l instanceof Error)return l}return null})},element:function(){return h(function(t,n,r,i,o){var a=t[n];if(!e(a)){var s=g(a);return new d("Invalid "+i+" `"+o+"` of type `"+s+"` supplied to `"+r+"`, expected a single ReactElement.")}return null})}(),instanceOf:function(e){return h(function(t,n,r,i,o){if(!(t[n]instanceof e)){var a=e.name||l,s=function(e){if(!e.constructor||!e.constructor.name)return l;return e.constructor.name}(t[n]);return new d("Invalid "+i+" `"+o+"` of type `"+s+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}return null})},node:function(){return h(function(e,t,n,r,i){if(!y(e[t]))return new d("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.");return null})}(),objectOf:function(e){return h(function(t,n,r,i,o){if("function"!=typeof e)return new d("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var a=t[n],u=g(a);if("object"!==u)return new d("Invalid "+i+" `"+o+"` of type `"+u+"` supplied to `"+r+"`, expected an object.");for(var c in a)if(a.hasOwnProperty(c)){var l=e(a,c,r,i,o+"."+c,s);if(l instanceof Error)return l}return null})},oneOf:function(e){if(!Array.isArray(e))return r.thatReturnsNull;return h(function(t,n,r,i,o){for(var a=t[n],s=0;s<e.length;s++)if(p(a,e[s]))return null;var u=JSON.stringify(e);return new d("Invalid "+i+" `"+o+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+u+".")})},oneOfType:function(e){if(!Array.isArray(e))return r.thatReturnsNull;for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)return o(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",_(n),t),r.thatReturnsNull}return h(function(t,n,r,i,o){for(var a=0;a<e.length;a++){var u=e[a];if(null==u(t,n,r,i,o,s))return null}return new d("Invalid "+i+" `"+o+"` supplied to `"+r+"`.")})},shape:function(e){return h(function(t,n,r,i,o){var a=t[n],u=g(a);if("object"!==u)return new d("Invalid "+i+" `"+o+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");for(var c in e){var l=e[c];if(l){var f=l(a,c,r,i,o+"."+c,s);if(f)return f}}return null})},exact:function(e){return h(function(t,n,r,i,o){var u=t[n],c=g(u);if("object"!==c)return new d("Invalid "+i+" `"+o+"` of type `"+c+"` supplied to `"+r+"`, expected `object`.");var l=a({},t[n],e);for(var f in l){var p=e[f];if(!p)return new d("Invalid "+i+" `"+o+"` key `"+f+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var h=p(u,f,r,i,o+"."+f,s);if(h)return h}return null})}};function p(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function d(e){this.message=e,this.stack=""}function h(e){function n(n,r,o,a,u,c,f){(a=a||l,c=c||o,f!==s)&&(t&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"));return null==r[o]?n?null===r[o]?new d("The "+u+" `"+c+"` is marked as required in `"+a+"`, but its value is `null`."):new d("The "+u+" `"+c+"` is marked as required in `"+a+"`, but its value is `undefined`."):null:e(r,o,a,u,c)}var r=n.bind(null,!1);return r.isRequired=n.bind(null,!0),r}function v(e){return h(function(t,n,r,i,o,a){var s=t[n];return g(s)!==e?new d("Invalid "+i+" `"+o+"` of type `"+m(s)+"` supplied to `"+r+"`, expected `"+e+"`."):null})}function y(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(y);if(null===t||e(t))return!0;var r=function(e){var t=e&&(n&&e[n]||e[c]);if("function"==typeof t)return t}(t);if(!r)return!1;var i,o=r.call(t);if(r!==t.entries){for(;!(i=o.next()).done;)if(!y(i.value))return!1}else for(;!(i=o.next()).done;){var a=i.value;if(a&&!y(a[1]))return!1}return!0;default:return!1}}function g(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function m(e){if(void 0===e||null===e)return""+e;var t=g(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function _(e){var t=m(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return d.prototype=Error.prototype,f.checkPropTypes=u,f.PropTypes=f,f}},function(e,t,n){"use strict";var r=n(32).isValidElement,i=n(134);e.exports=i(r)},function(e,t,n){"use strict";var r=n(32).createFactory,i={a:r("a"),abbr:r("abbr"),address:r("address"),area:r("area"),article:r("article"),aside:r("aside"),audio:r("audio"),b:r("b"),base:r("base"),bdi:r("bdi"),bdo:r("bdo"),big:r("big"),blockquote:r("blockquote"),body:r("body"),br:r("br"),button:r("button"),canvas:r("canvas"),caption:r("caption"),cite:r("cite"),code:r("code"),col:r("col"),colgroup:r("colgroup"),data:r("data"),datalist:r("datalist"),dd:r("dd"),del:r("del"),details:r("details"),dfn:r("dfn"),dialog:r("dialog"),div:r("div"),dl:r("dl"),dt:r("dt"),em:r("em"),embed:r("embed"),fieldset:r("fieldset"),figcaption:r("figcaption"),figure:r("figure"),footer:r("footer"),form:r("form"),h1:r("h1"),h2:r("h2"),h3:r("h3"),h4:r("h4"),h5:r("h5"),h6:r("h6"),head:r("head"),header:r("header"),hgroup:r("hgroup"),hr:r("hr"),html:r("html"),i:r("i"),iframe:r("iframe"),img:r("img"),input:r("input"),ins:r("ins"),kbd:r("kbd"),keygen:r("keygen"),label:r("label"),legend:r("legend"),li:r("li"),link:r("link"),main:r("main"),map:r("map"),mark:r("mark"),menu:r("menu"),menuitem:r("menuitem"),meta:r("meta"),meter:r("meter"),nav:r("nav"),noscript:r("noscript"),object:r("object"),ol:r("ol"),optgroup:r("optgroup"),option:r("option"),output:r("output"),p:r("p"),param:r("param"),picture:r("picture"),pre:r("pre"),progress:r("progress"),q:r("q"),rp:r("rp"),rt:r("rt"),ruby:r("ruby"),s:r("s"),samp:r("samp"),script:r("script"),section:r("section"),select:r("select"),small:r("small"),source:r("source"),span:r("span"),strong:r("strong"),style:r("style"),sub:r("sub"),summary:r("summary"),sup:r("sup"),table:r("table"),tbody:r("tbody"),td:r("td"),textarea:r("textarea"),tfoot:r("tfoot"),th:r("th"),thead:r("thead"),time:r("time"),title:r("title"),tr:r("tr"),track:r("track"),u:r("u"),ul:r("ul"),var:r("var"),video:r("video"),wbr:r("wbr"),circle:r("circle"),clipPath:r("clipPath"),defs:r("defs"),ellipse:r("ellipse"),g:r("g"),image:r("image"),line:r("line"),linearGradient:r("linearGradient"),mask:r("mask"),path:r("path"),pattern:r("pattern"),polygon:r("polygon"),polyline:r("polyline"),radialGradient:r("radialGradient"),rect:r("rect"),stop:r("stop"),svg:r("svg"),text:r("text"),tspan:r("tspan")};e.exports=i},function(e,t,n){"use strict";var r={escape:function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})},unescape:function(e){var t={"=0":"=","=2":":"};return(""+("."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1))).replace(/(=0|=2)/g,function(e){return t[e]})}};e.exports=r},function(e,t,n){"use strict";var r="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";e.exports=function(e){var t=e&&(r&&e[r]||e[i]);if("function"==typeof t)return t}},function(e,t,n){"use strict";var r=n(42),i=(n(21),n(135)),o=n(294),a=(n(2),n(293)),s=(n(4),"."),u=":";function c(e,t){return e&&"object"==typeof e&&null!=e.key?a.escape(e.key):t.toString(36)}e.exports=function(e,t,n){return null==e?0:function e(t,n,l,f){var p,d=typeof t;if("undefined"!==d&&"boolean"!==d||(t=null),null===t||"string"===d||"number"===d||"object"===d&&t.$$typeof===i)return l(f,t,""===n?s+c(t,0):n),1;var h=0,v=""===n?s:n+u;if(Array.isArray(t))for(var y=0;y<t.length;y++)h+=e(p=t[y],v+c(p,y),l,f);else{var g=o(t);if(g){var m,_=g.call(t);if(g!==t.entries)for(var b=0;!(m=_.next()).done;)h+=e(p=m.value,v+c(p,b++),l,f);else for(;!(m=_.next()).done;){var w=m.value;w&&(h+=e(p=w[1],v+a.escape(w[0])+u+c(p,0),l,f))}}else if("object"===d){var k=String(t);r("31","[object Object]"===k?"object with keys {"+Object.keys(t).join(", ")+"}":k,"")}}return h}(e,"",t,n)}},function(e,t,n){"use strict";var r=n(42),i=(n(2),function(e){if(this.instancePool.length){var t=this.instancePool.pop();return this.call(t,e),t}return new this(e)}),o=function(e){e instanceof this||r("25"),e.destructor(),this.instancePool.length<this.poolSize&&this.instancePool.push(e)},a=i,s={addPoolingTo:function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||a,n.poolSize||(n.poolSize=10),n.release=o,n},oneArgumentPooler:i,twoArgumentPooler:function(e,t){if(this.instancePool.length){var n=this.instancePool.pop();return this.call(n,e,t),n}return new this(e,t)},threeArgumentPooler:function(e,t,n){if(this.instancePool.length){var r=this.instancePool.pop();return this.call(r,e,t,n),r}return new this(e,t,n)},fourArgumentPooler:function(e,t,n,r){if(this.instancePool.length){var i=this.instancePool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}};e.exports=s},function(e,t,n){"use strict";var r=n(296),i=n(32),o=n(17),a=n(295),s=r.twoArgumentPooler,u=r.fourArgumentPooler,c=/\/+/g;function l(e){return(""+e).replace(c,"$&/")}function f(e,t){this.func=e,this.context=t,this.count=0}function p(e,t,n){var r=e.func,i=e.context;r.call(i,t,e.count++)}function d(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function h(e,t,n){var r=e.result,a=e.keyPrefix,s=e.func,u=e.context,c=s.call(u,t,e.count++);Array.isArray(c)?v(c,r,n,o.thatReturnsArgument):null!=c&&(i.isValidElement(c)&&(c=i.cloneAndReplaceKey(c,a+(!c.key||t&&t.key===c.key?"":l(c.key)+"/")+n)),r.push(c))}function v(e,t,n,r,i){var o="";null!=n&&(o=l(n)+"/");var s=d.getPooled(t,o,r,i);a(e,h,s),d.release(s)}function y(e,t,n){return null}f.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},r.addPoolingTo(f,s),d.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},r.addPoolingTo(d,u);var g={forEach:function(e,t,n){if(null==e)return e;var r=f.getPooled(t,n);a(e,p,r),f.release(r)},map:function(e,t,n){if(null==e)return e;var r=[];return v(e,r,null,t,n),r},mapIntoWithKeyPrefixInternal:v,count:function(e,t){return a(e,y,null)},toArray:function(e){var t=[];return v(e,t,null,o.thatReturnsArgument),t}};e.exports=g},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,n(22).Buffer)},function(e,t,n){"use strict";(function(t){var r=n(632);function i(e){var t=Math.pow(2,31),n=Math.floor(e||Math.random()*(t-1));this._max=t,this._nextInt=function(){return n=(1103515245*n+12345)%t}}function o(){this._index=0,this._items=[]}function a(e,t){if(this.buf=e,this.pos=0|t,this.pos<0)throw new Error("negative offset")}function s(e,t){for(;t--;)e[t]=~e[t]}i.prototype.nextBoolean=function(){return!!(this._nextInt()%2)},i.prototype.nextInt=function(e,t){return void 0===t&&(t=e,e=0),t=void 0===t?this._max:t,e+Math.floor(this.nextFloat()*(t-e))},i.prototype.nextFloat=function(e,t){return void 0===t&&(t=e,e=0),e+((t=void 0===t?1:t)-e)*this._nextInt()/this._max},i.prototype.nextString=function(e,t){e|=0;var n="";(t=t||"aA").indexOf("a")>-1&&(n+="abcdefghijklmnopqrstuvwxyz"),t.indexOf("A")>-1&&(n+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"),t.indexOf("#")>-1&&(n+="0123456789"),t.indexOf("!")>-1&&(n+="~`!@#$%^&*()_+-={}[]:\";'<>?,./|\\");for(var r=[],i=0;i<e;i++)r.push(this.choice(n));return r.join("")},i.prototype.nextBuffer=function(e){var n,r=[];for(n=0;n<e;n++)r.push(this.nextInt(256));return new t(r)},i.prototype.choice=function(e){var t=e.length;if(!t)throw new Error("choosing from empty array");return e[this.nextInt(t)]},o.prototype.push=function(e){var t,n=this._items,r=0|n.length;for(n.push(e);r>0&&n[r].index<n[t=r-1>>1].index;)e=n[r],n[r]=n[t],n[t]=e,r=t},o.prototype.pop=function(){var e=this._items,t=e.length-1|0,n=e[0];if(!n||n.index>this._index)return null;if(this._index++,!t)return e.pop(),n;e[0]=e.pop();for(var r,i,o,a,s,u,c,l=t>>1,f=0;f<l&&(a=e[f],i=f+1<<1,u=e[r=1+(f<<1)],!(c=e[i])||u.index<=c.index?(s=u,o=r):(s=c,o=i),!(s.index>=a.index));)e[o]=a,e[f]=s,f=o;return n},a.prototype.isValid=function(){return this.pos<=this.buf.length},a.prototype.readBoolean=function(){return!!this.buf[this.pos++]},a.prototype.skipBoolean=function(){this.pos++},a.prototype.writeBoolean=function(e){this.buf[this.pos++]=!!e},a.prototype.readInt=a.prototype.readLong=function(){var e,t,n,r,i=0,o=0,a=this.buf;do{t=128&(e=a[this.pos++]),i|=(127&e)<<o,o+=7}while(t&&o<28);if(t){n=i,r=268435456;do{n+=(127&(e=a[this.pos++]))*r,r*=128}while(128&e);return(n%2?-(n+1):n)/2}return i>>1^-(1&i)},a.prototype.skipInt=a.prototype.skipLong=function(){for(var e=this.buf;128&e[this.pos++];);},a.prototype.writeInt=a.prototype.writeLong=function(e){var t,n,r=this.buf;if(e>=-1073741824&&e<1073741824){n=e>=0?e<<1:~e<<1|1;do{r[this.pos]=127&n,n>>=7}while(n&&(r[this.pos++]|=128))}else{t=e>=0?2*e:2*-e-1;do{r[this.pos]=127&t,t/=128}while(t>=1&&(r[this.pos++]|=128))}this.pos++},a.prototype.readFloat=function(){var e=this.buf,t=this.pos;if(this.pos+=4,!(this.pos>e.length))return this.buf.readFloatLE(t)},a.prototype.skipFloat=function(){this.pos+=4},a.prototype.writeFloat=function(e){var t=this.buf,n=this.pos;if(this.pos+=4,!(this.pos>t.length))return this.buf.writeFloatLE(e,n)},a.prototype.readDouble=function(){var e=this.buf,t=this.pos;if(this.pos+=8,!(this.pos>e.length))return this.buf.readDoubleLE(t)},a.prototype.skipDouble=function(){this.pos+=8},a.prototype.writeDouble=function(e){var t=this.buf,n=this.pos;if(this.pos+=8,!(this.pos>t.length))return this.buf.writeDoubleLE(e,n)},a.prototype.readFixed=function(e){var n=this.pos;if(this.pos+=e,!(this.pos>this.buf.length)){var r=new t(e);return this.buf.copy(r,0,n,n+e),r}},a.prototype.skipFixed=function(e){this.pos+=e},a.prototype.writeFixed=function(e,t){t=t||e.length;var n=this.pos;this.pos+=t,this.pos>this.buf.length||e.copy(this.buf,n,0,t)},a.prototype.readBytes=function(){return this.readFixed(this.readLong())},a.prototype.skipBytes=function(){var e=this.readLong();this.pos+=e},a.prototype.writeBytes=function(e){var t=e.length;this.writeLong(t),this.writeFixed(e,t)},a.prototype.readString=function(){var e=this.readLong(),t=this.pos,n=this.buf;if(this.pos+=e,!(this.pos>n.length))return this.buf.utf8Slice(t,t+e)},a.prototype.skipString=function(){var e=this.readLong();this.pos+=e},a.prototype.writeString=function(e){var n=t.byteLength(e);this.writeLong(n);var r=this.pos;this.pos+=n,this.pos>this.buf.length||this.buf.utf8Write(e,r,n)},a.prototype.writeBinary=function(e,t){var n=this.pos;this.pos+=t,this.pos>this.buf.length||(this.buf.latin1Write?this.buf.latin1Write(e,n,t):this.buf.binaryWrite(e,n,t))},a.prototype.matchBoolean=function(e){return this.buf[this.pos++]-e.buf[e.pos++]},a.prototype.matchInt=a.prototype.matchLong=function(e){var t=this.readLong(),n=e.readLong();return t===n?0:t<n?-1:1},a.prototype.matchFloat=function(e){var t=this.readFloat(),n=e.readFloat();return t===n?0:t<n?-1:1},a.prototype.matchDouble=function(e){var t=this.readDouble(),n=e.readDouble();return t===n?0:t<n?-1:1},a.prototype.matchFixed=function(e,t){return this.readFixed(t).compare(e.readFixed(t))},a.prototype.matchBytes=a.prototype.matchString=function(e){var t=this.readLong(),n=this.pos;this.pos+=t;var r=e.readLong(),i=e.pos;e.pos+=r;var o=this.buf.slice(n,this.pos),a=e.buf.slice(i,e.pos);return o.compare(a)},a.prototype.unpackLongBytes=function(){var e,n,r=new t(8),i=0,o=0,a=6,u=this.buf;for(n=1&(e=u[this.pos++]),r.fill(0),i|=(127&e)>>1;128&e;)i|=(127&(e=u[this.pos++]))<<a,(a+=7)>=8&&(a-=8,r[o++]=i,i>>=8);return r[o]=i,n&&s(r,8),r},a.prototype.packLongBytes=function(e){var t,n=(128&e[7])>>7,r=this.buf,i=1,o=0,a=3;n?(s(e,8),t=1):t=0;for(var u=[e.readUIntLE(0,3),e.readUIntLE(3,3),e.readUIntLE(6,2)];a&&!u[--a];);for(;o<a;)for(t|=u[o++]<<i,i+=24;i>7;)r[this.pos++]=127&t|128,t>>=7,i-=7;t|=u[a]<<i;do{r[this.pos]=127&t,t>>=7}while(t&&(r[this.pos++]|=128));this.pos++,n&&s(e,8)},e.exports={abstractFunction:function(){throw new Error("abstract")},capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},getHash:function(e,t){t=t||"md5";var n=r.createHash(t);return n.end(e),n.read()},compare:function(e,t){return e===t?0:e<t?-1:1},getOption:function(e,t,n){var r=e[t];return void 0===r?n:r},jsonEnd:function(e,t){t|=0;var n=e.charAt(t++);if(/[\d-]/.test(n)){for(;/[eE\d.+-]/.test(e.charAt(t));)t++;return t}if(/true|null/.test(e.slice(t-1,t+3)))return t+3;if(/false/.test(e.slice(t-1,t+4)))return t+4;var r=0,i=!1;do{switch(n){case"{":case"[":i||r++;break;case"}":case"]":if(!i&&!--r)return t;break;case'"':if(i=!i,!r&&!i)return t;break;case"\\":t++}}while(n=e.charAt(t++));return-1},toMap:function(e,t){var n,r,i={};for(n=0;n<e.length;n++)i[t(r=e[n])]=r;return i},singleIndexOf:function(e,t){var n,r,i=-1;if(!e)return-1;for(n=0,r=e.length;n<r;n++)if(e[n]===t){if(i>=0)return-2;i=n}return i},hasDuplicates:function(e,t){var n,r,i,o={};for(n=0,r=e.length;n<r;n++){if(i=e[n],t&&(i=t(i)),o[i])return!0;o[i]=!0}return!1},Lcg:i,OrderedQueue:o,Tap:a}}).call(this,n(22).Buffer)},function(e,t,n){var r=n(141),i=n(140);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},function(e,t,n){var r=n(141),i=n(140),o=r(),a=[1|o[0],o[1],o[2],o[3],o[4],o[5]],s=16383&(o[6]<<8|o[7]),u=0,c=0;e.exports=function(e,t,n){var r=t&&n||0,o=t||[],l=void 0!==(e=e||{}).clockseq?e.clockseq:s,f=void 0!==e.msecs?e.msecs:(new Date).getTime(),p=void 0!==e.nsecs?e.nsecs:c+1,d=f-u+(p-c)/1e4;if(d<0&&void 0===e.clockseq&&(l=l+1&16383),(d<0||f>u)&&void 0===e.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=f,c=p,s=l;var h=(1e4*(268435455&(f+=122192928e5))+p)%4294967296;o[r++]=h>>>24&255,o[r++]=h>>>16&255,o[r++]=h>>>8&255,o[r++]=255&h;var v=f/4294967296*1e4&268435455;o[r++]=v>>>8&255,o[r++]=255&v,o[r++]=v>>>24&15|16,o[r++]=v>>>16&255,o[r++]=l>>>8|128,o[r++]=255&l;for(var y=e.node||a,g=0;g<6;++g)o[r+g]=y[g];return t||i(o)}},,,,,,,,,,,,,function(e,t,n){"use strict";(function(t){!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports=function(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,r)});case 4:return t.nextTick(function(){e.call(null,n,r,i)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick(function(){e.apply(null,o)})}}:e.exports=t.nextTick}).call(this,n(18))},,,function(e,t,n){"use strict";var r={};Object.defineProperties(r,{getStats:{enumerable:!0,value:n(980)},getUserMedia:{enumerable:!0,value:n(979)},MediaStream:{enumerable:!0,value:n(703)},MediaStreamTrack:{enumerable:!0,value:n(978)},RTCIceCandidate:{enumerable:!0,value:n(977)},RTCPeerConnection:{enumerable:!0,value:n(976)},RTCSessionDescription:{enumerable:!0,value:n(971)},version:{enumerable:!0,value:n(970).version}}),e.exports=r},,,,function(e,t,n){"use strict";var r=n(50).inherits;function i(e){e=e||{};var t=parseInt(e.min,10),n=parseInt(e.max,10),r=parseFloat(e.jitter);this.min=isNaN(t)?10:t,this.max=isNaN(n)?1e4:n,this.jitter=!isNaN(r)&&r>0&&r<=1?r:0,this.reset()}function o(e){e=e||{},i.call(this,e);var t=parseInt(e.step,10);this.step=!isNaN(t)&&t>0?t:50}function a(e){e=e||{},i.call(this,e),this.last=0}function s(e){e=e||{},i.call(this,e);var t=parseFloat(e.factor);this.factor=!isNaN(t)&&t>1?t:2}i.prototype.next=function(){if(this.jitter){var e=this._spread()*this.jitter;this.cur+=Math.random()*e-e/2}this.cur=Math.max(0,Math.min(this.max,Math.floor(this.cur)));var t=this.cur;return this._step(),t},i.prototype.reset=function(){this._reset()},r(o,i),o.prototype._spread=function(){return this.step},o.prototype._step=function(){this.cur=this.cur+this.step},o.prototype._reset=function(){this.cur=this.min},r(a,i),a.prototype._spread=function(){return this.cur===this.last?this.cur:this.cur-this.last},a.prototype._step=function(){var e=this.last+this.cur;0===e&&(e=1),this.last=this.cur,this.cur=e},a.prototype._reset=function(){this.cur=this.min,this.last=0},r(s,i),s.prototype._spread=function(){return this.cur-this.cur/this.factor},s.prototype._step=function(){0===this.cur?this.cur=1:this.cur*=this.factor},s.prototype._reset=function(){this.cur=this.min},e.exports={Backoff:i,LinearBackoff:o,FibonacciBackoff:a,ExponentialBackoff:s}},,,,,,,,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(934),s={};t.createTwilioError=function(e,t){return e="number"==typeof e?e:0,t="string"==typeof t&&t?t:"Unknown error",s[e]?new s[e]:new a(e,t)};var u=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,20101,"Invalid Access Token"))}return o(t,a),t}();t.AccessTokenInvalidError=u,Object.defineProperty(s,20101,{value:u});var c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,20102,"Invalid Access Token header"))}return o(t,a),t}();t.AccessTokenHeaderInvalidError=c,Object.defineProperty(s,20102,{value:c});var l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,20103,"Invalid Access Token issuer/subject"))}return o(t,a),t}();t.AccessTokenIssuerInvalidError=l,Object.defineProperty(s,20103,{value:l});var f=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,20104,"Access Token expired or expiration date invalid"))}return o(t,a),t}();t.AccessTokenExpiredError=f,Object.defineProperty(s,20104,{value:f});var p=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,20105,"Access Token not yet valid"))}return o(t,a),t}();t.AccessTokenNotYetValidError=p,Object.defineProperty(s,20105,{value:p});var d=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,20106,"Invalid Access Token grants"))}return o(t,a),t}();t.AccessTokenGrantsInvalidError=d,Object.defineProperty(s,20106,{value:d});var h=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,20107,"Invalid Access Token signature"))}return o(t,a),t}();t.AccessTokenSignatureInvalidError=h,Object.defineProperty(s,20107,{value:h});var v=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53e3,"Signaling connection error"))}return o(t,a),t}();t.SignalingConnectionError=v,Object.defineProperty(s,53e3,{value:v});var y=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53001,"Signaling connection disconnected"))}return o(t,a),t}();t.SignalingConnectionDisconnectedError=y,Object.defineProperty(s,53001,{value:y});var g=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53002,"Signaling connection timed out"))}return o(t,a),t}();t.SignalingConnectionTimeoutError=g,Object.defineProperty(s,53002,{value:g});var m=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53003,"Client received an invalid signaling message"))}return o(t,a),t}();t.SignalingIncomingMessageInvalidError=m,Object.defineProperty(s,53003,{value:m});var _=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53004,"Client sent an invalid signaling message"))}return o(t,a),t}();t.SignalingOutgoingMessageInvalidError=_,Object.defineProperty(s,53004,{value:_});var b=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53006,"Video server is busy"))}return o(t,a),t}();t.SignalingServerBusyError=b,Object.defineProperty(s,53006,{value:b});var w=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53100,"Room name is invalid"))}return o(t,a),t}();t.RoomNameInvalidError=w,Object.defineProperty(s,53100,{value:w});var k=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53101,"Room name is too long"))}return o(t,a),t}();t.RoomNameTooLongError=k,Object.defineProperty(s,53101,{value:k});var E=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53102,"Room name contains invalid characters"))}return o(t,a),t}();t.RoomNameCharsInvalidError=E,Object.defineProperty(s,53102,{value:E});var S=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53103,"Unable to create Room"))}return o(t,a),t}();t.RoomCreateFailedError=S,Object.defineProperty(s,53103,{value:S});var T=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53104,"Unable to connect to Room"))}return o(t,a),t}();t.RoomConnectFailedError=T,Object.defineProperty(s,53104,{value:T});var C=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53105,"Room contains too many Participants"))}return o(t,a),t}();t.RoomMaxParticipantsExceededError=C,Object.defineProperty(s,53105,{value:C});var x=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53106,"Room not found"))}return o(t,a),t}();t.RoomNotFoundError=x,Object.defineProperty(s,53106,{value:x});var O=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53107,"MaxParticipants is out of range"))}return o(t,a),t}();t.RoomMaxParticipantsOutOfRangeError=O,Object.defineProperty(s,53107,{value:O});var P=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53108,"RoomType is not valid"))}return o(t,a),t}();t.RoomTypeInvalidError=P,Object.defineProperty(s,53108,{value:P});var A=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53109,"Timeout is out of range"))}return o(t,a),t}();t.RoomTimeoutOutOfRangeError=A,Object.defineProperty(s,53109,{value:A});var j=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53110,"StatusCallbackMethod is invalid"))}return o(t,a),t}();t.RoomStatusCallbackMethodInvalidError=j,Object.defineProperty(s,53110,{value:j});var R=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53111,"StatusCallback is invalid"))}return o(t,a),t}();t.RoomStatusCallbackInvalidError=R,Object.defineProperty(s,53111,{value:R});var I=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53112,"Status is invalid"))}return o(t,a),t}();t.RoomStatusInvalidError=I,Object.defineProperty(s,53112,{value:I});var L=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53113,"Room exists"))}return o(t,a),t}();t.RoomRoomExistsError=L,Object.defineProperty(s,53113,{value:L});var M=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53114,"Room creation parameter(s) incompatible with the Room type"))}return o(t,a),t}();t.RoomInvalidParametersError=M,Object.defineProperty(s,53114,{value:M});var D=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53115,"MediaRegion is invalid"))}return o(t,a),t}();t.RoomMediaRegionInvalidError=D,Object.defineProperty(s,53115,{value:D});var N=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53116,"There are no media servers available in the MediaRegion"))}return o(t,a),t}();t.RoomMediaRegionUnavailableError=N,Object.defineProperty(s,53116,{value:N});var B=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53117,"The subscription operation requested is not supported for the Room type"))}return o(t,a),t}();t.RoomSubscriptionOperationNotSupportedError=B,Object.defineProperty(s,53117,{value:B});var F=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53118,"Room completed"))}return o(t,a),t}();t.RoomCompletedError=F,Object.defineProperty(s,53118,{value:F});var U=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53200,"Participant identity is invalid"))}return o(t,a),t}();t.ParticipantIdentityInvalidError=U,Object.defineProperty(s,53200,{value:U});var V=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53201,"Participant identity is too long"))}return o(t,a),t}();t.ParticipantIdentityTooLongError=V,Object.defineProperty(s,53201,{value:V});var q=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53202,"Participant identity contains invalid characters"))}return o(t,a),t}();t.ParticipantIdentityCharsInvalidError=q,Object.defineProperty(s,53202,{value:q});var W=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53203,"Participant has too many Tracks"))}return o(t,a),t}();t.ParticipantMaxTracksExceededError=W,Object.defineProperty(s,53203,{value:W});var H=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53204,"Participant not found"))}return o(t,a),t}();t.ParticipantNotFoundError=H,Object.defineProperty(s,53204,{value:H});var z=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53205,"Participant disconnected because of duplicate identity"))}return o(t,a),t}();t.ParticipantDuplicateIdentityError=z,Object.defineProperty(s,53205,{value:z});var Y=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53300,"Track is invalid"))}return o(t,a),t}();t.TrackInvalidError=Y,Object.defineProperty(s,53300,{value:Y});var Q=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53301,"Track name is invalid"))}return o(t,a),t}();t.TrackNameInvalidError=Q,Object.defineProperty(s,53301,{value:Q});var K=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53302,"Track name is too long"))}return o(t,a),t}();t.TrackNameTooLongError=K,Object.defineProperty(s,53302,{value:K});var $=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53303,"Track name contains invalid characters"))}return o(t,a),t}();t.TrackNameCharsInvalidError=$,Object.defineProperty(s,53303,{value:$});var J=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53304,"Track name is duplicated"))}return o(t,a),t}();t.TrackNameIsDuplicatedError=J,Object.defineProperty(s,53304,{value:J});var G=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53305,"The server has reached capacity and cannot fulfill this request"))}return o(t,a),t}();t.TrackServerTrackCapacityReachedError=G,Object.defineProperty(s,53305,{value:G});var X=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53400,"Client is unable to create or apply a local media description"))}return o(t,a),t}();t.MediaClientLocalDescFailedError=X,Object.defineProperty(s,53400,{value:X});var Z=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53401,"Server is unable to create or apply a local media description"))}return o(t,a),t}();t.MediaServerLocalDescFailedError=Z,Object.defineProperty(s,53401,{value:Z});var ee=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53402,"Client is unable to apply a remote media description"))}return o(t,a),t}();t.MediaClientRemoteDescFailedError=ee,Object.defineProperty(s,53402,{value:ee});var te=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53403,"Server is unable to apply a remote media description"))}return o(t,a),t}();t.MediaServerRemoteDescFailedError=te,Object.defineProperty(s,53403,{value:te});var ne=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53404,"No supported codec"))}return o(t,a),t}();t.MediaNoSupportedCodecError=ne,Object.defineProperty(s,53404,{value:ne});var re=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53405,"Media connection failed or Media activity ceased"))}return o(t,a),t}();t.MediaConnectionError=re,Object.defineProperty(s,53405,{value:re});var ie=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53407,"Media connection failed due to DTLS handshake failure"))}return o(t,a),t}();t.MediaDTLSTransportFailedError=ie,Object.defineProperty(s,53407,{value:ie});var oe=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53500,"Unable to acquire configuration"))}return o(t,a),t}();t.ConfigurationAcquireFailedError=oe,Object.defineProperty(s,53500,{value:oe});var ae=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53501,"Unable to acquire TURN credentials"))}return o(t,a),t}();t.ConfigurationAcquireTurnFailedError=ae,Object.defineProperty(s,53501,{value:ae})},,,,,,function(e,t,n){"use strict";(function(t,r){var i=n(315);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=g;var a,s=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?setImmediate:i;g.WritableState=y;var u=n(299);u.inherits=n(24);var c={deprecate:n(629)},l=n(503),f=n(45).Buffer,p=r.Uint8Array||function(){};var d,h=n(502);function v(){}function y(e,t){a=a||n(148),e=e||{},this.objectMode=!!e.objectMode,t instanceof a&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,u=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===e.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,o=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,o){--t.pendingcb,n?(i(o,r),i(E,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(o(r),e._writableState.errorEmitted=!0,e.emit("error",r),E(e,t))}(e,n,r,t,o);else{var a=w(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||b(e,n),r?s(_,e,n,a,o):_(e,n,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function g(e){if(a=a||n(148),!(d.call(g,this)||this instanceof a))return new g(e);this._writableState=new y(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),l.call(this)}function m(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function _(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),E(e,t)}function b(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,u=!0;n;)i[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;i.allBuffers=u,m(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t)}else{for(;n;){var c=n.chunk,l=n.encoding,f=n.callback;if(m(e,t,!1,t.objectMode?1:c.length,c,l,f),n=n.next,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=n,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function k(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),E(e,t)})}function E(e,t){var n=w(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i(k,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}u.inherits(g,l),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(e){return!!d.call(this,e)||e&&e._writableState instanceof y}})):d=function(e){return e instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(e,t,n){var r,o=this._writableState,a=!1,s=(r=e,(f.isBuffer(r)||r instanceof p)&&!o.objectMode);return s&&!f.isBuffer(e)&&(e=function(e){return f.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=v),o.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),i(t,n)}(this,n):(s||function(e,t,n,r){var o=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),i(r,a),o=!1),o}(this,o,e,n))&&(o.pendingcb++,a=function(e,t,n,r,i,o){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=f.from(t,n));return t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,s,r,i,o);return u}(this,o,s,e,t,n)),a},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||b(this,e))},g.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},g.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,E(e,t),n&&(t.finished?i(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),g.prototype.destroy=h.destroy,g.prototype._undestroy=h.undestroy,g.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(18),n(12))},function(e,t,n){(t=e.exports=n(504)).Stream=t,t.Readable=t,t.Writable=n(337),t.Duplex=n(148),t.Transform=n(501),t.PassThrough=n(628)},function(e,t,n){e.exports=i;var r=n(36).EventEmitter;function i(){r.call(this)}n(24)(i,r),i.Readable=n(338),i.Writable=n(627),i.Duplex=n(626),i.Transform=n(625),i.PassThrough=n(624),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",u));var a=!1;function s(){a||(a=!0,e.end())}function u(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(l(),0===r.listenerCount(this,"error"))throw e}function l(){n.removeListener("data",i),e.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",u),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",l),n.removeListener("close",l),e.removeListener("close",l)}return n.on("error",c),e.on("error",c),n.on("end",l),n.on("close",l),e.on("close",l),e.emit("pipe",n),e}},function(e,t,n){"use strict";(function(t){var r=n(300),i=n(22),o=n(50),a=r.Tap,s=o.format,u={array:j,boolean:m,bytes:S,double:k,enum:O,error:R,fixed:P,float:w,int:_,long:b,map:A,null:g,record:R,string:E},c=/^[A-Za-z_][A-Za-z0-9_]*$/,l=new r.Lcg,f=new a(new i.SlowBuffer(1024)),p=null,d=!1;function h(e,t){if(null===e)throw new Error('invalid type: null (did you mean "null"?)');if(v.isType(e))return e;var n;if((t=t||{}).registry=t.registry||{},t.typeHook&&(n=t.typeHook(e,t))){if(!v.isType(n))throw new Error(s("invalid typehook return value: %j",n));return n}if("string"==typeof e){if(e=F(e,t.namespace),n=t.registry[e])return n;if(V(e))return t.registry[e]=h({type:e},t);throw new Error(s("undefined type name: %s",e))}if(e.logicalType&&t.logicalTypes&&!p){var r=t.logicalTypes[e.logicalType];if(r){var i=t.namespace,o={};Object.keys(t.registry).forEach(function(e){o[e]=t.registry[e]});try{return new r(e,t)}catch(e){if(t.assertLogicalTypes)throw e;p=null,t.namespace=i,t.registry=o}}}Array.isArray(e)?n=new(t.wrapUnions?x:C)(e,t):n=function(n){var r=u[n];if(void 0===r)throw new Error(s("unknown type: %j",n));return new r(e,t)}(e.type);return n}function v(e,t){var n=p||this;if(p=null,this._hs=void 0,this._name=void 0,this._aliases=void 0,e){var r=e.name,i=void 0===e.namespace?t&&t.namespace:e.namespace;if(void 0!==r){if(V(r=F(r,i)))throw new Error(s("cannot rename primitive type: %j",r));var o=t&&t.registry;if(o){if(void 0!==o[r])throw new Error(s("duplicate type name: %s",r));o[r]=n}}else if(t&&t.noAnonymousTypes)throw new Error(s("missing name property in schema: %j",e));this._name=r,this._aliases=e.aliases?e.aliases.map(function(e){return F(e,i)}):[]}}function y(){v.call(this)}function g(){y.call(this)}function m(){y.call(this)}function _(){y.call(this)}function b(){y.call(this)}function w(){y.call(this)}function k(){y.call(this)}function E(){y.call(this)}function S(){y.call(this)}function T(e,t){if(v.call(this),!Array.isArray(e))throw new Error(s("non-array union schema: %j",e));if(!e.length)throw new Error("empty union");this._types=e.map(function(e){return h(e,t)}),this._branchIndices={},this._types.forEach(function(e,t){if(v.isType(e,"union"))throw new Error("unions cannot be directly nested");var n=e.getName(!0);if(void 0!==this._branchIndices[n])throw new Error(s("duplicate union branch name: %j",n));this._branchIndices[n]=t},this)}function C(e,t){T.call(this,e,t),this._logicalBranches=null,this._bucketIndices={},this._types.forEach(function(e,t){if(v.isType(e,"logical"))this._logicalBranches||(this._logicalBranches=[]),this._logicalBranches.push({index:t,type:e});else{var n=$(e);if(void 0!==this._bucketIndices[n])throw new Error(s("ambiguous unwrapped union: %j",this));this._bucketIndices[n]=t}},this)}function x(e,t){T.call(this,e,t),this._constructors=this._types.map(function(e){var t=e.getName(!0);if("null"===t)return null;var n="return function Branch$(val) { ";~t.indexOf(".")?n+="this['"+t+"'] = val;":n+="this."+t+" = val;",n+=" };";var r=new Function(n)();return r.getBranchType=function(){return e},r})}function O(e,t){if(v.call(this,e,t),!Array.isArray(e.symbols)||!e.symbols.length)throw new Error(s("invalid enum symbols: %j",e.symbols));this._symbols=e.symbols,this._indices={},this._symbols.forEach(function(e,t){if(!Q(e))throw new Error(s("invalid %s symbol: %j",this,e));if(void 0!==this._indices[e])throw new Error(s("duplicate %s symbol: %j",this,e));this._indices[e]=t},this)}function P(e,t){if(v.call(this,e,t),e.size!==(0|e.size)||e.size<1)throw new Error(s("invalid %s fixed size",this.getName(!0)));this._size=0|e.size}function A(e,t){if(v.call(this),!e.values)throw new Error(s("missing map values: %j",e));this._values=h(e.values,t)}function j(e,t){if(v.call(this),!e.items)throw new Error(s("missing array items: %j",e));this._items=h(e.items,t)}function R(e,t){var n=(t=t||{}).namespace;if(void 0!==e.namespace)t.namespace=e.namespace;else if(e.name){var i=/^(.*)\.[^.]+$/.exec(e.name);i&&(t.namespace=i[1])}if(v.call(this,e,t),!Array.isArray(e.fields))throw new Error(s("non-array record fields: %j",e.fields));if(r.hasDuplicates(e.fields,function(e){return e.name}))throw new Error(s("duplicate field name: %j",e.fields));this._fieldsMap={},this._fields=e.fields.map(function(e){var n=new M(e,t);return this._fieldsMap[n.getName()]=n,n},this),this._isError="error"===e.type,this._constructor=this._createConstructor(),this._read=this._createReader(),this._skip=this._createSkipper(),this._write=this._createWriter(),this._check=this._createChecker(),t.namespace=n}function I(e,t){this._logicalTypeName=e.logicalType,v.call(this),p=this,this._underlyingType=h(e,t)}function L(e){b.call(this),this._noUnpack=!!e}function M(e,t){var n=e.name;if("string"!=typeof n||!Q(n))throw new Error(s("invalid field name: %s",n));this._name=n,this._type=h(e.type,t),this._aliases=e.aliases||[],this._order=function(e){switch(e){case"ascending":return 1;case"descending":return-1;case"ignore":return 0;default:throw new Error(s("invalid order: %j",e))}}(void 0===e.order?"ascending":e.order);var r=e.default;if(void 0!==r){var i=this._type,o=i._copy(r,{coerce:2,wrap:2});V(i.getTypeName())&&"bytes"!==i.getTypeName()?this.getDefault=function(){return o}:this.getDefault=function(){return i._copy(o)}}}function D(e){this._readerType=e,this._items=null,this._read=null,this._size=0,this._symbols=null,this._values=null}function N(e,t,n,r){if(n){if(n._readerType!==e)throw new Error("invalid resolver");return n._read(t,r)}return e._read(t)}function B(e){var t=e.split(".");return t[t.length-1]}function F(e,t){~e.indexOf(".")?e=e.replace(/^\./,""):t&&(e=t+"."+e),e.split(".").forEach(function(t){if(!Q(t))throw new Error(s("invalid name: %j",e))});var n=B(e);return V(n)?n:e}function U(e){var t=[];e._name&&t.push(e._name);var n,r,i=e._aliases;for(n=0,r=i.length;n<r;n++)t.push(i[n]);return t}function V(e){var t=u[e];return t&&t.prototype instanceof y}function q(e){if("error"===e)e="record";else{var t=/^([^:]+):(.*)$/.exec(e);t&&(e="union"===t[1]?t[2]+"Union":t[1])}return r.capitalize(e)+"Type"}function W(e){var t=e.readLong();return t<0&&(t=-t,e.skipLong()),t}function H(e,t){d=t&&t.exportAttrs;var n,r=t&&t.noDeref;return n={},JSON.stringify(e,function(e,t){if(t){if("object"==typeof t&&t.hasOwnProperty("default")&&!t.hasOwnProperty("logicalType"))return d?{name:t.name,type:t.type,default:t.default,order:"ascending"!==t.order?t.order:void 0,aliases:t.aliases.length?t.aliases:void 0}:{name:t.name,type:t.type};if(t.aliases){var i=t.name;if(i){if(r||n[i])return i;n[i]=!0}d&&t.aliases.length||(t.aliases=void 0)}}return t})}function z(e){return e>=-9007199254740990&&e<=9007199254740990}function Y(e){return e&&"Buffer"===e.type&&Array.isArray(e.data)}function Q(e){return c.test(e)}function K(e,t){throw new Error(s("invalid %s: %j",t,e))}function $(e){var t=e.getTypeName();switch(t){case"double":case"float":case"int":case"long":return"number";case"bytes":case"fixed":return"buffer";case"enum":return"string";case"map":case"error":case"record":return"object";default:return t}}function J(e){if(null===e)return"null";var n=typeof e;if("object"===n){if(Array.isArray(e))return"array";if(t.isBuffer(e))return"buffer"}return n}v.isType=function(){var e=arguments.length;if(!e)return!1;var t=arguments[0];if(!t||"function"!=typeof t._update||"function"!=typeof t.getTypeName)return!1;if(1===e)return!0;var n,r=t.getTypeName();for(n=1;n<e;n++)if(0===r.indexOf(arguments[n]))return!0;return!1},v.__reset=function(e){f.buf=new i.SlowBuffer(e)},v.prototype.createResolver=function(e,t){if(!v.isType(e))throw new Error(s("not a type: %j",e));if(!v.isType(this,"logical")&&v.isType(e,"logical"))return this.createResolver(e._underlyingType,t);var n,r;if((t=t||{}).registry=t.registry||{},v.isType(this,"record","error")&&v.isType(e,"record","error")&&(r=this._name+":"+e._name,n=t.registry[r]))return n;if(n=new D(this),r&&(t.registry[r]=n),v.isType(e,"union")){var i=e._types.map(function(e){return this.createResolver(e,t)},this);n._read=function(e){var t=e.readLong();if(void 0===i[t])throw new Error(s("invalid union index: %s",t));return i[t]._read(e)}}else this._update(n,e,t);if(!n._read)throw new Error(s("cannot read %s as %s",e,this));return n},v.prototype.decode=function(e,t,n){var r=new a(e,t),i=N(this,r,n);return r.isValid()?{value:i,offset:r.pos}:{value:void 0,offset:-1}},v.prototype.encode=function(e,t,n){var r=new a(t,n);return this._write(r,e),r.isValid()?r.pos:t.length-r.pos},v.prototype.fromBuffer=function(e,t,n){var r=new a(e),i=N(this,r,t,n);if(!r.isValid())throw new Error("truncated buffer");if(!n&&r.pos<e.length)throw new Error("trailing data");return i},v.prototype.toBuffer=function(e){f.pos=0,this._write(f,e),f.isValid()||(v.__reset(2*f.pos),f.pos=0,this._write(f,e));var n=new t(f.pos);return f.buf.copy(n,0,0,f.pos),n},v.prototype.fromString=function(e){return this._copy(JSON.parse(e),{coerce:2})},v.prototype.toString=function(e){return void 0===e?this.getSchema({noDeref:!0}):JSON.stringify(this._copy(e,{coerce:3}))},v.prototype.clone=function(e,t){return t?(t={coerce:0|!!t.coerceBuffers,fieldHook:t.fieldHook,qualifyNames:!!t.qualifyNames,skip:!!t.skipMissingFields,wrap:0|!!t.wrapUnions},this._copy(e,t)):this.fromBuffer(this.toBuffer(e))},v.prototype.isValid=function(e,t){var n,r,i=0|(t&&t.noUndeclaredFields),o=t&&t.errorHook;return o&&(r=[],n=function(t,n){o.call(this,r.slice(),t,n,e)}),this._check(e,i,n,r)},v.prototype.compareBuffers=function(e,t){return this._match(new a(e),new a(t))},v.prototype.getName=function(e){var t=v.isType(this,"logical")?this._underlyingType:this;return t._name||!e?t._name:v.isType(this,"union")?void 0:t.getTypeName()},v.prototype.getSchema=function(e){return H(this,e)},v.prototype.equals=function(e){return v.isType(e)&&this.getFingerprint().equals(e.getFingerprint())},v.prototype.getFingerprint=function(e){return e?r.getHash(this.getSchema(),e):(this._hs||(this._hs=r.getHash(this.getSchema()).toString("binary")),new t(this._hs,"binary"))},v.prototype.inspect=function(){var e=this.getTypeName(),t=q(e);if(V(e))return s("<%s>",t);var n=JSON.parse(this.getSchema({exportAttrs:!0,noDeref:!0}));return"object"!=typeof n||v.isType(this,"logical")||(n.type=void 0),s("<%s %j>",t,n)},v.prototype._check=r.abstractFunction,v.prototype._copy=r.abstractFunction,v.prototype._match=r.abstractFunction,v.prototype._read=r.abstractFunction,v.prototype._skip=r.abstractFunction,v.prototype._update=r.abstractFunction,v.prototype._write=r.abstractFunction,v.prototype.compare=r.abstractFunction,v.prototype.getTypeName=r.abstractFunction,v.prototype.random=r.abstractFunction,o.inherits(y,v),y.prototype._update=function(e,t){t.constructor===this.constructor&&(e._read=this._read)},y.prototype._copy=function(e){return this._check(e,void 0,K),e},y.prototype.compare=r.compare,y.prototype.toJSON=function(){return this.getTypeName()},o.inherits(g,y),g.prototype._check=function(e,t,n){var r=null===e;return!r&&n&&n(e,this),r},g.prototype._read=function(){return null},g.prototype._skip=function(){},g.prototype._write=function(e,t){null!==t&&K(t,this)},g.prototype._match=function(){return 0},g.prototype.compare=g.prototype._match,g.prototype.getTypeName=function(){return"null"},g.prototype.random=g.prototype._read,o.inherits(m,y),m.prototype._check=function(e,t,n){var r="boolean"==typeof e;return!r&&n&&n(e,this),r},m.prototype._read=function(e){return e.readBoolean()},m.prototype._skip=function(e){e.skipBoolean()},m.prototype._write=function(e,t){"boolean"!=typeof t&&K(t,this),e.writeBoolean(t)},m.prototype._match=function(e,t){return e.matchBoolean(t)},m.prototype.getTypeName=function(){return"boolean"},m.prototype.random=function(){return l.nextBoolean()},o.inherits(_,y),_.prototype._check=function(e,t,n){var r=e===(0|e);return!r&&n&&n(e,this),r},_.prototype._read=function(e){return e.readInt()},_.prototype._skip=function(e){e.skipInt()},_.prototype._write=function(e,t){t!==(0|t)&&K(t,this),e.writeInt(t)},_.prototype._match=function(e,t){return e.matchInt(t)},_.prototype.getTypeName=function(){return"int"},_.prototype.random=function(){return 0|l.nextInt(1e3)},o.inherits(b,y),b.prototype._check=function(e,t,n){var r="number"==typeof e&&e%1==0&&z(e);return!r&&n&&n(e,this),r},b.prototype._read=function(e){var t=e.readLong();if(!z(t))throw new Error("potential precision loss");return t},b.prototype._skip=function(e){e.skipLong()},b.prototype._write=function(e,t){("number"!=typeof t||t%1||!z(t))&&K(t,this),e.writeLong(t)},b.prototype._match=function(e,t){return e.matchLong(t)},b.prototype._update=function(e,t){switch(t.getTypeName()){case"int":case"long":e._read=t._read}},b.prototype.getTypeName=function(){return"long"},b.prototype.random=function(){return l.nextInt()},b.__with=function(e,t){e=e||{};var n={toBuffer:"_toBuffer",fromBuffer:"_fromBuffer",fromJSON:"_fromJSON",toJSON:"_toJSON",isValid:"_isValid",compare:"compare"},r=new L(t);return Object.keys(n).forEach(function(t){if(void 0===e[t])throw new Error(s("missing method implementation: %s",t));r[n[t]]=e[t]}),r},o.inherits(w,y),w.prototype._check=function(e,t,n){var r="number"==typeof e;return!r&&n&&n(e,this),r},w.prototype._read=function(e){return e.readFloat()},w.prototype._skip=function(e){e.skipFloat()},w.prototype._write=function(e,t){"number"!=typeof t&&K(t,this),e.writeFloat(t)},w.prototype._match=function(e,t){return e.matchFloat(t)},w.prototype._update=function(e,t){switch(t.getTypeName()){case"float":case"int":case"long":e._read=t._read}},w.prototype.getTypeName=function(){return"float"},w.prototype.random=function(){return l.nextFloat(1e3)},o.inherits(k,y),k.prototype._check=function(e,t,n){var r="number"==typeof e;return!r&&n&&n(e,this),r},k.prototype._read=function(e){return e.readDouble()},k.prototype._skip=function(e){e.skipDouble()},k.prototype._write=function(e,t){"number"!=typeof t&&K(t,this),e.writeDouble(t)},k.prototype._match=function(e,t){return e.matchDouble(t)},k.prototype._update=function(e,t){switch(t.getTypeName()){case"double":case"float":case"int":case"long":e._read=t._read}},k.prototype.getTypeName=function(){return"double"},k.prototype.random=function(){return l.nextFloat()},o.inherits(E,y),E.prototype._check=function(e,t,n){var r="string"==typeof e;return!r&&n&&n(e,this),r},E.prototype._read=function(e){return e.readString()},E.prototype._skip=function(e){e.skipString()},E.prototype._write=function(e,t){"string"!=typeof t&&K(t,this),e.writeString(t)},E.prototype._match=function(e,t){return e.matchString(t)},E.prototype._update=function(e,t){switch(t.getTypeName()){case"bytes":case"string":e._read=this._read}},E.prototype.getTypeName=function(){return"string"},E.prototype.random=function(){return l.nextString(l.nextInt(32))},o.inherits(S,y),S.prototype._check=function(e,n,r){var i=t.isBuffer(e);return!i&&r&&r(e,this),i},S.prototype._read=function(e){return e.readBytes()},S.prototype._skip=function(e){e.skipBytes()},S.prototype._write=function(e,n){t.isBuffer(n)||K(n,this),e.writeBytes(n)},S.prototype._match=function(e,t){return e.matchBytes(t)},S.prototype._update=E.prototype._update,S.prototype._copy=function(e,n){var r;switch(0|(n&&n.coerce)){case 3:return this._check(e,void 0,K),e.toString("binary");case 2:if("string"!=typeof e)throw new Error(s("cannot coerce to buffer: %j",e));return r=new t(e,"binary"),this._check(r,void 0,K),r;case 1:if(!Y(e))throw new Error(s("cannot coerce to buffer: %j",e));return r=new t(e.data),this._check(r,void 0,K),r;default:return this._check(e,void 0,K),new t(e)}},S.prototype.compare=t.compare,S.prototype.getTypeName=function(){return"bytes"},S.prototype.random=function(){return l.nextBuffer(l.nextInt(32))},o.inherits(T,v),T.prototype._skip=function(e){this._types[e.readLong()]._skip(e)},T.prototype._match=function(e,t){var n=e.readLong(),r=t.readLong();return n===r?this._types[n]._match(e,t):n<r?-1:1},T.prototype.getTypes=function(){return this._types.slice()},T.prototype.toJSON=function(){return this._types},o.inherits(C,T),C.prototype._getIndex=function(e){var t=this._bucketIndices[J(e)];return this._logicalBranches&&(t=this._getLogicalIndex(e,t)),t},C.prototype._getLogicalIndex=function(e,t){var n,r,i,o=this._logicalBranches;for(n=0,r=o.length;n<r;n++)if((i=o[n]).type._check(e)){if(void 0!==t)throw new Error("ambiguous conversion");t=i.index}return t},C.prototype._check=function(e,t,n,r){var i=this._getIndex(e),o=void 0!==i;return o?this._types[i]._check(e,t,n,r):(n&&n(e,this),o)},C.prototype._read=function(e){var t=e.readLong(),n=this._types[t];if(n)return n._read(e);throw new Error(s("invalid union index: %s",t))},C.prototype._write=function(e,t){var n=this._getIndex(t);void 0===n&&K(t,this),e.writeLong(n),null!==t&&this._types[n]._write(e,t)},C.prototype._update=function(e,t,n){var r,i,o;for(r=0,i=this._types.length;r<i;r++){try{o=this._types[r].createResolver(t,n)}catch(e){continue}return void(e._read=function(e){return o._read(e)})}},C.prototype._copy=function(e,t){var n,r=t&&0|t.coerce,i=t&&0|t.wrap;if(2===i)n=0;else{switch(r){case 1:n=Y(e)&&void 0!==this._bucketIndices.buffer?this._bucketIndices.buffer:this._getIndex(e);break;case 2:if(null===e)n=this._bucketIndices.null;else if("object"==typeof e){var o=Object.keys(e);1===o.length&&(n=this._branchIndices[o[0]],e=e[o[0]])}break;default:n=this._getIndex(e)}void 0===n&&K(e,this)}var a=this._types[n];if(null===e||3===i)return a._copy(e,t);switch(r){case 3:var s={};return s[a.getName(!0)]=a._copy(e,t),s;default:return a._copy(e,t)}},C.prototype.compare=function(e,t){var n=this._getIndex(e),i=this._getIndex(t);if(void 0===n)K(e,this);else{if(void 0!==i)return n===i?this._types[n].compare(e,t):r.compare(n,i);K(t,this)}},C.prototype.getTypeName=function(){return"union:unwrapped"},C.prototype.random=function(){var e=l.nextInt(this._types.length);return this._types[e].random()},o.inherits(x,T),x.prototype._check=function(e,t,n,r){var i=!1;if(null===e)i=void 0!==this._branchIndices.null;else if("object"==typeof e){var o=Object.keys(e);if(1===o.length){var a=o[0],s=this._branchIndices[a];if(void 0!==s)return n?(r.push(a),i=this._types[s]._check(e[a],t,n,r),r.pop(),i):this._types[s]._check(e[a],t)}}return!i&&n&&n(e,this),i},x.prototype._read=function(e){var t=e.readLong(),n=this._constructors[t];if(n)return new n(this._types[t]._read(e));if(null===n)return null;throw new Error(s("invalid union index: %s",t))},x.prototype._write=function(e,t){var n,r,i;null===t?(void 0===(n=this._branchIndices.null)&&K(t,this),e.writeLong(n)):(1===(r=Object.keys(t)).length&&(i=r[0],n=this._branchIndices[i]),void 0===n&&K(t,this),e.writeLong(n),this._types[n]._write(e,t[i]))},x.prototype._update=function(e,t,n){var r,i,o,a;for(r=0,i=this._types.length;r<i;r++){try{o=this._types[r].createResolver(t,n)}catch(e){continue}return a=this._constructors[r],void(e._read=a?function(e){return new a(o._read(e))}:function(){return null})}},x.prototype._copy=function(e,t){var n,r,i,o=t&&0|t.wrap;if(2===o)return null===e&&null===this._constructors[0]?null:new this._constructors[0](this._types[0]._copy(e,t));if(null===e&&void 0!==this._branchIndices.null)return null;if("object"==typeof e){var a=Object.keys(e);if(1===a.length){var s,u,c=a[0];if(void 0===(n=this._branchIndices[c])&&t.qualifyNames)for(s=0,r=this._types.length;s<r;s++)if((u=this._types[s])._name&&c===B(u._name)){n=s;break}void 0!==n&&(i=this._types[n]._copy(e[c],t))}}if(1===o&&void 0===i)for(n=0,r=this._types.length;n<r&&void 0===i;)try{i=this._types[n]._copy(e,t)}catch(e){n++}if(void 0!==i)return 3===o?i:new this._constructors[n](i);K(e,this)},x.prototype.compare=function(e,t){var n=null===e?"null":Object.keys(e)[0],i=null===t?"null":Object.keys(t)[0],o=this._branchIndices[n];return n===i?"null"===n?0:this._types[o].compare(e[n],t[n]):r.compare(o,this._branchIndices[i])},x.prototype.getTypeName=function(){return"union:wrapped"},x.prototype.random=function(){var e=l.nextInt(this._types.length),t=this._constructors[e];return t?new t(this._types[e].random()):null},o.inherits(O,v),O.prototype._check=function(e,t,n){var r=void 0!==this._indices[e];return!r&&n&&n(e,this),r},O.prototype._read=function(e){var t=e.readLong(),n=this._symbols[t];if(void 0===n)throw new Error(s("invalid %s enum index: %s",this._name,t));return n},O.prototype._skip=function(e){e.skipLong()},O.prototype._write=function(e,t){var n=this._indices[t];void 0===n&&K(t,this),e.writeLong(n)},O.prototype._match=function(e,t){return e.matchLong(t)},O.prototype.compare=function(e,t){return r.compare(this._indices[e],this._indices[t])},O.prototype._update=function(e,t){var n=this._symbols;"enum"!==t.getTypeName()||t._name&&!~U(this).indexOf(t._name)||!t._symbols.every(function(e){return~n.indexOf(e)})||(e._symbols=t._symbols,e._read=t._read)},O.prototype._copy=function(e){return this._check(e,void 0,K),e},O.prototype.getAliases=function(){return this._aliases},O.prototype.getSymbols=function(){return this._symbols.slice()},O.prototype.getTypeName=function(){return"enum"},O.prototype.random=function(){return l.choice(this._symbols)},O.prototype.toJSON=function(){return{name:this._name,type:this.getTypeName(),symbols:this._symbols,aliases:this._aliases}},o.inherits(P,v),P.prototype._check=function(e,n,r){var i=t.isBuffer(e)&&e.length===this._size;return!i&&r&&r(e,this),i},P.prototype._read=function(e){return e.readFixed(this._size)},P.prototype._skip=function(e){e.skipFixed(this._size)},P.prototype._write=function(e,n){t.isBuffer(n)&&n.length===this._size||K(n,this),e.writeFixed(n,this._size)},P.prototype._match=function(e,t){return e.matchFixed(t,this._size)},P.prototype.compare=t.compare,P.prototype._update=function(e,t){"fixed"!==t.getTypeName()||this._size!==t._size||t._name&&!~U(this).indexOf(t._name)||(e._size=this._size,e._read=this._read)},P.prototype._copy=S.prototype._copy,P.prototype.getAliases=function(){return this._aliases},P.prototype.getSize=function(){return this._size},P.prototype.getTypeName=function(){return"fixed"},P.prototype.random=function(){return l.nextBuffer(this._size)},P.prototype.toJSON=function(){return{name:this._name,type:this.getTypeName(),size:this._size,aliases:this._aliases}},o.inherits(A,v),A.prototype._check=function(e,t,n,r){if(!e||"object"!=typeof e||Array.isArray(e))return n&&n(e,this),!1;var i,o,a,s,u=Object.keys(e),c=!0;if(n){for(a=r.length,r.push(""),i=0,o=u.length;i<o;i++)s=r[a]=u[i],this._values._check(e[s],t,n,r)||(c=!1);r.pop()}else for(i=0,o=u.length;i<o;i++)if(!this._values._check(e[u[i]],t))return!1;return c},A.prototype._read=function(e){for(var t,n=this._values,r={};t=W(e);)for(;t--;){r[e.readString()]=n._read(e)}return r},A.prototype._skip=function(e){for(var t,n,r=this._values;n=e.readLong();)if(n<0)t=e.readLong(),e.pos+=t;else for(;n--;)e.skipString(),r._skip(e)},A.prototype._write=function(e,t){t&&"object"==typeof t&&!Array.isArray(t)||K(t,this);var n,r,i=this._values,o=Object.keys(t),a=o.length;if(a)for(e.writeLong(a),n=0;n<a;n++)r=o[n],e.writeString(r),i._write(e,t[r]);e.writeLong(0)},A.prototype._match=function(){throw new Error("maps cannot be compared")},A.prototype._update=function(e,t,n){"map"===t.getTypeName()&&(e._values=this._values.createResolver(t._values,n),e._read=this._read)},A.prototype._copy=function(e,t){if(e&&"object"==typeof e&&!Array.isArray(e)){var n,r,i,o=this._values,a=Object.keys(e),s={};for(n=0,r=a.length;n<r;n++)s[i=a[n]]=o._copy(e[i],t);return s}K(e,this)},A.prototype.compare=A.prototype._match,A.prototype.getTypeName=function(){return"map"},A.prototype.getValuesType=function(){return this._values},A.prototype.random=function(){var e,t,n={};for(e=0,t=l.nextInt(10);e<t;e++)n[l.nextString(l.nextInt(20))]=this._values.random();return n},A.prototype.toJSON=function(){return{type:this.getTypeName(),values:this._values}},o.inherits(j,v),j.prototype._check=function(e,t,n,r){if(!Array.isArray(e))return n&&n(e,this),!1;var i,o,a,s=!0;if(n){for(a=r.length,r.push(""),i=0,o=e.length;i<o;i++)r[a]=""+i,this._items._check(e[i],t,n,r)||(s=!1);r.pop()}else for(i=0,o=e.length;i<o;i++)if(!this._items._check(e[i],t))return!1;return s},j.prototype._read=function(e){for(var t,n,r=this._items,i=[];n=e.readLong();)for(n<0&&(n=-n,e.skipLong()),t=0;t<n;t++)i[t]=r._read(e);return i},j.prototype._skip=function(e){for(var t,n;n=e.readLong();)if(n<0)t=e.readLong(),e.pos+=t;else for(;n--;)this._items._skip(e)},j.prototype._write=function(e,t){Array.isArray(t)||K(t,this);var n,r=t.length;if(r)for(e.writeLong(r),n=0;n<r;n++)this._items._write(e,t[n]);e.writeLong(0)},j.prototype._match=function(e,t){for(var n,i=e.readLong(),o=t.readLong();i&&o;){if(n=this._items._match(e,t))return n;--i||(i=W(e)),--o||(o=W(t))}return r.compare(i,o)},j.prototype._update=function(e,t,n){"array"===t.getTypeName()&&(e._items=this._items.createResolver(t._items,n),e._read=this._read)},j.prototype._copy=function(e,t){Array.isArray(e)||K(e,this);var n,r,i=new Array(e.length);for(n=0,r=e.length;n<r;n++)i[n]=this._items._copy(e[n],t);return i},j.prototype.compare=function(e,t){var n,i,o,a=e.length,s=t.length;for(n=0,i=Math.min(a,s);n<i;n++)if(o=this._items.compare(e[n],t[n]))return o;return r.compare(a,s)},j.prototype.getItemsType=function(){return this._items},j.prototype.getTypeName=function(){return"array"},j.prototype.random=function(){var e,t,n=[];for(e=0,t=l.nextInt(10);e<t;e++)n.push(this._items.random());return n},j.prototype.toJSON=function(){return{type:this.getTypeName(),items:this._items}},o.inherits(R,v),R.prototype._getConstructorName=function(){return this._name?B(this._name):this._isError?"Error$":"Record$"},R.prototype._createConstructor=function(){var e,t,n,r,i,a=[],s=[],u=[],c=this._isError?"  Error.call(this);\n":"";for(e=0,t=this._fields.length;e<t;e++)i=(n=this._fields[e]).getDefault,r=n._name,s.push("v"+e),c+="  ",void 0===i()?c+="this."+r+" = v"+e+";\n":(c+="if (v"+e+" === undefined) { ",c+="this."+r+" = d"+u.length+"(); ",c+="} else { this."+r+" = v"+e+"; }\n",a.push("d"+u.length),u.push(i));var l="return function "+this._getConstructorName()+"(";l+=s.join()+") {\n"+c+"};";var f=new Function(a.join(),l).apply(void 0,u),p=this;return f.getType=function(){return p},this._isError&&o.inherits(f,Error),f.prototype.clone=function(e){return p.clone(this,e)},f.prototype.compare=function(e){return p.compare(this,e)},f.prototype.isValid=function(e){return p.isValid(this,e)},f.prototype.toBuffer=function(){return p.toBuffer(this)},f.prototype.toString=function(){return p.toString(this)},f},R.prototype._createChecker=function(){var e=[],t=[],n="return function check"+this._getConstructorName()+"(v, f, h, p) {\n";if(n+="  if (\n",n+="    v === null ||\n",n+="    typeof v != 'object' ||\n",n+="    (f && !this._checkFields(v))\n",n+="  ) {\n",n+="    if (h) { h(v, this); }\n",n+="    return false;\n",n+="  }\n",this._fields.length){for(r=0,i=this._fields.length;r<i;r++)o=this._fields[r],e.push("t"+r),t.push(o._type),void 0!==o.getDefault()&&(n+="  var v"+r+" = v."+o._name+";\n");var r,i,o;for(n+="  if (h) {\n",n+="    var b = 1;\n",n+="    var j = p.length;\n",n+="    p.push('');\n",r=0,i=this._fields.length;r<i;r++)n+="    p[j] = '"+(o=this._fields[r])._name+"';\n",n+="    b &= ",void 0===o.getDefault()?n+="t"+r+"._check(v."+o._name+", f, h, p);\n":(n+="v"+r+" === undefined || ",n+="t"+r+"._check(v"+r+", f, h, p);\n");n+="    p.pop();\n",n+="    return !!b;\n",n+="  } else {\n    return (\n      ",n+=this._fields.map(function(e,t){return void 0===e.getDefault()?"t"+t+"._check(v."+e._name+", f)":"(v"+t+" === undefined || t"+t+"._check(v"+t+", f))"}).join(" &&\n      "),n+="\n    );\n  }\n"}else n+="  return true;\n";return n+="};",new Function(e.join(),n).apply(void 0,t)},R.prototype._createReader=function(){var e,t,n=[],r=[this._constructor];for(e=0,t=this._fields.length;e<t;e++)n.push("t"+e),r.push(this._fields[e]._type);var i=this._getConstructorName(),o="return function read"+i+"(t) {\n";return o+="  return new "+i+"(\n    ",o+=n.map(function(e){return e+"._read(t)"}).join(",\n    "),o+="\n  );\n};",n.unshift(i),new Function(n.join(),o).apply(void 0,r)},R.prototype._createSkipper=function(){var e,t,n=[],r="return function skip"+this._getConstructorName()+"(t) {\n",i=[];for(e=0,t=this._fields.length;e<t;e++)n.push("t"+e),i.push(this._fields[e]._type),r+="  t"+e+"._skip(t);\n";return r+="}",new Function(n.join(),r).apply(void 0,i)},R.prototype._createWriter=function(){var e,t,n,r,i=[],o="return function write"+this._getConstructorName()+"(t, v) {\n",a=[];for(e=0,t=this._fields.length;e<t;e++)n=this._fields[e],i.push("t"+e),a.push(n._type),o+="  ",void 0===n.getDefault()?o+="t"+e+"._write(t, v."+n._name+");\n":(r=n._type.toBuffer(n.getDefault()).toString("binary"),i.push("d"+e),a.push(r),o+="var v"+e+" = v."+n._name+";\n",o+="if (v"+e+" === undefined) {\n",o+="    t.writeBinary(d"+e+", "+r.length+");\n",o+="  } else {\n    t"+e+"._write(t, v"+e+");\n  }\n");return o+="}",new Function(i.join(),o).apply(void 0,a)},R.prototype._update=function(e,t,n){if(t._name&&!~U(this).indexOf(t._name))throw new Error(s("no alias found for %s",t._name));var i,o,a,u,c,l,f=this._fields,p=t._fields,d=r.toMap(p,function(e){return e._name}),h=[],v={};for(i=0;i<f.length;i++){for(c=U(a=f[i]),l=[],o=0;o<c.length;o++)d[u=c[o]]&&l.push(u);if(l.length>1)throw new Error(s("multiple matches for %s field",a._name));if(l.length)v[u=l[0]]={resolver:a._type.createResolver(d[u]._type,n),name:a._name},h.push(a._name);else{if(void 0===a.getDefault())throw new Error(s("no match for default-less %s field",a._name));h.push("undefined")}}var y=-1;for(i=p.length;i&&void 0===v[p[--i]._name];)y=i;var g=this._getConstructorName(),m=[g],_=[this._constructor],b="  return function read"+g+"(t, b) {\n";for(i=0;i<p.length;i++)i===y&&(b+="  if (!b) {\n"),u=(a=t._fields[i])._name,b+=~y&&i>=y?"    ":"  ",void 0===v[u]?(m.push("t"+i),_.push(a._type),b+="t"+i+"._skip(t);\n"):(m.push("t"+i),_.push(v[u].resolver),b+="var "+v[u].name+" = ",b+="t"+i+"._read(t);\n");~y&&(b+="  }\n"),b+="  return new "+g+"("+h.join()+");\n};",e._read=new Function(m.join(),b).apply(void 0,_)},R.prototype._match=function(e,t){var n,r,i,o,a,s=this._fields;for(n=0,r=s.length;n<r;n++)if(o=(i=s[n])._order,a=i._type,o){if(o*=a._match(e,t))return o}else a._skip(e),a._skip(t);return 0},R.prototype._checkFields=function(e){var t,n,r=Object.keys(e);for(t=0,n=r.length;t<n;t++)if(!this._fieldsMap[r[t]])return!1;return!0},R.prototype._copy=function(e,t){var n,r,i,o,a=t&&t.fieldHook,s=[void 0];for(n=0,r=this._fields.length;n<r;n++)void 0===(o=e[(i=this._fields[n])._name])&&i.hasOwnProperty("getDefault")?o=i.getDefault():(t&&!t.skip||void 0!==o)&&(o=i._type._copy(o,t)),a&&(o=a(i,o,this)),s.push(o);return new(this._constructor.bind.apply(this._constructor,s))},R.prototype.compare=function(e,t){var n,r,i,o,a,s,u=this._fields;for(n=0,r=u.length;n<r;n++)if(o=(i=u[n])._name,a=i._order,s=i._type,a&&(a*=s.compare(e[o],t[o])))return a;return 0},R.prototype.random=function(){var e=this._fields.map(function(e){return e._type.random()});return e.unshift(void 0),new(this._constructor.bind.apply(this._constructor,e))},R.prototype.getAliases=function(){return this._aliases},R.prototype.getField=function(e){return this._fieldsMap[e]},R.prototype.getFields=function(){return this._fields.slice()},R.prototype.getRecordConstructor=function(){return this._constructor},R.prototype.getTypeName=function(){return this._isError?"error":"record"},R.prototype.toJSON=function(){return{name:this._name,type:this.getTypeName(),fields:this._fields.map(function(e){return e.toJSON()}),aliases:this._aliases}},o.inherits(I,v),I.prototype.getTypeName=function(){return"logical:"+this._logicalTypeName},I.prototype.getUnderlyingType=function(){return this._underlyingType},I.prototype._read=function(e){return this._fromValue(this._underlyingType._read(e))},I.prototype._write=function(e,t){this._underlyingType._write(e,this._toValue(t))},I.prototype._check=function(e,t,n,r){try{var i=this._toValue(e)}catch(e){}return void 0===i?(n&&n(e,this),!1):this._underlyingType._check(i,t,n,r)},I.prototype._copy=function(e,t){var n=this._underlyingType;switch(t&&t.coerce){case 3:return n._copy(this._toValue(e),t);case 2:return this._fromValue(n._copy(e,t));default:return this._fromValue(n._copy(this._toValue(e),t))}},I.prototype._update=function(e,t,n){var r=this._resolve(t,n);r&&(e._read=function(e){return r(t._read(e))})},I.prototype.random=function(){return this._fromValue(this._underlyingType.random())},I.prototype.compare=function(e,t){var n=this._toValue(e),r=this._toValue(t);return this._underlyingType.compare(n,r)},I.prototype.toJSON=function(){var e=this.getUnderlyingType().toJSON();return d&&("string"==typeof e&&(e={type:e}),e.logicalType=this._logicalTypeName,this._export(e)),e},I.prototype._export=function(){},I.prototype._fromValue=r.abstractFunction,I.prototype._toValue=r.abstractFunction,I.prototype._resolve=r.abstractFunction,o.inherits(L,b),L.prototype._check=function(e,t,n){var r=this._isValid(e);return!r&&n&&n(e,this),r},L.prototype._read=function(e){var t,n;if(this._noUnpack?(n=e.pos,e.skipLong(),t=e.buf.slice(n,e.pos)):t=e.unpackLongBytes(e),e.isValid())return this._fromBuffer(t)},L.prototype._write=function(e,t){this._isValid(t)||K(t,this);var n=this._toBuffer(t);this._noUnpack?e.writeFixed(n):e.packLongBytes(n)},L.prototype._copy=function(e,t){switch(t&&t.coerce){case 3:return this._toJSON(e);case 2:return this._fromJSON(e);default:return this._fromJSON(JSON.parse(JSON.stringify(this._toJSON(e))))}},L.prototype.random=function(){return this._fromJSON(b.prototype.random())},L.prototype._fromBuffer=r.abstractFunction,L.prototype._toBuffer=r.abstractFunction,L.prototype._fromJSON=r.abstractFunction,L.prototype._toJSON=r.abstractFunction,L.prototype._isValid=r.abstractFunction,L.prototype.compare=r.abstractFunction,M.prototype.getAliases=function(){return this._aliases},M.prototype.getDefault=function(){},M.prototype.getName=function(){return this._name},M.prototype.getOrder=function(){return["descending","ignore","ascending"][this._order+1]},M.prototype.getType=function(){return this._type},M.prototype.toJSON=function(){var e=this.getDefault();return void 0!==e&&(e=this._type._copy(e,{coerce:3,wrap:3})),{name:this._name,type:this._type,default:e,order:this.getOrder(),aliases:this._aliases}},M.prototype.inspect=M.prototype.toJSON,D.prototype.inspect=function(){return"<Resolver>"},e.exports={Type:v,createType:h,getTypeBucket:$,getValueBucket:J,isPrimitive:V,isValidName:Q,qualify:F,stringify:H,builtins:function(){var e,t,n,r={LogicalType:I,UnwrappedUnionType:C,WrappedUnionType:x},i=Object.keys(u);for(e=0,t=i.length;e<t;e++)r[q(n=i[e])]=u[n];return r}()}}).call(this,n(22).Buffer)},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},,,,,,,,,,,,,function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(36).EventEmitter,a=n(49),s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=null,a=e;return n=function(e){var t=new Map;for(var n in e)t.set(n,new Set(e[n]));return t}(n),Object.defineProperties(i,{_lock:{get:function(){return o},set:function(e){o=e}},_reachableStates:{value:(r=n,Array.from(r.keys()).reduce(function(e,t){return e.set(t,function e(t,n,r){return r=r||new Set,t.get(n).forEach(function(n){r.has(n)||(r.add(n),e(t,n,r).forEach(r.add,r))}),r}(r,t))},new Map))},_state:{get:function(){return a},set:function(e){a=e}},_states:{value:n},_whenDeferreds:{value:new Set},isLocked:{enumerable:!0,get:function(){return null!==o}},state:{enumerable:!0,get:function(){return a}}}),i.on("stateChanged",function(e){i._whenDeferreds.forEach(function(t){t.when(e,t.resolve,t.reject)})}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),i(t,[{key:"_whenPromise",value:function(e){var t=this;if("function"!=typeof e)return Promise.reject(new Error("when() executor must be a function"));var n=a.defer();return n.when=e,this._whenDeferreds.add(n),n.promise.then(function(e){return t._whenDeferreds.delete(n),e},function(e){throw t._whenDeferreds.delete(n),e})}},{key:"bracket",value:function(e,t){var n=void 0,r=this;function i(e){if(r.hasLock(n)&&r.releaseLockCompletely(n),e)throw e}return this.takeLock(e).then(function(e){return t(n=e)}).then(function(e){return i(),e},i)}},{key:"hasLock",value:function(e){return this._lock===e}},{key:"preempt",value:function(e,t,n){if(!u(this._states,this.state,e))throw new Error('Cannot transition from "'+this.state+'" to "'+e+'"');var r=void 0;this.isLocked&&(r=this._lock,this._lock=null);var i=null;t&&(i=this.takeLockSync(t));var o=i?null:this.takeLockSync("preemption");return this.transition(e,i||o,n),r&&r.resolve(),o&&this.releaseLock(o),i}},{key:"releaseLock",value:function(e){if(!this.isLocked)throw new Error("Could not release the lock for "+e.name+" because the StateMachine is not locked");if(!this.hasLock(e))throw new Error("Could not release the lock for "+e.name+" because "+this._lock.name+" has the lock");0===e.depth?(this._lock=null,e.resolve()):e.depth--}},{key:"releaseLockCompletely",value:function(e){if(!this.isLocked)throw new Error("Could not release the lock for "+e.name+" because the StateMachine is not locked");if(!this.hasLock(e))throw new Error("Could not release the lock for "+e.name+" because "+this._lock.name+" has the lock");e.depth=0,this._lock=null,e.resolve()}},{key:"takeLock",value:function(e){var t=this;if("object"===(void 0===e?"undefined":r(e))){var n=e;return new Promise(function(e){e(t.takeLockSync(n))})}var i=e;if(this.isLocked){var o=this.takeLock.bind(this,i);return this._lock.promise.then(o)}return Promise.resolve(this.takeLockSync(i))}},{key:"takeLockSync",value:function(e){var t="string"==typeof e?null:e,n=t?t.name:e;if(t&&!this.hasLock(t)||!t&&this.isLocked)throw new Error("Could not take the lock for "+n+" because the lock for "+this._lock.name+" was not released");if(t)return t.depth++,t;var r=function(e){var t=a.defer();return t.name=e,t.depth=0,t}(n);return this._lock=r,r}},{key:"transition",value:function(e,t,n){if(n=n||[],this.isLocked){if(!t)throw new Error("You must provide the key in order to transition");if(!this.hasLock(t))throw new Error("Could not transition using the key for "+t.name+" because "+this._lock.name+" has the lock")}else if(t)throw new Error("Key provided for "+t.name+", but the StateMachine was not locked (possibly due to preemption)");if(!u(this._states,this.state,e))throw new Error('Cannot transition from "'+this.state+'" to "'+e+'"');this._state=e,this.emit.apply(this,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(["stateChanged",e].concat(n)))}},{key:"tryTransition",value:function(e,t,n){try{this.transition(e,t,n)}catch(e){return!1}return!0}},{key:"when",value:function(e){var t=this;return this.state===e?Promise.resolve(this):u(this._reachableStates,this.state,e)?this._whenPromise(function(n,r,i){n===e?r(t):u(t._reachableStates,n,e)||i(c(n,e))}):Promise.reject(c(this.state,e))}}]),t}();function u(e,t,n){return e.get(t).has(n)}function c(e,t){return new Error('"'+t+'" cannot be reached from "'+e+'"')}e.exports=s},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(102).DEFAULT_LOG_LEVEL,a=n(102).typeErrors,s=void 0;var u=function(){function e(t,n,i){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"string"!=typeof t)throw a.INVALID_TYPE("moduleName","string");if(!n)throw a.REQUIRED_ARGUMENT("component");"object"!==(void 0===i?"undefined":r(i))&&(i={}),d(i),Object.defineProperties(this,{_component:{value:n},_logLevels:{value:i},_warnings:{value:new Set},logLevel:{get:function(){return e.getLevelByName(i[t]||o)}},name:{get:n.toString.bind(n)}})}return i(e,[{key:"createLog",value:function(t,n){return new e(t,n,this._logLevels)}},{key:"setLevels",value:function(e){return d(e),Object.assign(this._logLevels,e),this}},{key:"log",value:function(t,n){var r=e._levels[t];if(!r)throw a.INVALID_VALUE("logLevel",l);if(this.logLevel<=t){var i=r.name,o=(new Date).toISOString().split("T").concat(["|",i,"in",this.name+":"]);r.logFn.apply(console,o.concat(n))}return this}},{key:"debug",value:function(){return this.log(e.DEBUG,[].slice.call(arguments))}},{key:"deprecated",value:function(e){var t=function(e){if((s=s||new Map).has(e))return s.get(e);var t=new Set;return s.set(e,t),t}(this._component.constructor);return t.has(e)?this:(t.add(e),this.warn(e))}},{key:"info",value:function(){return this.log(e.INFO,[].slice.call(arguments))}},{key:"warn",value:function(){return this.log(e.WARN,[].slice.call(arguments))}},{key:"warnOnce",value:function(e){return this._warnings.has(e)?this:(this._warnings.add(e),this.warn(e))}},{key:"error",value:function(){return this.log(e.ERROR,[].slice.call(arguments))}},{key:"throw",value:function(t,n){throw t.clone&&(t=t.clone(n)),this.log(e.ERROR,t),t}}],[{key:"getLevelByName",value:function(t){return isNaN(t)?(p(t=t.toUpperCase()),e[t]):parseInt(t,10)}}]),e}();Object.defineProperties(u,{DEBUG:{value:0},INFO:{value:1},WARN:{value:2},ERROR:{value:3},OFF:{value:4},_levels:{value:[{name:"DEBUG",logFn:console.log},{name:"INFO",logFn:console.info},{name:"WARN",logFn:console.warn},{name:"ERROR",logFn:console.error},{name:"OFF",logFn:function(){}}]}});var c={},l=[],f=u._levels.map(function(e,t){return c[e.name]=!0,l.push(t),e.name});function p(e){if(!(e in c))throw a.INVALID_VALUE("level",f)}function d(e){Object.keys(e).forEach(function(t){p(e[t].toUpperCase())})}e.exports=u},function(e,t,n){"use strict";var r=n(87).flatMap,i=n(87).guessBrowser,o=null;var a=null;function s(e){return e&&function(){if("boolean"==typeof o)return o;if("undefined"==typeof RTCPeerConnection)return o=!1;try{new RTCPeerConnection({sdpSemantics:"foo"}),o=!1}catch(e){o=!0}return o}()?{"plan-b":"planb","unified-plan":"unified"}[e]:function(){if(!a)if("undefined"!=typeof RTCPeerConnection&&"addTransceiver"in RTCPeerConnection.prototype)try{(new RTCPeerConnection).addTransceiver("audio"),a="unified"}catch(e){a="planb"}else a="planb";return a}()}function u(e,t){return(t.match(new RegExp(e,"gm"))||[]).reduce(function(t,n){var r=n.match(new RegExp(e));return r?t.add(r[1]):t},new Set)}function c(e,t){return u(e,t)}function l(e){return c("^a=ssrc:[0-9]+ +msid:.+ +(.+) *$",e)}function f(e){return c("^a=msid:.+ +(.+) *$",e)}function p(e,t){return u("^a=ssrc:([0-9]+) +msid:[^ ]+ +"+t+" *$",e)}function d(e,t,n){return t=t||".*",n=n||".*",e.split("\r\nm=").slice(1).map(function(e){return"m="+e}).filter(function(e){var r=new RegExp("m="+t,"gm"),i=new RegExp("a="+n,"gm");return r.test(e)&&i.test(e)})}function h(e){return Array.from(u("^a=ssrc:([0-9]+) +.*$",e))}function v(e,t){var n=d(e),i=new RegExp("^a=msid:[^ ]+ +"+t+" *$","gm"),o=n.filter(function(e){return e.match(i)});return new Set(r(o,h))}function y(e,t,n){return new Map(Array.from(e(n)).map(function(e){return[e,t(n,e)]}))}function g(e){return y(l,p,e)}function m(e){return y(f,v,e)}function _(e,t,n){var r=e(n),i=new Map;r.forEach(function(e,r){if(t.has(r)){var o=Array.from(t.get(r)),a=Array.from(e);o.forEach(function(e,t){var r=a[t];i.set(r,e);var o="^a=ssrc:"+r+" (.*)$",s="a=ssrc:"+e+" $1";n=n.replace(new RegExp(o,"gm"),s)})}else t.set(r,e)});var o="^(a=ssrc-group:[^ ]+ +)(.*)$";return(n.match(new RegExp(o,"gm"))||[]).forEach(function(e){var t=e.match(new RegExp(o));if(t){var r=t[1],a=t[2].split(" ").map(function(e){var t=i.get(e);return t||e}).join(" ");n=n.replace(t[0],r+a)}}),n}t.getSdpFormat=function(e){return{chrome:s(e),firefox:"unified",safari:"undefined"!=typeof RTCRtpTransceiver&&"currentDirection"in RTCRtpTransceiver.prototype?"unified":"planb"}[i()]||null},t.getMediaSections=d,t.getPlanBTrackIds=l,t.getUnifiedPlanTrackIds=f,t.getPlanBSSRCs=p,t.getUnifiedPlanSSRCs=v,t.updatePlanBTrackIdsToSSRCs=function(e,t){return _(g,e,t)},t.updateUnifiedPlanTrackIdsToSSRCs=function(e,t){return _(m,e,t)}},,,,,,,,function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return r.exec(e).slice(1)};function o(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var a=i>=0?arguments[i]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,r="/"===a.charAt(0))}return t=n(o(t.split("/"),function(e){return!!e}),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),i="/"===a(e,-1);return(e=n(o(e.split("/"),function(e){return!!e}),!r).join("/"))||r||(e="."),e&&i&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(o(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}var c=[];for(u=s;u<i.length;u++)c.push("..");return(c=c.concat(o.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=i(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},t.basename=function(e,t){var n=i(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return i(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(18))},function(e,t,n){"use strict";var r=n(45).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=p,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:-1}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�".repeat(n);if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�".repeat(n+1);if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�".repeat(n+2)}}(this,e,t);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function p(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�".repeat(this.lastTotal-this.lastNeed):t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n)return 0;if((i=a(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n)return 0;if((i=a(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},,,,,,,,function(e,t,n){"use strict";var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(49).difference,o=n(49).flatMap,a=n(935),s={0:"PCMU",8:"PCMA"},u=16e3;function c(e,t){return t?"\r\nb="+e+":"+("AS"===e?Math.round((t+u)/950):t):null}function l(e){return Array.from(p(e)).reduce(function(e,t){var n=t[0],r=t[1],i=e.get(r)||[];return e.set(r,i.concat(n))},new Map)}function f(e){return v(e).reduce(function(e,t){var n=h(t);return n?e.set(n,t):e},new Map)}function p(e){return y(e).reduce(function(t,n){var r=new RegExp("a=rtpmap:"+n+" ([^/]+)"),i=e.match(r),o=i?i[1].toLowerCase():s[n]?s[n].toLowerCase():"";return t.set(n,o)},new Map)}function d(e,t){var n=new RegExp("^a=fmtp:"+e+" (.+)$","m"),i=t.match(n);return i&&i[1].split(";").reduce(function(e,t){var n=t.split("="),i=r(n,2),o=i[0],a=i[1];return e[o]=isNaN(a)?a:parseInt(a,10),e},{})}function h(e){var t=e.match(/^a=mid:(.+)$/m);return t&&t[1]}function v(e,t,n){return e.replace(/\r\n\r\n$/,"\r\n").split("\r\nm=").slice(1).map(function(e){return"m="+e}).filter(function(e){var r=new RegExp("m="+(t||".*"),"gm"),i=new RegExp("a="+(n||".*"),"gm");return r.test(e)&&i.test(e)})}function y(e){var t=e.split("\r\n")[0].match(/([0-9]+)/g);return t?t.slice(1).map(function(e){return parseInt(e,10)}):[]}function g(e,t){var n=t.split("\r\n"),r=n[0],i=n.slice(1);return[r=r.replace(/([0-9]+\s?)+$/,e.join(" "))].concat(i).join("\r\n")}function m(e,t){if(!/^m=(audio|video)/.test(e))return e;var n=h(e),i=n&&t.get(n);if(!i)return e;var a=p(i),s=l(e),u=o(Array.from(a),function(t){var n=r(t,2),o=n[0],a=n[1];return"rtx"!==a?function(e,t,n,r,i){var o=n.get(e)||[];if(o.length<=1)return o;var a=d(t,i);if(!a)return o;var s=o.find(function(e){var t=d(e,r);return t&&Object.keys(a).every(function(e){return a[e]===t[e]})});return"number"==typeof s?[s]:o}(a,o,s,e,i):[]}),c=s.get("rtx")||[];u=u.concat(c.filter(function(t){var n=d(t,e);return n&&u.includes(n.apt)}));var f=e.split("\r\n").filter(function(e){var t=e.match(/^a=(rtpmap|fmtp|rtcp-fb):(.+) .+$/),n=t&&t[2];return!t||n&&u.includes(parseInt(n,10))});return g(y(e).filter(function(e){return u.includes(e)}),f.join("\r\n"))}function _(e,t){var n=v(e);return[e.split("\r\nm=")[0]].concat(n.map(function(e){if(!/^m=(audio|video)/.test(e))return e;var n=h(e);if(!n)return e;var i=t.get(n);if(!i)return e;var o=(e.match(/^a=msid:(.+)$/m)||[])[1];if(!o)return e;var a=o.split(" "),s=r(a,2),u=s[0],c=s[1],l=new RegExp("msid:"+u+(c?" "+c:"")+"$","gm");return e.replace(l,"msid:"+u+" "+i)})).join("\r\n")}t.createCodecMapForMediaSection=l,t.createPtToCodecName=p,t.disableRtx=function(e){var t=v(e);return[e.split("\r\nm=")[0]].concat(t.map(function(e){if(!/^m=video/.test(e))return e;var t=l(e).get("rtx");if(!t)return e;var n=new Set(y(e));t.forEach(function(e){return n.delete(e)});var r=e.match(/a=ssrc-group:FID [0-9]+ ([0-9]+)/),i=r&&r[1],o=[/^a=fmtp:.+ apt=.+$/,/^a=rtpmap:.+ rtx\/.+$/,/^a=ssrc-group:.+$/].concat(i?[new RegExp("^a=ssrc:"+i+" .+$")]:[]);return e=e.split("\r\n").filter(function(e){return o.every(function(t){return!t.test(e)})}).join("\r\n"),g(Array.from(n),e)})).join("\r\n")},t.getMediaSections=v,t.removeSSRCAttributes=function(e,t){return e.split("\r\n").filter(function(e){return!t.find(function(t){return new RegExp("a=ssrc:.*"+t+":","g").test(e)})}).join("\r\n")},t.revertSimulcastForNonVP8MediaSections=function(e,t,n){var r=f(n),i=f(t),o=v(e);return[e.split("\r\nm=")[0]].concat(o.map(function(e){if(e=e.replace(/\r\n$/,""),!/^m=video/.test(e))return e;var t=e.match(/^a=mid:(.+)$/m),n=t&&t[1];if(!n)return e;var o=r.get(n),a=p(o),s=y(o);return s.length&&"vp8"===a.get(s[0])?e:i.get(n).replace(/\r\n$/,"")})).concat("").join("\r\n")},t.setBitrateParameters=function(e,t,n,r){var i=v(e);return[e.split("\r\nm=")[0]].concat(i.map(function(e){if(!/^m=(audio|video)/.test(e)||!/a=(recvonly|sendrecv)/.test(e))return e;var i=e.match(/^m=(audio|video)/)[1];return function(e,t,n){var r=c(e,t)||"",i=/\r\nb=(AS|TIAS):([0-9]+)/,o=n.match(i);if(!o)return n.replace(/(\r\n)?$/,r+"$1");var a=parseInt(o[2],10);return t=t||1/0,r=c(e,Math.min(a,t)),n.replace(i,r)}(t,"audio"===i?n:r,e)})).join("\r\n")},t.setCodecPreferences=function(e,t,n){var r=v(e);return[e.split("\r\nm=")[0]].concat(r.map(function(e){if(!/^m=(audio|video)/.test(e))return e;var r=e.match(/^m=(audio|video)/)[1],a=l(e),s=function(e,t){t=t.map(function(e){return e.toLowerCase()});var n=o(t,function(t){return e.get(t)||[]}),r=i(Array.from(e.keys()),t),a=o(r,function(t){return e.get(t)});return n.concat(a)}(a,"audio"===r?t:n.map(function(e){return e.codec})),u=g(s,e),c=a.get("pcma")||[],f=a.get("pcmu")||[];return("audio"===r?new Set(c.concat(f)):new Set).has(s[0])?u.replace(/\r\nb=(AS|TIAS):([0-9]+)/g,""):u})).join("\r\n")},t.setSimulcast=function(e,t,n){var r=v(e);return[e.split("\r\nm=")[0]].concat(r.map(function(e){if(e=e.replace(/\r\n$/,""),!/^m=video/.test(e))return e;var r=l(e),i=y(e),o=new Set(r.get("vp8")||[]);return i.some(function(e){return o.has(e)})?a(e,t,n):e})).concat("").join("\r\n")},t.unifiedPlanFilterLocalCodecs=function(e,t){var n=v(e),r=e.split("\r\nm=")[0],i=f(t);return[r].concat(n.map(function(e){return m(e,i)})).join("\r\n")},t.unifiedPlanAddOrRewriteNewTrackIds=function(e,t,n){var i=Array.from(n).reduce(function(n,i){var o=r(i,2),a=o[0],s=o[1];return v(e,a,"send(only|recv)").map(h).filter(function(e){return!t.has(e)}).forEach(function(e,t){return n.set(e,s[t])}),n},new Map);return _(e,i)},t.unifiedPlanAddOrRewriteTrackIds=_},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(t){var r;(r=n(300).Tap).prototype.readString=function(){var e=this.readLong(),t=this.pos,n=this.buf;if(this.pos+=e,!(this.pos>n.length))return this.buf.slice(t,t+e).toString()},r.prototype.writeString=function(e){var n=t.byteLength(e);this.writeLong(n);var r=this.pos;this.pos+=n,this.pos>this.buf.length||this.buf.write(e,r)},r.prototype.writeBinary=function(e,t){var n=this.pos;this.pos+=t,this.pos>this.buf.length||this.buf.write(e,n,t,"binary")},e.exports={createImportHook:function(){return function(e,t,n){n(new Error("missing import hook"))}},load:function(e){var t;if("string"==typeof e&&"null"!==e)try{t=JSON.parse(e)}catch(e){}return void 0===t&&(t=e),t}}}).call(this,n(22).Buffer)},function(e,t,n){"use strict";e.exports=a;var r=n(148),i=n(299);function o(e){this.afterTransform=function(t,n){return function(e,t,n){var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!==n&&void 0!==n&&e.push(n);i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function a(e){if(!(this instanceof a))return new a(e);r.call(this,e),this._transformState=new o(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e,n){s(t,e,n)}):s(t)})}function s(e,t,n){if(t)return e.emit("error",t);null!==n&&void 0!==n&&e.push(n);var r=e._writableState,i=e._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(24),i.inherits(a,r),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){"use strict";var r=n(315);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;o||a?t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r(i,this,e):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(r(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}))},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){e.exports=n(36).EventEmitter},function(e,t,n){"use strict";(function(t,r){var i=n(315);e.exports=_;var o,a=n(341);_.ReadableState=m;n(36).EventEmitter;var s=function(e,t){return e.listeners(t).length},u=n(503),c=n(45).Buffer,l=t.Uint8Array||function(){};var f=n(299);f.inherits=n(24);var p=n(631),d=void 0;d=p&&p.debuglog?p.debuglog("stream"):function(){};var h,v=n(630),y=n(502);f.inherits(_,u);var g=["error","close","destroy","pause","resume"];function m(e,t){o=o||n(148),e=e||{},this.objectMode=!!e.objectMode,t instanceof o&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(h||(h=n(367).StringDecoder),this.decoder=new h(e.encoding),this.encoding=e.encoding)}function _(e){if(o=o||n(148),!(this instanceof _))return new _(e);this._readableState=new m(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function b(e,t,n,r,i){var o,a=e._readableState;null===t?(a.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,S(e)}(e,a)):(i||(o=function(e,t){var n;r=t,c.isBuffer(r)||r instanceof l||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?w(e,a,t,!1):C(e,a)):w(e,a,t,!1))):r||(a.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function w(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&S(e)),C(e,t)}Object.defineProperty(_.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),_.prototype.destroy=y.destroy,_.prototype._undestroy=y.undestroy,_.prototype._destroy=function(e,t){this.push(null),t(e)},_.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=c.from(e,t),t=""),n=!0),b(this,e,t,!1,n)},_.prototype.unshift=function(e){return b(this,e,null,!0,!1)},_.prototype.isPaused=function(){return!1===this._readableState.flowing},_.prototype.setEncoding=function(e){return h||(h=n(367).StringDecoder),this._readableState.decoder=new h(e),this._readableState.encoding=e,this};var k=8388608;function E(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=k?e=k:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function S(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i(T,e):T(e))}function T(e){d("emit readable"),e.emit("readable"),A(e)}function C(e,t){t.readingMore||(t.readingMore=!0,i(x,e,t))}function x(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(d("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function O(e){d("readable nexttick read 0"),e.read(0)}function P(e,t){t.reading||(d("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),A(e),t.flowing&&!t.reading&&e.read(0)}function A(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read(););}function j(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=c.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0===(e-=a)){a===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function R(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i(I,t,e))}function I(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function L(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}_.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?R(this):S(this),null;if(0===(e=E(e,t))&&t.ended)return 0===t.length&&R(this),null;var r,i=t.needReadable;return d("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",i=!0),t.ended||t.reading?d("reading or ended",i=!1):i&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=E(n,t))),null===(r=e>0?j(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&R(this)),null!==r&&this.emit("data",r),r},_.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},_.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,t);var u=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?l:_;function c(t,r){d("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,d("cleanup"),e.removeListener("close",g),e.removeListener("finish",m),e.removeListener("drain",f),e.removeListener("error",y),e.removeListener("unpipe",c),n.removeListener("end",l),n.removeListener("end",_),n.removeListener("data",v),p=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||f())}function l(){d("onend"),e.end()}o.endEmitted?i(u):n.once("end",u),e.on("unpipe",c);var f=function(e){return function(){var t=e._readableState;d("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,A(e))}}(n);e.on("drain",f);var p=!1;var h=!1;function v(t){d("ondata"),h=!1,!1!==e.write(t)||h||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==L(o.pipes,e))&&!p&&(d("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,h=!0),n.pause())}function y(t){d("onerror",t),_(),e.removeListener("error",y),0===s(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",m),_()}function m(){d("onfinish"),e.removeListener("close",g),_()}function _(){d("unpipe"),n.unpipe(e)}return n.on("data",v),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",y),e.once("close",g),e.once("finish",m),e.emit("pipe",n),o.flowing||(d("pipe resume"),n.resume()),e},_.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=L(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},_.prototype.on=function(e,t){var n=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&S(this):i(O,this))}return n},_.prototype.addListener=_.prototype.on,_.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i(P,e,t))}(this,e)),this},_.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},_.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;for(var i in e.on("end",function(){if(d("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){(d("wrapped data"),t.decoder&&(i=t.decoder.write(i)),!t.objectMode||null!==i&&void 0!==i)&&((t.objectMode||i&&i.length)&&(r.push(i)||(n=!0,e.pause())))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<g.length;o++)e.on(g[o],r.emit.bind(r,g[o]));return r._read=function(t){d("wrapped _read",t),n&&(n=!1,e.resume())},r},_._fromList=j}).call(this,n(12),n(18))},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,p=n?-1:1,d=e[t+f];for(f+=p,o=d&(1<<-l)-1,d>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=p,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=p,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=c}return(d?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,h=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?p/u:p*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=h,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+d]=255&a,d+=h,a/=256,c-=8);e[n+d-h]|=128*v}},function(e,t,n){"use strict";t.byteLength=function(e){return 3*e.length/4-c(e)},t.toByteArray=function(e){var t,n,r,a,s,u=e.length;a=c(e),s=new o(3*u/4-a),n=a>0?u-4:u;var l=0;for(t=0;t<n;t+=4)r=i[e.charCodeAt(t)]<<18|i[e.charCodeAt(t+1)]<<12|i[e.charCodeAt(t+2)]<<6|i[e.charCodeAt(t+3)],s[l++]=r>>16&255,s[l++]=r>>8&255,s[l++]=255&r;2===a?(r=i[e.charCodeAt(t)]<<2|i[e.charCodeAt(t+1)]>>4,s[l++]=255&r):1===a&&(r=i[e.charCodeAt(t)]<<10|i[e.charCodeAt(t+1)]<<4|i[e.charCodeAt(t+2)]>>2,s[l++]=r>>8&255,s[l++]=255&r);return s},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o="",a=[],s=0,u=n-i;s<u;s+=16383)a.push(l(e,s,s+16383>u?u:s+16383));1===i?(t=e[n-1],o+=r[t>>2],o+=r[t<<4&63],o+="=="):2===i&&(t=(e[n-2]<<8)+e[n-1],o+=r[t>>10],o+=r[t>>4&63],o+=r[t<<2&63],o+="=");return a.push(o),a.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function l(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16)+(e[s+1]<<8)+e[s+2],a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},,,,function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{_delay:{value:n,writable:!0},_fn:{value:t},_timeout:{value:null,writable:!0}}),r&&this.start()}return r(e,[{key:"setDelay",value:function(e){this._delay=e}},{key:"start",value:function(){var e=this;this.isSet||(this._timeout=setTimeout(function(){var t=e._fn;e.clear(),t()},this._delay))}},{key:"clear",value:function(){clearTimeout(this._timeout),this._timeout=null}},{key:"reset",value:function(){this.clear(),this.start()}},{key:"delay",get:function(){return this._delay}},{key:"isSet",get:function(){return!!this._timeout}}]),e}();e.exports=i},function(e,t,n){"use strict";var r=n(36).EventEmitter,i=n(49).hidePrivateAndCertainPublicPropertiesInClass;e.exports=i(r,["domain"])},function(e,t,n){"use strict";e.exports={LocalAudioTrack:n(982),LocalVideoTrack:n(968),LocalDataTrack:n(966)}},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=a(n(634)),i=a(n(23)),o=a(n(8));function a(e){return e&&e.__esModule?e:{default:e}}[{name:"LogsBatch",schemaUrl:o.default.extension.getURL("/avro/avro/LogsBatch.avsc"),versionUrl:o.default.extension.getURL("/avro/resources/LogsBatch.version")},{name:"StatsDBatch",schemaUrl:o.default.extension.getURL("/avro/avro/StatsDBatch.avsc"),versionUrl:o.default.extension.getURL("/avro/resources/StatsDBatch.version")},{name:"EntityBatchPreAuth",schemaUrl:o.default.extension.getURL("/avro/avro/EntityBatchPreAuth.avsc"),versionUrl:o.default.extension.getURL("/avro/resources/EntityBatchPreAuth.version")}].forEach(t=>{let[n,o]=(e=>{const t=new XMLHttpRequest;t.open("GET",e.schemaUrl,!1),t.send();const n=t.responseText,r=new XMLHttpRequest;return r.open("GET",e.versionUrl,!1),r.send(),[n,r.responseText]})(t);if("EntityBatchPreAuth"===t.name){let t=JSON.parse(n),a=i.default.find(t.fields,{name:"payload"}).type.items;e.exports.EntityPreAuth={recordType:r.default.parse(a),version:parseInt(o)}}e.exports[t.name]={recordType:r.default.parse(n),version:parseInt(o)}})},function(e,t,n){(function(t){var r=n(23),i=n(635),o=n(144),a={default:0,debug:100,info:200,warning:400,error:500,critical:600,alert:700},s=r.invert(a);function u(e){if((e=e||{}).minLevel=e.minLevel||0,r.isString(e.minLevel)&&(e.minLevel=a[e.minLevel.toLowerCase()],void 0===e.minLevel))throw new Error("Invalid minLevel: "+e.minLevel);e.stream=e.stream||t.stdout,e.fields=e.fields||{},this.options=e}u.prototype.withFields=function(e){var t=r.clone(this.options);return t.fields=r.assign({},t.fields,e),new u(t)},u.prototype.withError=function(e){return this.withFields({error:e.message,stack_trace:e.stack})},u.prototype.withExit=function(e){return this.withFields({exit_code:e})},u.prototype.expressMiddleware=function(){var e=this;return function(t,n,r){t.id=o.v4().toString(),t.log=e.withFields({request_id:t.id}),n.setHeader("X-Request-Id",t.id),r()}},u.prototype._logWithLevel=function(e,n){if(!(this.options.minLevel>e)){var o=r.clone(this.options.fields);o.log=n,o.severity=s[e]||"default",o.timestamp=(new Date).toISOString(),this.options.stream.write(i(o)+"\n"),o.exit_code&&t.exit(o.exit_code)}},u.prototype.debug=function(e){return this._logWithLevel(a.debug,e)},u.prototype.info=function(e){return this._logWithLevel(a.info,e)},u.prototype.warn=function(e){return this._logWithLevel(a.warning,e)},u.prototype.error=function(e){return this._logWithLevel(a.error,e)},u.prototype.critical=function(e){return this._logWithLevel(a.critical,e)},u.prototype.alert=function(e){return this._logWithLevel(a.alert,e)},e.exports=u,e.exports.levels=a}).call(this,n(18))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(36),o=(r=i)&&r.__esModule?r:{default:r};window.debugMode=new class extends o.default{constructor(){super(),this.enabled=!1}enable(){this.enabled||(this.enabled=!0,this.emit("enabled"))}disable(){this.enabled&&(this.enabled=!1,this.emit("disabled"))}},t.default=window.debugMode,e.exports=t.default},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(356),o=n(908),a={connecting:["connected"],connected:["disconnected","reconnecting"],reconnecting:["connected","disconnected"],disconnected:[]},s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"connecting",a));return Object.defineProperties(e,{_enqueuedPriorityUpdates:{value:new Map},_identity:{writable:!0,value:null},_networkQualityLevel:{value:null,writable:!0},_networkQualityStats:{value:null,writable:!0},_sid:{writable:!0,value:null},_trackPrioritySignaling:{value:null,writable:!0},identity:{enumerable:!0,get:function(){return this._identity}},sid:{enumerable:!0,get:function(){return this._sid}},tracks:{enumerable:!0,value:new Map}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"addTrack",value:function(e){return this.tracks.set(e.id||e.sid,e),this.emit("trackAdded",e),this}},{key:"disconnect",value:function(){return"disconnected"!==this.state&&(this.preempt("disconnected"),!0)}},{key:"removeTrack",value:function(e){var t=this.tracks.get(e.id||e.sid);return this.tracks.delete(e.id||e.sid),t&&this.emit("trackRemoved",e),t||null}},{key:"setNetworkQualityLevel",value:function(e,t){this._networkQualityLevel!==e&&(this._networkQualityLevel=e,this._networkQualityStats=t&&(t.audio||t.video)?new o(t):null,this.emit("networkQualityLevelChanged"))}},{key:"updateSubscriberTrackPriority",value:function(e,t){this._enqueuedPriorityUpdates.set(e,t),this._trackPrioritySignaling&&this._trackPrioritySignaling.sendTrackPriorityUpdate(e,"subscribe",t)}},{key:"setTrackPrioritySignaling",value:function(e){var t=this;return this._trackPrioritySignaling=e,e&&this._enqueuedPriorityUpdates.forEach(function(e,n){t._trackPrioritySignaling.sendTrackPriorityUpdate(n,"subscribe",e)}),this}},{key:"connect",value:function(e,t){return("connecting"===this.state||"reconnecting"===this.state)&&(this._sid||(this._sid=e),this._identity||(this._identity=t),this.preempt("connected"),!0)}},{key:"reconnecting",value:function(){return("connecting"===this.state||"connected"===this.state)&&(this.preempt("reconnecting"),!0)}},{key:"networkQualityLevel",get:function(){return this._networkQualityLevel}},{key:"networkQualityStats",get:function(){return this._networkQualityStats}}]),t}();e.exports=s},function(e,t,n){e.exports=n(939)},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(686),o=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.name,e.sid,n));Object.defineProperties(r,{_signaling:{value:e},_track:{value:null,writable:!0},isSubscribed:{enumerable:!0,get:function(){return!!this._track}},isTrackEnabled:{enumerable:!0,get:function(){return e.isEnabled}},kind:{enumerable:!0,value:e.kind},publishPriority:{enumerable:!0,get:function(){return e.priority}},track:{enumerable:!0,get:function(){return this._track}}});var i=e.error,o=e.isEnabled,a=e.isSwitchedOff,s=e.priority;return e.on("updated",function(){if(i!==e.error)return i=e.error,void r.emit("subscriptionFailed",e.error);o!==e.isEnabled&&(o=e.isEnabled,r.track&&r.track._setEnabled(e.isEnabled),r.emit(e.isEnabled?"trackEnabled":"trackDisabled")),a!==e.isSwitchedOff&&(a=e.isSwitchedOff,r.track&&(r.track._setSwitchedOff(e.isSwitchedOff),r.emit(e.isSwitchedOff?"trackSwitchedOff":"trackSwitchedOn",r.track))),s!==e.priority&&(s=e.priority,r.emit("publishPriorityChanged",s))}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"toString",value:function(){return"[RemoteTrackPublication #"+this._instanceId+": "+this.trackSid+"]"}},{key:"_subscribed",value:function(e){!this._track&&e&&(this._track=e,this.emit("subscribed",e))}},{key:"_unsubscribe",value:function(){if(this._track){var e=this._track;this._track=null,this.emit("unsubscribed",e)}}}]),t}();e.exports=o},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(686),o=n(102),a=o.typeErrors,s=o.trackPriority,u=function(e){function t(e,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n.name,e.sid,i));return Object.defineProperties(o,{_reemitTrackEvent:{value:function(){return o.emit(o.isTrackEnabled?"trackEnabled":"trackDisabled")}},_signaling:{value:e},_unpublish:{value:r},isTrackEnabled:{enumerable:!0,get:function(){return"data"===this.track.kind||this.track.isEnabled}},kind:{enumerable:!0,value:n.kind},priority:{enumerable:!0,get:function(){return e.updatedPriority}},track:{enumerable:!0,value:n}}),n.on("disabled",o._reemitTrackEvent),n.on("enabled",o._reemitTrackEvent),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"toString",value:function(){return"[LocalTrackPublication #"+this._instanceId+": "+this.trackSid+"]"}},{key:"setPriority",value:function(e){var t=Object.values(s);if(!t.includes(e))throw a.INVALID_VALUE("priority",t);return this._signaling.setPriority(e),this}},{key:"unpublish",value:function(){return this.track.removeListener("disabled",this._reemitTrackEvent),this.track.removeListener("enabled",this._reemitTrackEvent),this._unpublish(this),this}}]),t}();e.exports=u},function(e,t,n){"use strict";var r=n(49).asLocalTrack,i=n(49).buildLogLevels,o=n(318).getUserMedia,a=n(512),s=a.LocalAudioTrack,u=a.LocalDataTrack,c=a.LocalVideoTrack,l=n(318).MediaStreamTrack,f=n(357),p=n(102).DEFAULT_LOG_LEVEL,d=n(694),h=0;e.exports=function(e){var t=!(e&&("audio"in e||"video"in e));e=Object.assign({audio:t,getUserMedia:o,logLevel:p,LocalAudioTrack:s,LocalDataTrack:u,LocalVideoTrack:c,MediaStreamTrack:l,Log:f,video:t},e);var n="[createLocalTracks #"+ ++h+"]",a=i(e.logLevel),v=new e.Log("default",n,a),y=Object.assign({log:v},e);if(delete y.name,!1===e.audio&&!1===e.video)return v.info("Neither audio nor video requested, so returning empty LocalTracks"),Promise.resolve([]);if(e.tracks)return v.info("Adding user-provided LocalTracks"),v.debug("LocalTracks:",e.tracks),Promise.resolve(e.tracks);var g={audio:e.audio&&e.audio.name?{name:e.audio.name}:{},video:e.video&&e.video.name?{name:e.video.name}:{}};g.audio.isCreatedByCreateLocalTracks=!0,g.video.isCreatedByCreateLocalTracks=!0,e.audio&&"boolean"==typeof e.audio.workaroundWebKitBug1208516&&(g.audio.workaroundWebKitBug1208516=e.audio.workaroundWebKitBug1208516),e.video&&"boolean"==typeof e.video.workaroundWebKitBug1208516&&(g.video.workaroundWebKitBug1208516=e.video.workaroundWebKitBug1208516),e.audio&&delete e.audio.name,e.video&&delete e.video.name;var m={audio:e.audio,video:e.video};return(e.audio&&e.audio.workaroundWebKitBug180748?d(v,e.getUserMedia,m):e.getUserMedia(m)).then(function(e){var t=e.getAudioTracks().concat(e.getVideoTracks());return v.info("Call to getUserMedia successful; got MediaStreamTracks:",t),t.map(function(e){return r(e,Object.assign(g[e.kind],y))})},function(e){throw v.warn("Call to getUserMedia failed:",e),e})}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{_isCancelable:{writable:!0,value:!0},_isCanceled:{writable:!0,value:!1},_onCancel:{value:n}}),Object.defineProperty(this,"_promise",{value:new Promise(function(e,n){t(function(t){r._isCancelable=!1,e(t)},function(e){r._isCancelable=!1,n(e)},function(){return r._isCanceled})})})}return r(e,[{key:"cancel",value:function(){return this._isCancelable&&(this._isCanceled=!0,this._onCancel()),this}},{key:"catch",value:function(){var t=[].slice.call(arguments),n=this._promise;return new e(function(e,r){n.catch.apply(n,i(t)).then(e,r)},this._onCancel)}},{key:"then",value:function(){var t=[].slice.call(arguments),n=this._promise;return new e(function(e,r){n.then.apply(n,i(t)).then(e,r)},this._onCancel)}}],[{key:"reject",value:function(t){return new e(function(e,n){n(t)},function(){})}},{key:"resolve",value:function(t){return new e(function(e){e(t)},function(){})}}]),e}();e.exports=o},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i="undefined"!=typeof AudioContext?AudioContext:"undefined"!=typeof webkitAudioContext?webkitAudioContext:null,o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=Object.assign({AudioContext:i},t),Object.defineProperties(this,{_AudioContext:{value:t.AudioContext},_audioContext:{value:null,writable:!0},_holders:{value:new Set},AudioContextFactory:{enumerable:!0,value:e}})}return r(e,[{key:"getOrCreate",value:function(e){if(!this._holders.has(e)&&(this._holders.add(e),this._AudioContext&&!this._audioContext))try{this._audioContext=new this._AudioContext}catch(e){}return this._audioContext}},{key:"release",value:function(e){this._holders.has(e)&&(this._holders.delete(e),!this._holders.size&&this._audioContext&&(this._audioContext.close(),this._audioContext=null))}}]),e}();e.exports=new o},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(511),o=n(49),a=o.buildLogLevels,s=o.valueToJSON,u=n(102).DEFAULT_LOG_LEVEL,c=n(357),l=0,f=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=Object.assign({name:e,log:null,logLevel:u},r);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=String(r.name),s=a(r.logLevel),f=r.log?r.log.createLog("media",i):new c("media",i,s);return Object.defineProperties(i,{_instanceId:{value:++l},_log:{value:f},kind:{enumerable:!0,value:n},name:{enumerable:!0,value:o}}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"toJSON",value:function(){return s(this)}}]),t}();e.exports=f},function(e,t,n){"use strict";var r=n(36).EventEmitter;function i(){Object.defineProperties(this,{_eventEmitter:{value:new r}})}i.prototype.dispatchEvent=function(e){return this._eventEmitter.emit(e.type,e)},i.prototype.addEventListener=function(){return this._eventEmitter.addListener.apply(this._eventEmitter,arguments)},i.prototype.removeEventListener=function(){return this._eventEmitter.removeListener.apply(this._eventEmitter,arguments)},e.exports=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(t){var r=n(340),i=n(300).format,o=r.createType,a=r.getTypeBucket,s=o({type:"array",items:"null"});function u(e,t){if(!e.length)throw new Error("no types to combine");if(1===e.length)return e[0];t=t||{};var n=[],r=0,i=!0;if(e.forEach(function(e){switch(e.getTypeName()){case"union:unwrapped":i=!1,n=n.concat(e.getTypes());break;case"union:wrapped":r++,n=n.concat(e.getTypes());break;case"null":n.push(e);break;default:i=!1,n.push(e)}}),r){if(!i)throw new Error("cannot combine wrapped union");var c={};n.forEach(function(e){var t=e.getName(!0),n=c[t];if(n){if(!e.equals(n))throw new Error("inconsistent branch type")}else c[t]=e});var l,f=t.wrapUnions;t.wrapUnions=!0;try{l=o(Object.keys(c).map(function(e){return c[e]}),t)}catch(e){throw t.wrapUnions=f,e}return t.wrapUnions=f,l}var p={};n.forEach(function(e){var t=a(e),n=p[t];n||(p[t]=n=[]),n.push(e)});var d=Object.keys(p).map(function(e){var n=p[e];if(1===n.length)return n[0];switch(e){case"null":case"boolean":return n[0];case"number":return function(e){var t,n,r,i,o=["int","long","float","double"],a=-1,s=null;for(t=0,n=e.length;t<n;t++)r=e[t],(i=o.indexOf(r.getTypeName()))>a&&(a=i,s=r);return s}(n);case"string":return function(e,t){var n,r,i,a,s={};for(n=0,r=e.length;n<r;n++){if("string"===(i=e[n]).getTypeName())return i;var u,c;for(a=i.getSymbols(),u=0,c=a.length;u<c;u++)s[a[u]]=!0}return o({type:"enum",symbols:Object.keys(s)},t)}(n,t);case"buffer":return function(e,t){var n,r,i,a=-1;for(n=0,r=e.length;n<r;n++){if("bytes"===(i=e[n]).getTypeName())return i;-1===a?a=i.getSize():i.getSize()!==a&&(a=-2)}return a<0?o("bytes",t):e[0]}(n,t);case"array":return(n=n.filter(function(e){return e!==s})).length?o({type:"array",items:u(n.map(function(e){return e.getItemsType()}))},t):s;default:return function(e,t){var n,r,i,a,s,c=[],l={},f={},p=!0;for(n=0,r=e.length;n<r;n++){var d,h,v,y,g,m;if("map"===(i=e[n]).getTypeName())p=!1,c.push(i.getValuesType());else for(a=i.getFields(),d=0,h=a.length;d<h;d++)v=a[d],g=v.getName(),m=v.getType(),c.push(m),p&&(l[g]||(l[g]=[]),l[g].push(m),void 0!==(y=v.getDefault())&&(f[g]=y))}if(p){var _=Object.keys(l);for(n=0,r=_.length;n<r;n++)g=_[n],l[g].length<e.length&&void 0===f[g]&&(t&&t.strictDefaults?p=!1:(l[g].unshift(o("null",t)),f[g]=null))}s=p?{type:"record",fields:_.map(function(e){var n=u(l[e],t),r=f[e];if(void 0!==r&&~n.getTypeName().indexOf("union")){var i,a,s=n.getTypes();for(i=0,a=s.length;i<a&&!s[i].isValid(r);i++);if(i>0){var c=s[0];s[0]=s[i],s[i]=c,n=o(s,t)}}return{name:e,type:n,default:f[e]}})}:{type:"map",values:u(c,t)};return o(s,t)}(n,t)}});return 1===d.length?d[0]:o(d,t)}e.exports={combine:u,infer:function e(n,a){if((a=a||{}).valueHook){var c=a.valueHook(n,a);if(void 0!==c){if(!r.Type.isType(c))throw new Error(i("invalid value hook return value: %j",c));return c}}switch(typeof n){case"string":return o("string",a);case"boolean":return o("boolean",a);case"number":return(0|n)===n?o("int",a):Math.abs(n)<9007199254740991?o("float",a):o("double",a);case"object":if(null===n)return o("null",a);if(Array.isArray(n))return n.length?o({type:"array",items:u(n.map(function(t){return e(t,a)}))},a):s;if(t.isBuffer(n))return o("bytes",a);var l=Object.keys(n);return l.some(function(e){return!r.isValidName(e)})?o({type:"map",values:u(l.map(function(t){return e(n[t],a)}),a)},a):o({type:"record",fields:l.map(function(t){return{name:t,type:e(n[t],a)}})},a);default:throw new Error(i("cannot infer type from: %j",n))}}}}).call(this,n(22).Buffer)},function(e,t,n){"use strict";var r=n(500),i=n(300),o=n(366),a=n(50).format;function s(e,t){var n=new c(e,t);return{attrs:n._readProtocol(),imports:n._imports}}function u(e){this._str=e,this._pos=0,this._queue=new l(3),this._token=void 0,this._doc=void 0}function c(e,t){this._oneWayVoid=!(!t||!t.oneWayVoid),this._reassignJavadoc=!(!t||!t.reassignJavadoc),this._imports=[],this._tk=new u(e),this._tk.next()}function l(e){this._length=0|e,this._data=[]}function f(e){for(var t=(e=e.replace(/^[ \t]+|[ \t]+$/g,"")).split("\n").map(function(e,t){return t?e.replace(/^\s*\*\s?/,""):e});!t[0];)t.shift();for(;!t[t.length-1];)t.pop();this._str=t.join("\n")}function p(e,t){return e.doc instanceof f?(t.doc=e.doc,delete e.doc,1===Object.keys(e).length?e.type:e):e}u.prototype.get=function(e){if(e&&e.id&&e.id!==this._token.id)throw this.error(a("expected %s but got %s",e.id,this._token.val));if(e&&e.val&&e.val!==this._token.val)throw this.error(a("expected %s but got %s",e.val,this._token.val));return this._token},u.prototype.next=function(e){this._skip(),this._queue.push(this._pos);var t,n=this._pos,r=this._str,i=r.charAt(n);if(!i){if(e&&"(eof)"===e.id)return{id:"(eof)"};throw this.error("unexpected end of input")}if(e&&"json"===e.id?(t="json",this._pos=this._endOfJson()):'"'===i?(t="string",this._pos=this._endOfString()):/[0-9]/.test(i)?(t="number",this._pos=this._endOf(/[0-9]/)):/[`A-Za-z_.]/.test(i)?(t="name",this._pos=this._endOf(/[`A-Za-z0-9_.]/)):(t="operator",this._pos=n+1),this._token={id:t,val:r.slice(n,this._pos)},"json"===t)try{this._token.val=JSON.parse(this._token.val)}catch(e){throw this.error("invalid JSON")}else"name"===t&&(this._token.val=this._token.val.replace(/`/g,""));return this.get(e)},u.prototype.prev=function(e){var t=this._queue.pop();if(void 0===t)throw new Error("cannot backtrack more");return this._pos=t,this.get(e)},u.prototype.error=function(e){var t,n=this._queue.peek()||1,r=this._str,i=1,o=0;for(t=0;t<n;t++)"\n"===r.charAt(t)&&(i++,o=t);var a=new Error(e);return a.lineNum=i,a.colNum=n-o,a},u.prototype.addJavadoc=function(e){void 0!==this._doc&&void 0===e.doc&&(e.doc=this._doc,this._doc=void 0)},u.prototype._skip=function(){for(var e,t,n=this._str;(t=n.charAt(this._pos))&&/\s/.test(t);)this._pos++;if("/"===t)switch(n.charAt(this._pos+1)){case"/":for(this._pos+=2;(t=n.charAt(this._pos))&&"\n"!==t;)this._pos++;return this._skip();case"*":for(this._pos+=2,"*"===n.charAt(this._pos)&&(e=this._pos+1);t=n.charAt(this._pos++);)if("*"===t&&"/"===n.charAt(this._pos))return this._pos++,void 0!==e&&(this._doc=new f(n.slice(e,this._pos-2))),this._skip();throw this.error("unterminated comment")}},u.prototype._endOf=function(e){for(var t=this._pos,n=this._str;e.test(n.charAt(t));)t++;return t},u.prototype._endOfString=function(){for(var e,t=this._pos+1,n=this._str;e=n.charAt(t);){if('"'===e)return t+1;"\\"===e?t+=2:t++}throw this.error("unterminated string")},u.prototype._endOfJson=function(){var e=i.jsonEnd(this._str,this._pos);if(e<0)throw new Error("invalid JSON at "+this._pos);return e},c.prototype._readProtocol=function(){for(var e=this._tk,t={},n=[],r={},i=!1;"import"===e.get().val;)this._readImport();for(;"@"===e.get().val;)this._readAnnotation(t);for(e.addJavadoc(t),e.get({val:"protocol"}),t.protocol=e.next({id:"name"}).val,e.next({val:"{"}),e.next();"}"!==e.get().val;)if("import"===e.get().val)this._readImport();else{var o=this._readType();if(o.name)n.push(o);else{i=!0;var s=!1;"void"!==o&&"void"!==o.type||(this._oneWayVoid&&(s=!0),"void"===o?o="null":o.type="null");var u=this._readMessage(o);if(s&&(u.attrs["one-way"]=!0),r[u.name])throw new Error(a("duplicate message: %s",u.name));r[u.name]=u.attrs}}return e.next({id:"(eof)"}),n.length&&(t.types=n),i&&(t.messages=r),t},c.prototype._readImport=function(){var e=this._tk;e.get({val:"import"});var t=e.next({id:"name"}).val,n=JSON.parse(e.next({id:"string"}).val);this._imports.push({kind:t,name:n}),e.next({val:";"}),e.next()},c.prototype._readAnnotation=function(e){var t=this._tk;t.get({val:"@"});for(var n=[];"("!==t.next().val;)n.push(t.get().val);e[n.join("")]=t.next({id:"json"}).val,t.next({val:")"}),t.next()},c.prototype._readMessage=function(e){var t,n=this._tk;for(this._reassignJavadoc?(t={}).response=p(e,t):t={response:e};"@"===n.get().val;)this._readAnnotation(t);var r=n.get({id:"name"}).val;if(t.request=[],n.next({val:"("}),")"!==n.next().val){n.prev();do{n.next(),t.request.push(this._readField())}while(")"!==n.get().val)}return"throws"===n.next().val?(n.next(),t.errors=[this._readType()]):"oneway"===n.get().val&&(n.next(),t["one-way"]=!0),n.get({val:";"}),n.next(),{name:r,attrs:t}},c.prototype._readField=function(){var e=this._tk,t={type:this._readType()};for(this._reassignJavadoc&&(t.type=p(t.type,t));"@"===e.get().val;)this._readAnnotation(t);return e.addJavadoc(t),t.name=e.get({id:"name"}).val,"="===e.next().val&&(t.default=e.next({id:"json"}).val,e.next()),t},c.prototype._readType=function(){for(var e=this._tk,t={};"@"===e.get().val;)this._readAnnotation(t);switch(e.addJavadoc(t),e.get().val){case"record":case"error":return this._readRecord(t);case"fixed":return this._readFixed(t);case"enum":return this._readEnum(t);case"map":return this._readMap(t);case"array":return this._readArray(t);case"union":return this._readUnion(t);default:var n=e.get().val;return e.next(),Object.keys(t).length?(t.type=n,t):n}},c.prototype._readFixed=function(e){var t=this._tk;return e.type=t.get({val:"fixed"}).val,e.name=t.next({id:"name"}).val,t.next({val:"("}),e.size=parseInt(t.next({id:"number"}).val),t.next({val:")"}),";"===t.next().val&&t.next(),e},c.prototype._readMap=function(e){var t=this._tk;return e.type=t.get({val:"map"}).val,t.next({val:"<"}),t.next(),e.values=this._readType(),t.get({val:">"}),t.next(),e},c.prototype._readArray=function(e){var t=this._tk;return e.type=t.get({val:"array"}).val,t.next({val:"<"}),t.next(),e.items=this._readType(),t.get({val:">"}),t.next(),e},c.prototype._readEnum=function(e){var t=this._tk;e.type=t.get({val:"enum"}).val,e.name=t.next({id:"name"}).val,t.next({val:"{"}),e.symbols=[];do{e.symbols.push(t.next().val)}while("}"!==t.next().val);return t.next(),e},c.prototype._readUnion=function(e){var t=this._tk,n=[];t.get({val:"union"}),t.next({val:"{"});do{t.next(),n.push(this._readType())}while("}"!==t.get().val);return t.next(),Object.keys(e).forEach(function(t){n[t]=e[t]}),n},c.prototype._readRecord=function(e){var t=this._tk;for(e.type=t.get({id:"name"}).val,e.name=t.next({id:"name"}).val,e.fields=[],t.next({val:"{"});"}"!==t.next().val;)e.fields.push(this._readField()),t.get({val:";"});return t.next(),e},l.prototype.push=function(e){this._data.push(e),this._data.length>this._length&&this._data.shift()},l.prototype.peek=function(){return this._data[this._data.length-1]},l.prototype.pop=function(){return this._data.pop()},f.prototype.toJSON=function(){return this._str},e.exports={BoundedQueue:l,Tokenizer:u,assemble:function e(t,n,i){i||"function"!=typeof n||(i=n,n=void 0),(n=n||{}).importHook||(n.importHook=r.createImportHook());var u,c,l=[];function f(){var r=c.shift();if(r){var s=o.join(o.dirname(t),r.name);"idl"===r.kind?e(s,n,p):n.importHook(s,r.kind,function(e,t){if(e)i(e);else switch(r.kind){case"protocol":case"schema":try{var n=JSON.parse(t)}catch(e){return e.path=s,void i(e)}p(null,"schema"===r.kind?{types:[n]}:n);break;default:i(new Error(a("invalid import kind: %s",r.kind)))}})}else l.length&&(u.types=u.types?l.concat(u.types):l),i(null,JSON.parse(JSON.stringify(u)))}function p(e,t){if(e)i(e);else{(t.types||[]).forEach(function(e){if(void 0===e.namespace){var n=t.namespace;if(!n){var r=/^(.*)\.[^.]+$/.exec(t.protocol);r&&(n=r[1])}e.namespace=n||""}l.push(e)});try{Object.keys(t.messages||{}).forEach(function(e){if(u.messages||(u.messages={}),u.messages[e])throw new Error(a("duplicate message: %s",e));u.messages[e]=t.messages[e]})}catch(e){return void i(e)}f()}}n.importHook(t,"idl",function(e,r){if(e)i(e);else if(r){try{var o=s(r,n)}catch(e){return e.path=t,void i(e)}u=o.attrs,c=o.imports,f()}else i(null,{})})},parse:s}},function(e,t,n){e.exports=n(338).PassThrough},function(e,t,n){e.exports=n(338).Transform},function(e,t,n){e.exports=n(148)},function(e,t,n){e.exports=n(337)},function(e,t,n){"use strict";e.exports=o;var r=n(501),i=n(299);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=n(24),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(12))},function(e,t,n){"use strict";var r=n(45).Buffer;e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i,o=r.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,n=o,i=s,t.copy(n,i),s+=a.data.length,a=a.next;return o},e}()},function(e,t){},function(e,t,n){"use strict";(function(t){function n(){this.data=void 0}function r(e,t){var n=e[0],r=e[1],i=e[2],c=e[3];r=u(r=u(r=u(r=u(r=s(r=s(r=s(r=s(r=a(r=a(r=a(r=a(r=o(r=o(r=o(r=o(r,i=o(i,c=o(c,n=o(n,r,i,c,t[0],7,-680876936),r,i,t[1],12,-389564586),n,r,t[2],17,606105819),c,n,t[3],22,-1044525330),i=o(i,c=o(c,n=o(n,r,i,c,t[4],7,-176418897),r,i,t[5],12,1200080426),n,r,t[6],17,-1473231341),c,n,t[7],22,-45705983),i=o(i,c=o(c,n=o(n,r,i,c,t[8],7,1770035416),r,i,t[9],12,-1958414417),n,r,t[10],17,-42063),c,n,t[11],22,-1990404162),i=o(i,c=o(c,n=o(n,r,i,c,t[12],7,1804603682),r,i,t[13],12,-40341101),n,r,t[14],17,-1502002290),c,n,t[15],22,1236535329),i=a(i,c=a(c,n=a(n,r,i,c,t[1],5,-165796510),r,i,t[6],9,-1069501632),n,r,t[11],14,643717713),c,n,t[0],20,-373897302),i=a(i,c=a(c,n=a(n,r,i,c,t[5],5,-701558691),r,i,t[10],9,38016083),n,r,t[15],14,-660478335),c,n,t[4],20,-405537848),i=a(i,c=a(c,n=a(n,r,i,c,t[9],5,568446438),r,i,t[14],9,-1019803690),n,r,t[3],14,-187363961),c,n,t[8],20,1163531501),i=a(i,c=a(c,n=a(n,r,i,c,t[13],5,-1444681467),r,i,t[2],9,-51403784),n,r,t[7],14,1735328473),c,n,t[12],20,-1926607734),i=s(i,c=s(c,n=s(n,r,i,c,t[5],4,-378558),r,i,t[8],11,-2022574463),n,r,t[11],16,1839030562),c,n,t[14],23,-35309556),i=s(i,c=s(c,n=s(n,r,i,c,t[1],4,-1530992060),r,i,t[4],11,1272893353),n,r,t[7],16,-155497632),c,n,t[10],23,-1094730640),i=s(i,c=s(c,n=s(n,r,i,c,t[13],4,681279174),r,i,t[0],11,-358537222),n,r,t[3],16,-722521979),c,n,t[6],23,76029189),i=s(i,c=s(c,n=s(n,r,i,c,t[9],4,-640364487),r,i,t[12],11,-421815835),n,r,t[15],16,530742520),c,n,t[2],23,-995338651),i=u(i,c=u(c,n=u(n,r,i,c,t[0],6,-198630844),r,i,t[7],10,1126891415),n,r,t[14],15,-1416354905),c,n,t[5],21,-57434055),i=u(i,c=u(c,n=u(n,r,i,c,t[12],6,1700485571),r,i,t[3],10,-1894986606),n,r,t[10],15,-1051523),c,n,t[1],21,-2054922799),i=u(i,c=u(c,n=u(n,r,i,c,t[8],6,1873313359),r,i,t[15],10,-30611744),n,r,t[6],15,-1560198380),c,n,t[13],21,1309151649),i=u(i,c=u(c,n=u(n,r,i,c,t[4],6,-145523070),r,i,t[11],10,-1120210379),n,r,t[2],15,718787259),c,n,t[9],21,-343485551),e[0]=l(n,e[0]),e[1]=l(r,e[1]),e[2]=l(i,e[2]),e[3]=l(c,e[3])}function i(e,t,n,r,i,o){return l((t=l(l(t,e),l(r,o)))<<i|t>>>32-i,n)}function o(e,t,n,r,o,a,s){return i(t&n|~t&r,e,t,o,a,s)}function a(e,t,n,r,o,a,s){return i(t&r|n&~r,e,t,o,a,s)}function s(e,t,n,r,o,a,s){return i(t^n^r,e,t,o,a,s)}function u(e,t,n,r,o,a,s){return i(n^(t|~r),e,t,o,a,s)}function c(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function l(e,t){return e+t&4294967295}n.prototype.end=function(e){this.data=e},n.prototype.read=function(){return function(e){var n,i=function(e){var t,n=e.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)r(i,c(e.substring(t-64,t)));e=e.substring(t-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(r(i,o),t=0;t<16;t++)o[t]=0;return o[14]=8*n,r(i,o),i}(e),o=new t(16);for(n=0;n<4;n++)o.writeIntLE(i[n],4*n,4);return o}(this.data)},e.exports={createHash:function(e){if("md5"!==e)throw new Error("only md5 is supported in the browser");return new n}}}).call(this,n(22).Buffer)},function(e,t,n){"use strict";(function(t,r){var i=n(340),o=n(300),a=n(36),s=n(339),u=n(50),c=o.Tap,l=u.debuglog("avro"),f=u.format,p={},d=i.createType("boolean",p),h=i.createType({type:"map",values:"bytes"},p),v=i.createType("string",p),y=i.createType({name:"org.apache.avro.ipc.HandshakeRequest",type:"record",fields:[{name:"clientHash",type:{name:"MD5",type:"fixed",size:16}},{name:"clientProtocol",type:["null","string"],default:null},{name:"serverHash",type:"MD5"},{name:"meta",type:["null",h],default:null}]},p),g=i.createType({name:"org.apache.avro.ipc.HandshakeResponse",type:"record",fields:[{name:"match",type:{name:"HandshakeMatch",type:"enum",symbols:["BOTH","CLIENT","NONE"]}},{name:"serverProtocol",type:["null","string"],default:null},{name:"serverHash",type:["null","MD5"],default:null},{name:"meta",type:["null",h],default:null}]},p),m=16;function _(e,t){t=t||{};var n=e.protocol;if(!n)throw new Error("missing protocol name");if(void 0!==e.namespace)t.namespace=e.namespace;else{var r=/^(.*)\.[^.]+$/.exec(n);r&&(t.namespace=r[1])}n=i.qualify(n,t.namespace),e.types&&e.types.forEach(function(e){i.createType(e,t)});var o={};return e.messages&&Object.keys(e.messages).forEach(function(n){o[n]=new x(n,e.messages[n],t)}),new b(n,o,t.registry||{})}function b(e,t,n,r){if(void 0===n)return _(e,t);this._name=e,this._messages=t,this._types=n,this._handlers=r||{},this._hs=o.getHash(this.getSchema()).toString("binary")}function w(e,t){t=t||{},a.EventEmitter.call(this),this._ptcl=e,this._strict=!!t.strictErrors,this._endWritable=!!o.getOption(t,"endWritable",!0),this._timeout=o.getOption(t,"timeout",1e4),this._prefix=B(t.scope),this._cache=t.cache||{};var n,r=t.serverFingerprint;r&&(n=this._cache[r]),n||(r=e.getFingerprint(),n=this._cache[r]=new P(e,e,r)),this._adapter=n,this._registry=new O(this,m),this._destroyed=!1,this._interrupted=!1,this.once("_eot",function(e){this.emit("eot",e)})}function k(e,t,n){w.call(this,e,n),this._writableFactory=t,n&&n.noPing||this.emitMessage("",{},function(e){e&&this.emit("error",e)})}function E(e,n,i,o){w.call(this,e,o),this._readable=n,this._writable=i,this._connected=!(!o||!o.noPing),this._readable.on("end",p),this._writable.on("finish",d),this.once("eot",function(){l("emitter eot"),this._writable.removeListener("finish",d),this._endWritable&&this._writable.end(),this._readable.removeListener("data",c).removeListener("data",f).removeListener("end",p)});var a,s=this;function u(e){if(!s._destroyed){a=s._createHandshakeRequest(s._adapter,!e);var n=[y.toBuffer(a),new t([0,0])];s._writable.write({id:s._prefix,payload:n})}}function c(e){if(s._matchesPrefix(e.id)){var n=t.concat(e.payload);try{var r=M(g,n).head;r.serverHash&&(s._adapter=s._getAdapter(r))}catch(e){return s.destroy(!0),void s.emit("error",D("handshake error (this can happen if the underlying transport is shared by multiple emitters or listeners using the same scope)",e))}s.emit("handshake",a,r),"NONE"===r.match?u(!0):(l("successfully connected"),s._readable.removeListener("data",c).on("data",f),s._connected=!0,s.emit("_connected"),a=null)}else l("discarding unscoped response %s (still connecting)",e.id)}function f(e){var n=e.id;if(s._matchesPrefix(n)){var i=s._registry.get(n);i&&r.nextTick(function(){l("received request %s",n),i(null,t.concat(e.payload),s._adapter)})}else l("discarding unscoped request %s",n)}function p(){s.destroy(!0)}function d(){s.destroy()}this._connected?this._readable.on("data",f):(this._readable.on("data",c),r.nextTick(u))}function S(e,t){t=t||{},a.EventEmitter.call(this),this._ptcl=e,this._strict=!!t.strictErrors,this._endWritable=!!o.getOption(t,"endWritable",!0),this._prefix=B(t.scope),this._cache=t.cache||{};var n=this._ptcl.getFingerprint();this._cache[n]||(this._cache[n]=new P(this._ptcl,this._ptcl,n)),this._adapter=null,this._hook=null,this._pending=0,this._destroyed=!1,this._interrupted=!1,this.once("_eot",function(e){this.emit("eot",e)})}function T(e,n,i){S.call(this,e,i);var o,a=this;function s(e){var n=e.id,r=t.concat(e.payload),i=null;try{var o=M(y,r),s=o.head,u=a._getAdapter(s)}catch(e){i=D("invalid handshake request",e)}function c(e){if(a._writable){var t=a._createHandshakeResponse(i,s);a.emit("handshake",s,t);var r=[g.toBuffer(t),e];a._writable.write({id:n,payload:r}),a._endWritable&&a._writable.end()}else a.once("_writable",function(){c(e)})}i?c(N(i)):a._receive(o.tail,u,c)}function u(){a.destroy()}function c(){o&&o.removeListener("data",s).removeListener("end",u),a.destroy(!0)}r.nextTick(function(){o=n.call(this,function(e,t){if(e)return a.emit("error",e),void c();a._writable=t.on("finish",c),a.emit("_writable")}).on("data",s).on("end",u)})}function C(e,n,r,i){S.call(this,e,i),this._adapter=void 0,this._writable=r.on("finish",c),this._readable=n.on("data",a).on("end",u),this.once("eot",function(){this._writable.removeListener("finish",c),this._endWritable&&this._writable.end(),this._readable.removeListener("data",a).removeListener("data",s).removeListener("end",u)});var o=this;function a(e){var n=e.id;if(o._matchesPrefix(n)){var r,i=t.concat(e.payload);try{var u=M(y,i),c=u.head;o._adapter=o._getAdapter(c)}catch(e){r=D("invalid handshake request",e)}r?l(N(r)):(o._readable.removeListener("data",a).on("data",s),o._receive(u.tail,o._adapter,l))}function l(e){var t=o._createHandshakeResponse(r,c);o.emit("handshake",c,t);var i=[g.toBuffer(t),e];o._writable.write({id:n,payload:i})}}function s(e){var n=e.id;if(o._matchesPrefix(n)){var r=t.concat(e.payload);o._receive(r,o._adapter,function(e,t){t||o._writable.write({id:n,payload:[e]})})}}function u(){o.destroy()}function c(){o.destroy(!0)}}function x(e,t,n){if(n=n||{},!i.isValidName(e))throw new Error(f("invalid message name: %s",e));this._name=e;var r=f("org.apache.avro.ipc.%sRequest",e);if(this._requestType=i.createType({name:r,type:"record",namespace:n.namespace||"",fields:t.request},n),delete n.registry[r],!t.response)throw new Error("missing response");this._responseType=i.createType(t.response,n);var o=t.errors||[];if(o.unshift("string"),this._errorType=i.createType(o,n),this._oneWay=!!t["one-way"],this._oneWay&&("null"!==this._responseType.getTypeName()||o.length>1))throw new Error("unapplicable one-way parameter")}function O(e,t){this._ctx=e,this._mask=-1>>>(0|t),this._id=0,this._n=0,this._cbs={}}function P(e,t,n){this._clientPtcl=e,this._serverPtcl=t,this._fingerprint=n,this._rsvs=e.equals(t)?null:this._createResolvers()}function A(){s.Transform.call(this,{readableObjectMode:!0}),this._id=void 0,this._buf=new t(0),this._bufs=[],this.on("finish",function(){this.push(null)})}function j(){s.Transform.call(this,{writableObjectMode:!0}),this.on("finish",function(){this.push(null)})}function R(){s.Transform.call(this,{readableObjectMode:!0}),this._id=void 0,this._frameCount=0,this._buf=new t(0),this._bufs=[],this.on("finish",function(){this.push(null)})}function I(){s.Transform.call(this,{writableObjectMode:!0}),this.on("finish",function(){this.push(null)})}function L(e){var n=new t(4);return n.writeInt32BE(e),n}function M(e,t){var n=new c(t),r=e._read(n);if(!n.isValid())throw new Error(f("truncated %s",e));return{head:r,tail:n.buf.slice(n.pos)}}function D(e,t){var n=new Error(f("%s: %s",e,t.message));return n.cause=t,n}function N(e,n){return t.concat([n||new t([0]),new t([1,0]),v.toBuffer(e.message)])}function B(e){return e?o.getHash(e).readInt16BE(0)<<32-m:0}function F(e,t){return(e^t)>>32-m==0}function U(e){return!(!e||!e.pipe)}b.prototype.subprotocol=function(){return new b(this._name,this._messages,this._types,Object.create(this._handlers))},b.prototype.createEmitter=function(e,t){var n,r,i=t&&t.objectMode;if("function"==typeof e)return new k(this,i?e:function(n){var r=new j(t);return r.pipe(e(function(e,t){e?n(e):n(null,t.pipe(new A))})),r},t);if(U(e)?n=r=e:(n=e.readable,r=e.writable),!i){var o=new R;n=n.pipe(o);var a=new I;a.pipe(r),r=a}var s=new E(this,n,r,t);return i||s.once("eot",function(){n.unpipe(o),a.unpipe(r)}),s},b.prototype.createListener=function(e,t){var n,r,i=t&&t.objectMode;if("function"==typeof e)return new T(this,i?e:function(n){return e(function(e,r){if(e)n(e);else{var i=new j(t);i.pipe(r),n(null,i)}}).pipe(new A)},t);if(U(e)?n=r=e:(n=e.readable,r=e.writable),!i){var o=new R;n=n.pipe(o);var a=new I;a.pipe(r),r=a}var s=new C(this,n,r,t);return i||s.once("eot",function(){n.unpipe(o),a.unpipe(r)}),s},b.prototype.emit=function(e,t,n,r){if(!n||!this.equals(n.getProtocol()))throw new Error("invalid emitter");var o=this._messages[e];if(!o)throw new Error("unknown message: "+e);var a=this;return n.emitMessage(e,{request:t},function(e,t){var n=o.getErrorType();if(e)return this._strict&&(e=n.clone(e.message,{wrapUnions:!0})),void s(e);e=t.error,this._strict||(void 0===e?e=null:i.Type.isType(n,"union:unwrapped")?"string"==typeof e&&(e=new Error(e)):e&&e.string&&(e=new Error(e.string))),s(e,t.response)}),n.getPending();function s(e,t){r?r.call(a,e,t):e&&n.emit("error",e)}},b.prototype.on=function(e,t){if(!this._messages[e])throw new Error(f("unknown message: %s",e));return this._handlers[e]=t,this},b.prototype.getHandler=function(e){return this._handlers[e]},b.prototype.getName=function(){return this._name},b.prototype.getType=function(e){return this._types[e]},b.prototype.getMessage=function(e){return this._messages[e]},b.prototype.getMessages=function(){var e=this._messages;return Object.keys(e).map(function(t){return e[t]})},b.prototype.getSchema=function(e){var t=[];return Object.keys(this._types).forEach(function(e){var n=this._types[e];n.getName()&&t.push(n)},this),i.stringify({protocol:this._name,types:t.length?t:void 0,messages:Object.keys(this._messages).length?this._messages:void 0},e)},b.prototype.getFingerprint=function(e){return e?o.getHash(this.getSchema()):new t(this._hs,"binary")},b.prototype.equals=function(e){return!!e&&this._hs===e._hs},b.prototype.toString=function(){return this.getSchema({noDeref:!0})},b.prototype.inspect=function(){return f("<Protocol %j>",this._name)},b.MessageEmitter=w,b.MessageListener=S,u.inherits(w,a.EventEmitter),w.prototype.getCache=function(){return this._cache},w.prototype.getProtocol=function(){return this._ptcl},w.prototype.getTimeout=function(){return this._timeout},w.prototype.isDestroyed=function(){return this._destroyed},w.prototype.getPending=function(){return this._registry.size()},w.prototype.emitMessage=function(e,n,i,o){if(void 0===o&&"function"==typeof i&&(o=i,i=void 0),!o)throw new Error("missing callback");var a,s,u;if(this._destroyed)a=new Error("destroyed");else if(""===e)u=new t([0,0]);else if(s=this._ptcl.getMessage(e))try{u=t.concat([h.toBuffer(n.header||{}),v.toBuffer(e),s.getRequestType().toBuffer(n.request)])}catch(e){a=D("invalid request",e)}else a=new Error(f("unknown message: %s",e));var c=this;if(a)return r.nextTick(function(){o.call(c,a)}),!0;var p=i&&void 0!==i.timeout?i.timeout:this._timeout,d=this._registry.add(p,function(t,n,r){var i,a;if(!t)if(""===e)i={};else try{i=r.decodeResponse(n,e).envelope}catch(e){t=D("invalid response",e)}r&&(a={serverFingerprint:r._fingerprint,serverProtocol:r.getServerProtocol()}),o.call(this,t,i,a),!this._destroyed||this._interrupted||this._registry.size()||this.destroy()});return d|=this._prefix,l("sending message %s",d),this._send(d,u,!!s&&s.isOneWay())},w.prototype.destroy=function(e){this._destroyed=!0;var t=this._registry,n=t.size();e&&n&&(this._interrupted=!0,t.clear()),!e&&n||this.emit("_eot",n)},w.prototype._send=o.abstractFunction,w.prototype._createHandshakeRequest=function(e,t){var n=this._ptcl;return{clientHash:n.getFingerprint(),clientProtocol:t?null:n.getSchema({exportAttrs:!0}),serverHash:e._fingerprint}},w.prototype._getAdapter=function(e){var t=e.serverHash,n=this._cache[t];if(n)return n;var r=_(JSON.parse(e.serverProtocol),{wrapUnions:!0});return n=new P(this._ptcl,r,t),this._cache[t]=n},w.prototype._matchesPrefix=function(e){return F(e,this._prefix)},u.inherits(k,w),k.prototype._send=function(e,n){var i=this._registry.get(e),o=this._adapter,a=this;return r.nextTick(function s(u){if(a._interrupted)return;var c=a._createHandshakeRequest(o,!u);var f=a._writableFactory.call(a,function(e,n){e?i(e):n.on("data",function(e){l("received response %s",e.id);var n=t.concat(e.payload);try{var u=M(g,n),f=u.head;f.serverHash&&(o=a._getAdapter(f))}catch(e){return void i(e)}a.emit("handshake",c,f),"NONE"!==f.match?(a._adapter=o,i(null,u.tail,o)):r.nextTick(function(){s(!0)})})});f.write({id:e,payload:[y.toBuffer(c),n]});a._endWritable&&f.end()}),!0},u.inherits(E,w),E.prototype._send=function(e,n,i){if(!this._connected)return l("queuing request %s",e),this.once("_connected",function(){this._send(e,n,i)}),!1;if(i){var o=this;r.nextTick(function(){o._registry.get(e)(null,new t([0,0,0]),o._adapter)})}return this._writable.write({id:e,payload:[n]})},u.inherits(S,a.EventEmitter),S.prototype.getCache=function(){return this._cache},S.prototype.getPending=function(){return this._pending},S.prototype.getProtocol=function(){return this._ptcl},S.prototype.isDestroyed=function(){return this._destroyed},S.prototype.onMessage=function(e){return this._hook=e,this},S.prototype.destroy=function(e){this._destroyed=!0,!e&&this._pending||(this._interrupted=!0,this.emit("_eot",this._pending))},S.prototype._receive=function(e,n,r){var i=this._ptcl,o=this;try{var a=n.decodeRequest(e)}catch(e){return void r(N(e))}var s=a.message;if(s){var u=s.getName(),c=i.getMessage(u),l=i._handlers[u],p=a.envelope,v=!1;if(this._pending++,this._hook){var y={clientFingerprint:n._fingerprint,clientProtocol:n.getClientProtocol()};this._hook.call(this,u,p,y,g)}else if(l)if(c.isOneWay())l.call(i,p.request),g(null,{error:void 0,response:null});else try{l.call(i,p.request,this,function(e,t){g(null,{error:e,response:t})})}catch(e){g(e)}else g(new Error(f("unhandled message: %s",u)))}else r(new t(0));function g(e,n){if(v)o.emit("error",new Error("message callback called multiple times"));else{var i,a;if(v=!0,o._pending--,!e){var s=c.getErrorType(),u=n.error;o._strict||((a=u)&&"[object Error]"===Object.prototype.toString.call(a)?u=s.clone(u.message,{wrapUnions:!0}):null===u&&(u=void 0));var l=void 0===u;try{var f=h.toBuffer(n.header||{});i=t.concat([f,d.toBuffer(!l),l?c.getResponseType().toBuffer(n.response):s.toBuffer(u)])}catch(t){e=D("invalid response",t)}}e&&(i=N(e,f)),o._interrupted||r(i,c.isOneWay()),o._destroyed&&!o._pending&&o.destroy()}}},S.prototype._createHandshakeResponse=function(e,t){var n=this._ptcl,r=n.getFingerprint(),i=t&&t.serverHash.equals(r);return{match:e?"NONE":i?"BOTH":"CLIENT",serverProtocol:i?null:n.getSchema({exportAttrs:!0}),serverHash:i?null:r}},S.prototype._getAdapter=function(e){var t=e.clientHash,n=this._cache[t];if(n)return n;if(!e.clientProtocol)throw new Error("unknown protocol");return n=new P(_(JSON.parse(e.clientProtocol),{wrapUnions:!0}),this._ptcl,t),this._cache[t]=n},S.prototype._matchesPrefix=function(e){return F(e,this._prefix)},u.inherits(T,S),u.inherits(C,S),x.prototype.getName=function(){return this._name},x.prototype.getRequestType=function(){return this._requestType},x.prototype.getResponseType=function(){return this._responseType},x.prototype.getErrorType=function(){return this._errorType},x.prototype.isOneWay=function(){return this._oneWay},x.prototype.inspect=x.prototype.toJSON=function(){var e={request:this._requestType.getFields(),response:this._responseType},t=this._errorType.getTypes();return t.length>1&&(e.errors=i.createType(t.slice(1))),this._oneWay&&(e["one-way"]=!0),e},O.prototype.size=function(){return this._n},O.prototype.get=function(e){return this._cbs[e&this._mask]},O.prototype.add=function(e,t){this._id=this._id+1&this._mask;var n,r=this,i=this._id;return e>0&&(n=setTimeout(function(){o(new Error("timeout"))},e)),this._cbs[i]=o,this._n++,i;function o(){r._cbs[i]&&(delete r._cbs[i],r._n--,n&&clearTimeout(n),t.apply(r._ctx,arguments))}},O.prototype.clear=function(){Object.keys(this._cbs).forEach(function(e){this._cbs[e](new Error("interrupted"))},this)},P.prototype.getClientProtocol=function(){return this._clientPtcl},P.prototype.getServerProtocol=function(){return this._serverPtcl},P.prototype._createResolvers=function(){var e={};return this._clientPtcl.getMessages().forEach(function(t){var n=t.getName(),r=this._serverPtcl.getMessage(n);if(!r)throw new Error(f("missing server message: %s",n));if(r.isOneWay()!==t.isOneWay())throw new Error(f("inconsistent one-way parameter for message: %s",n));try{e[n+"?"]=r.getRequestType().createResolver(t.getRequestType()),e[n+"*"]=t.getErrorType().createResolver(r.getErrorType()),e[n+"!"]=t.getResponseType().createResolver(r.getResponseType())}catch(e){throw D("incompatible message "+n,e)}},this),e},P.prototype._getReader=function(e,t){if(this._rsvs)return this._rsvs[e+t];var n=this._serverPtcl.getMessage(e);switch(t){case"?":return n.getRequestType();case"*":return n.getErrorType();case"!":return n.getResponseType()}},P.prototype.decodeRequest=function(e){var t=new c(e),n=h._read(t),r=v._read(t);if(r)var i=this._getReader(r,"?")._read(t);if(!t.isValid())throw new Error("truncated request");return{message:this._clientPtcl.getMessage(r),envelope:{header:n,request:i}}},P.prototype.decodeResponse=function(e,t){var n,r,i=new c(e),o=h._read(i),a=d._read(i),s=this._getReader(t,a?"*":"!");if(a?n=s._read(i):r=s._read(i),!i.isValid())throw new Error("truncated response");return{message:this._serverPtcl.getMessage(t),envelope:{header:o,error:n,response:r}}},u.inherits(A,s.Transform),A.prototype._transform=function(e,n,r){var i;for(e=t.concat([this._buf,e]);e.length>=4&&e.length>=(i=e.readInt32BE(0))+4;){if(i)this._bufs.push(e.slice(4,i+4));else{var o=this._bufs;this._bufs=[],this.push({id:null,payload:o})}e=e.slice(i+4)}this._buf=e,r()},A.prototype._flush=function(){(this._buf.length||this._bufs.length)&&this.emit("error",new Error("trailing data"))},u.inherits(j,s.Transform),j.prototype._transform=function(e,t,n){var r,i,o,a=e.payload;for(r=0,i=a.length;r<i;r++)o=a[r],this.push(L(o.length)),this.push(o);this.push(L(0)),n()},u.inherits(R,s.Transform),R.prototype._transform=function(e,n,r){for(e=t.concat([this._buf,e]);;){if(void 0===this._id){if(e.length<8)return this._buf=e,void r();this._id=e.readInt32BE(0),this._frameCount=e.readInt32BE(4),e=e.slice(8)}for(var i;this._frameCount&&e.length>=4&&e.length>=(i=e.readInt32BE(0))+4;)this._frameCount--,this._bufs.push(e.slice(4,i+4)),e=e.slice(i+4);if(this._frameCount)return this._buf=e,void r();var o={id:this._id,payload:this._bufs};this._bufs=[],this._id=void 0,this.push(o)}},R.prototype._flush=function(){(this._buf.length||this._bufs.length)&&this.emit("error",new Error("trailing data"))},u.inherits(I,s.Transform),I.prototype._transform=function(e,n,r){var i,o,a=e.payload,s=a.length;for((i=new t(8)).writeInt32BE(e.id,0),i.writeInt32BE(s,4),this.push(i),o=0;o<s;o++)i=a[o],this.push(L(i.length)),this.push(i);r()},e.exports={HANDSHAKE_REQUEST_TYPE:y,HANDSHAKE_RESPONSE_TYPE:g,Message:x,Protocol:b,Registry:O,createProtocol:_,streams:{FrameDecoder:A,FrameEncoder:j,NettyDecoder:R,NettyEncoder:I}}}).call(this,n(22).Buffer,n(18))},function(e,t,n){"use strict";var r=n(633),i=n(500),o=n(623),a=n(340),s=n(622);e.exports={Protocol:r.Protocol,Type:a.Type,assemble:o.assemble,combine:s.combine,infer:s.infer,parse:function(e,t){var n=i.load(e);return n.protocol?r.createProtocol(n,t):a.createType(n,t)},types:a.builtins}},function(e,t){function n(e){return null!==e&&"object"==typeof e&&"function"!=typeof e.toJSON&&function e(t,n,i,o){var a,s,u,c,l,f;if("object"!=typeof t||null===t)return;if(t instanceof r)return void t.count++;if("function"==typeof t.toJSON&&!t.toJSON.forceDecirc)return;if(o){for(c=0,l=!1,f=i.length;c<f;c++)if(i[c]===t){l=!0;break}if(l)return void(o[n]=new r(t,n,o))}i.push(t);a=[];for(var p in t)Object.prototype.hasOwnProperty.call(t,p)&&a.push(p);s=a.length;u=0;for(;u<s;u++)n=a[u],e(t[n],n,i,t);i.pop()}(e,"",[],null),JSON.stringify(e)}function r(e,t,n){this.val=e,this.k=t,this.parent=n,this.count=1}e.exports=n,n.default=n,r.prototype.toJSON=function(){return 0==--this.count&&(this.parent[this.k]=this.val),"[Circular]"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(567),i=n(102).DEFAULT_LOG_LEVEL;function o(e,t){t=Object.assign({createLocalTracks:r,logLevel:i},t);var n={};n.logLevel=t.logLevel,delete t.logLevel;var o=t.createLocalTracks;return delete t.createLocalTracks,n[e]=!(Object.keys(t).length>0)||t,o(n).then(function(e){return e[0]})}e.exports={audio:function(e){return o("audio",e)},video:function(e){return o("video",e)}}},function(e,t){e.exports=WebSocket},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(36).EventEmitter,o=function(e){function t(e,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),a=null;return Object.defineProperties(o,{_error:{value:null,writable:!0},_isEnabled:{value:r,writable:!0},_priority:{value:i,writable:!0},_trackTransceiver:{value:null,writable:!0},_sid:{get:function(){return a},set:function(e){null===a&&(a=e)}},kind:{enumerable:!0,value:n},name:{enumerable:!0,value:e}}),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"disable",value:function(){return this.enable(!1)}},{key:"enable",value:function(e){return e="boolean"!=typeof e||e,this.isEnabled!==e&&(this._isEnabled=e,this.emit("updated")),this}},{key:"setTrackTransceiver",value:function(e){return e=e||null,this.trackTransceiver!==e&&(this._trackTransceiver=e,this.emit("updated")),this}},{key:"setSid",value:function(e){return null===this.sid&&(this._sid=e,this.emit("updated")),this}},{key:"error",get:function(){return this._error}},{key:"isEnabled",get:function(){return this._isEnabled}},{key:"priority",get:function(){return this._priority}},{key:"sid",get:function(){return this._sid}},{key:"trackTransceiver",get:function(){return this._trackTransceiver}}]),t}();e.exports=o},function(e,t,n){"use strict";var r=n(905),i=n(904),o=n(903);e.exports=function e(t){var n=t.bandwidth,a=void 0===n?null:n,s=t.fractionLost,u=void 0===s?null:s,c=t.latency,l=void 0===c?null:c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{bandwidth:{value:a?new r(a):null,enumerable:!0},fractionLost:{value:u?new i(u):null,enumerable:!0},latency:{value:l?new o(l):null,enumerable:!0}})}},function(e,t,n){"use strict";var r=n(906),i=n(902);e.exports=function e(t){var n=t.send,o=t.recv,a=t.sendStats,s=void 0===a?null:a,u=t.recvStats,c=void 0===u?null:u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{send:{value:n,enumerable:!0},recv:{value:o,enumerable:!0},sendStats:{value:s?new r(s):null,enumerable:!0},recvStats:{value:c?new i(c):null,enumerable:!0}})}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(669),o=n(356),a=n(510),s=n(331),u=s.MediaConnectionError,c=s.MediaDTLSTransportFailedError,l=s.SignalingConnectionDisconnectedError,f={connected:["reconnecting","disconnected"],reconnecting:["connected","disconnected"],disconnected:[]},p=function(e){function t(e,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=Object.assign({RecordingSignaling:i,Timeout:a},o);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"connected",f)),u=o.RecordingSignaling,l=new o.Timeout(function(){s._disconnect(s._reconnectingError)},o.sessionTimeout,!1);return Object.defineProperties(s,{_mediaConnectionIsReconnecting:{writable:!0,value:!1},_options:{value:o},_reconnectingError:{value:null,writable:!0},_sessionTimeout:{value:l},dominantSpeakerSid:{enumerable:!0,value:null,writable:!0},localParticipant:{enumerable:!0,value:e},name:{enumerable:!0,value:r},participants:{enumerable:!0,value:new Map},recording:{enumerable:!0,value:new u},sid:{enumerable:!0,value:n}}),s.on("connectionStateChanged",function(){"failed"!==s.connectionState||["disconnected","failed"].includes(s.iceConnectionState)||s._disconnect(new c)}),s.on("iceConnectionStateChanged",function(){return d(s)}),s.on("signalingConnectionStateChanged",function(){return d(s)}),setTimeout(function(){return d(s)}),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),r(t,[{key:"_disconnect",value:function(e){return"disconnected"!==this.state&&(this.preempt("disconnected",null,[e]),!0)}},{key:"connectParticipant",value:function(e){var t=this;return"disconnected"!==e.state&&(!this.participants.has(e.sid)&&(this.participants.set(e.sid,e),e.on("stateChanged",function n(r){"disconnected"===r&&(e.removeListener("stateChanged",n),t.participants.delete(e.sid),t.emit("participantDisconnected",e))}),this.emit("participantConnected",e),!0))}},{key:"disconnect",value:function(){return this._disconnect()}},{key:"setDominantSpeaker",value:function(e){this.dominantSpeakerSid=e,this.emit("dominantSpeakerChanged")}}]),t}();function d(e){if("disconnected"!==e.state&&"disconnected"!==e.signalingConnectionState){var t=void 0;"reconnecting"===e.signalingConnectionState?t=e.signalingConnectionState:"failed"===e.iceConnectionState?(e._mediaConnectionIsReconnecting=!0,t="reconnecting"):"new"===e.iceConnectionState||"checking"===e.iceConnectionState?t=e._mediaConnectionIsReconnecting?"reconnecting":"connected":(e._mediaConnectionIsReconnecting=!1,e._reconnectingError=null,e._sessionTimeout.clear(),t="connected"),t!==e.state&&("reconnecting"===t?(e._reconnectingError="reconnecting"===e.signalingConnectionState?new l:new u,e._sessionTimeout.start(),e.preempt(t,null,[e._reconnectingError])):e.preempt(t))}else e._sessionTimeout.clear()}e.exports=p},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(36).EventEmitter,o=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperties(e,{_isEnabled:{value:null,writable:!0},isEnabled:{enumerable:!0,get:function(){return this._isEnabled}}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"disable",value:function(){return this.enable(!1)}},{key:"enable",value:function(e){return e="boolean"!=typeof e||e,this.isEnabled!==e&&(this._isEnabled=e,this.emit("updated")),this}}]),t}();e.exports=o},function(e,t,n){"use strict";e.exports=function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{id:{enumerable:!0,value:t,writable:!0},trackId:{enumerable:!0,value:n,writable:!0},lastStats:{enumerable:!0,value:r,writable:!0}})}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(674),o=n(673),a=n(672),s=function(e){function t(e,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return Object.defineProperties(o,{rtt:{enumerable:!0,value:i}}),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),r(t,null,[{key:"of",value:function(e,n,r,i){if(n.id!==r.id)throw new Error("RTCStats IDs must match");var o=(r.timestamp-n.timestamp)/1e3,a=r.bytesSent-n.bytesSent,s=o>0?a/o*8:0,u=i&&"number"==typeof i.roundTripTime?i.roundTripTime/1e3:void 0;return new t(n.id,e,s,u)}},{key:"summarize",value:function(e){return{bitrate:a(e.map(function(e){return e.bitrate})),rtt:i(e.map(function(e){return e.rtt}))}}}]),t}();e.exports=s},function(e,t,n){"use strict";e.exports=function(e){return e.reduce(function(e,t){return"number"==typeof t?t+e:e},0)}},function(e,t,n){"use strict";e.exports=function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{id:{enumerable:!0,value:t},trackId:{enumerable:!0,value:n},bitrate:{enumerable:!0,value:r}})}},function(e,t,n){"use strict";e.exports=function(e){return(e=e.filter(function(e){return"number"==typeof e})).length<1?void 0:e.reduce(function(e,t){return t+e})/e.length}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(674),o=n(673),a=n(672),s=function(e){function t(e,n,r,i,o,a,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r)),c=o>0?i/o:0;return Object.defineProperties(u,{deltaPacketsLost:{enumerable:!0,value:i},deltaPacketsReceived:{enumerable:!0,value:o},fractionLost:{enumerable:!0,value:a},jitter:{enumerable:!0,value:s},phonyFractionLost:{enumerable:!0,value:c}}),u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),r(t,[{key:"summarize",value:function(){return{bitrate:this.bitrate,fractionLost:"number"==typeof this.fractionLost?this.fractionLost:this.phonyFractionLost,jitter:this.jitter}}}],[{key:"of",value:function(e,n,r){if(n.id!==r.id)throw new Error("RTCStats IDs must match");var i=(r.timestamp-n.timestamp)/1e3,o=r.bytesReceived-n.bytesReceived,a=i>0?o/i*8:0,s=Math.max(r.packetsLost-n.packetsLost,0),u=r.packetsReceived-n.packetsReceived,c=r.fractionLost,l=r.jitter;return new t(n.id,e,a,s,u,c,l)}},{key:"summarize",value:function(e){var t=e.map(function(e){return e.summarize()});return{bitrate:a(t.map(function(e){return e.bitrate})),fractionLost:i(t.map(function(e){return e.fractionLost})),jitter:i(t.map(function(e){return e.jitter}))}}}]),t}();e.exports=s},function(e,t,n){var r=n(50),i=n(677);function o(e){i.call(this,e),this.backoffDelay_=0,this.nextBackoffDelay_=this.getInitialDelay()}r.inherits(o,i),o.prototype.next_=function(){var e=Math.min(this.nextBackoffDelay_,this.getMaxDelay());return this.nextBackoffDelay_+=this.backoffDelay_,this.backoffDelay_=e,e},o.prototype.reset_=function(){this.nextBackoffDelay_=this.getInitialDelay(),this.backoffDelay_=0},e.exports=o},function(e,t,n){n(36),n(50);function r(e){return void 0!==e&&null!==e}function i(e){if(r((e=e||{}).initialDelay)&&e.initialDelay<1)throw new Error("The initial timeout must be greater than 0.");if(r(e.maxDelay)&&e.maxDelay<1)throw new Error("The maximal timeout must be greater than 0.");if(this.initialDelay_=e.initialDelay||100,this.maxDelay_=e.maxDelay||1e4,this.maxDelay_<=this.initialDelay_)throw new Error("The maximal backoff delay must be greater than the initial backoff delay.");if(r(e.randomisationFactor)&&(e.randomisationFactor<0||e.randomisationFactor>1))throw new Error("The randomisation factor must be between 0 and 1.");this.randomisationFactor_=e.randomisationFactor||0}i.prototype.getMaxDelay=function(){return this.maxDelay_},i.prototype.getInitialDelay=function(){return this.initialDelay_},i.prototype.next=function(){var e=this.next_(),t=1+Math.random()*this.randomisationFactor_;return Math.round(e*t)},i.prototype.next_=function(){throw new Error("BackoffStrategy.next_() unimplemented.")},i.prototype.reset=function(){this.reset_()},i.prototype.reset_=function(){throw new Error("BackoffStrategy.reset_() unimplemented.")},e.exports=i},function(e,t,n){var r=n(36),i=n(564);function o(e){r.EventEmitter.call(this),this.backoffStrategy_=e,this.maxNumberOfRetry_=-1,this.backoffNumber_=0,this.backoffDelay_=0,this.timeoutID_=-1,this.handlers={backoff:this.onBackoff_.bind(this)}}n(50).inherits(o,r.EventEmitter),o.prototype.failAfter=function(e){i.checkArgument(e>0,"Expected a maximum number of retry greater than 0 but got %s.",e),this.maxNumberOfRetry_=e},o.prototype.backoff=function(e){i.checkState(-1===this.timeoutID_,"Backoff in progress."),this.backoffNumber_===this.maxNumberOfRetry_?(this.emit("fail",e),this.reset()):(this.backoffDelay_=this.backoffStrategy_.next(),this.timeoutID_=setTimeout(this.handlers.backoff,this.backoffDelay_),this.emit("backoff",this.backoffNumber_,this.backoffDelay_,e))},o.prototype.onBackoff_=function(){this.timeoutID_=-1,this.emit("ready",this.backoffNumber_,this.backoffDelay_),this.backoffNumber_++},o.prototype.reset=function(){this.backoffNumber_=0,this.backoffStrategy_.reset(),clearTimeout(this.timeoutID_),this.timeoutID_=-1},e.exports=o},function(e,t,n){var r=n(678),i=n(937),o=n(676),a=n(936);e.exports.Backoff=r,e.exports.FunctionCall=a,e.exports.FibonacciStrategy=o,e.exports.ExponentialStrategy=i,e.exports.fibonacci=function(e){return new r(new o(e))},e.exports.exponential=function(e){return new r(new i(e))},e.exports.call=function(e,t,n){var r=Array.prototype.slice.call(arguments);return e=r[0],t=r.slice(1,r.length-1),n=r[r.length-1],new a(e,t,n)}},function(e,t,n){"use strict";var r=n(681),i=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return Object.defineProperties(r,{bytesReceived:{value:"number"==typeof n.bytesReceived?n.bytesReceived:null,enumerable:!0},packetsReceived:{value:"number"==typeof n.packetsReceived?n.packetsReceived:null,enumerable:!0}}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r),t}();e.exports=i},function(e,t,n){"use strict";e.exports=function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"string"!=typeof t)throw new Error("Track id must be a string");Object.defineProperties(this,{trackId:{value:t,enumerable:!0},trackSid:{value:n.trackSid,enumerable:!0},timestamp:{value:n.timestamp,enumerable:!0},ssrc:{value:n.ssrc,enumerable:!0},packetsLost:{value:"number"==typeof n.packetsLost?n.packetsLost:null,enumerable:!0},codec:{value:"string"==typeof n.codecName?n.codecName:null,enumerable:!0}})}},function(e,t,n){"use strict";var r=n(681),i=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return Object.defineProperties(i,{bytesSent:{value:"number"==typeof n.bytesSent?n.bytesSent:r?0:null,enumerable:!0},packetsSent:{value:"number"==typeof n.packetsSent?n.packetsSent:r?0:null,enumerable:!0},roundTripTime:{value:"number"==typeof n.roundTripTime?n.roundTripTime:r?0:null,enumerable:!0}}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r),t}();e.exports=i},function(e,t,n){"use strict";var r=n(947),i=n(946),o=n(945),a=n(944);e.exports=function e(t,n,s){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"string"!=typeof t)throw new Error("RTCPeerConnection id must be a string");Object.defineProperties(this,{peerConnectionId:{value:t,enumerable:!0},localAudioTrackStats:{value:n.localAudioTrackStats.map(function(e){return new r(e.trackId,e,s)}),enumerable:!0},localVideoTrackStats:{value:n.localVideoTrackStats.map(function(e){return new i(e.trackId,e,s)}),enumerable:!0},remoteAudioTrackStats:{value:n.remoteAudioTrackStats.map(function(e){return new o(e.trackId,e)}),enumerable:!0},remoteVideoTrackStats:{value:n.remoteVideoTrackStats.map(function(e){return new a(e.trackId,e)}),enumerable:!0}})}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0};var a=n(102),s=a.typeErrors,u=a.trackPriority,c=n(87).guessBrowser,l=n(695);e.exports=function(e){return function(t){function n(e,t,i,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),a=Object.assign({workaroundWebKitBug212780:"safari"===c()&&"object"===("undefined"==typeof document?"undefined":r(document))&&"function"==typeof document.addEventListener&&"string"==typeof document.visibilityState},a);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,a));return Object.defineProperties(s,{_isEnabled:{value:i,writable:!0},_isSwitchedOff:{value:!1,writable:!0},_priority:{value:null,writable:!0},_setPriority:{value:o},isEnabled:{enumerable:!0,get:function(){return this._isEnabled}},isSwitchedOff:{enumerable:!0,get:function(){return this._isSwitchedOff}},priority:{enumerable:!0,get:function(){return this._priority}},sid:{enumerable:!0,value:e},_workaroundWebKitBug212780:{value:a.workaroundWebKitBug212780},_workaroundWebKitBug212780Cleanup:{value:null,writable:!0}}),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),i(n,[{key:"setPriority",value:function(e){var t=[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Object.values(u)));if(!t.includes(e))throw s.INVALID_VALUE("priority",t);return this._priority!==e&&(this._priority=e,this._setPriority(e)),this}},{key:"_setEnabled",value:function(e){this._isEnabled!==e&&(this._isEnabled=e,this.emit(this._isEnabled?"enabled":"disabled",this))}},{key:"_setSwitchedOff",value:function(e){this._isSwitchedOff!==e&&(this._isSwitchedOff=e,this.emit(e?"switchedOff":"switchedOn",this))}},{key:"attach",value:function(e){var t=o(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"attach",this).call(this,e);return!0!==this.mediaStreamTrack.enabled&&(this.mediaStreamTrack.enabled=!0),this._workaroundWebKitBug212780&&(this._workaroundWebKitBug212780Cleanup=this._workaroundWebKitBug212780Cleanup||function(e){var t=e._log,n=e.kind;function r(){e._attachments.forEach(function(r){var i=e._elShims.get(r),o=r.paused&&i&&!i.pausedIntentionally();o&&(t.info("Playing inadvertently paused <"+n+"> element"),t.debug("Element:",r),t.debug("RemoteMediaTrack:",e),r.play().then(function(){t.info("Successfully played inadvertently paused <"+n+"> element"),t.debug("Element:",r),t.debug("RemoteMediaTrack:",e)}).catch(function(i){t.warn("Error while playing inadvertently paused <"+n+"> element:",i,r,e)}))})}return l.onVisible(2,r),function(){l.offVisible(2,r)}}(this)),t}},{key:"detach",value:function(e){var t=o(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"detach",this).call(this,e);return 0===this._attachments.size&&(this.mediaStreamTrack.enabled=!1,this._workaroundWebKitBug212780Cleanup&&(this._workaroundWebKitBug212780Cleanup(),this._workaroundWebKitBug212780Cleanup=null)),t}}]),n}()}},function(e,t,n){"use strict";var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(511),a=n(956),s=n(955),u=n(954),c=n(953),l=n(952),f=n(951),p=n(49),d=0,h=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),i=function(e){var t=e.map(function(e){return[e.id,e]}),n=t.filter(function(e){return"audio"===e[1].kind}),r=t.filter(function(e){return"video"===e[1].kind}),i=t.filter(function(e){return"data"===e[1].kind});return{audioTracks:n,dataTracks:i,tracks:t,videoTracks:r}}((n=Object.assign({RemoteAudioTrack:a,RemoteAudioTrackPublication:s,RemoteDataTrack:u,RemoteDataTrackPublication:c,RemoteVideoTrack:l,RemoteVideoTrackPublication:f,tracks:[]},n)).tracks),o=n.log.createLog("default",r),p=new Map(i.audioTracks),h=new Map(i.dataTracks),y=new Map(i.tracks),g=new Map(i.videoTracks);return Object.defineProperties(r,{_RemoteAudioTrack:{value:n.RemoteAudioTrack},_RemoteAudioTrackPublication:{value:n.RemoteAudioTrackPublication},_RemoteDataTrack:{value:n.RemoteDataTrack},_RemoteDataTrackPublication:{value:n.RemoteDataTrackPublication},_RemoteVideoTrack:{value:n.RemoteVideoTrack},_RemoteVideoTrackPublication:{value:n.RemoteVideoTrackPublication},_audioTracks:{value:p},_dataTracks:{value:h},_instanceId:{value:++d},_log:{value:o},_signaling:{value:e},_tracks:{value:y},_trackEventReemitters:{value:new Map},_trackPublicationEventReemitters:{value:new Map},_trackSignalingUpdatedEventCallbacks:{value:new Map},_videoTracks:{value:g},audioTracks:{enumerable:!0,value:new Map},dataTracks:{enumerable:!0,value:new Map},identity:{enumerable:!0,get:function(){return e.identity}},networkQualityLevel:{enumerable:!0,get:function(){return e.networkQualityLevel}},networkQualityStats:{enumerable:!0,get:function(){return e.networkQualityStats}},sid:{enumerable:!0,get:function(){return e.sid}},state:{enumerable:!0,get:function(){return e.state}},tracks:{enumerable:!0,value:new Map},videoTracks:{enumerable:!0,value:new Map}}),r._tracks.forEach(v.bind(null,r)),e.on("networkQualityLevelChanged",function(){return r.emit("networkQualityLevelChanged",r.networkQualityLevel,r.networkQualityStats&&(r.networkQualityStats.audio||r.networkQualityStats.video)?r.networkQualityStats:null)}),function(e,t){var n=e._log;if("disconnected"===e.state)return;t.on("stateChanged",function r(i){n.debug("Transitioned to state:",i),e.emit(i,e),"disconnected"===i&&(n.debug("Removing Track event reemitters"),t.removeListener("stateChanged",r),t.tracks.forEach(function(t){var n=e._tracks.get(t.id),r=e._trackEventReemitters.get(t.id);n&&r&&r.forEach(function(e,t){n.removeListener(t,e)})}),e._trackEventReemitters.clear(),e.tracks.forEach(function(t){e._trackPublicationEventReemitters.get(t.trackSid).forEach(function(e,n){t.removeListener(n,e)})}),e._trackPublicationEventReemitters.clear())})}(r,e),o.info("Created a new Participant"+(r.identity?": "+r.identity:"")),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),i(t,[{key:"_getTrackEvents",value:function(){return[["dimensionsChanged","trackDimensionsChanged"],["message","trackMessage"],["started","trackStarted"]]}},{key:"_getTrackPublicationEvents",value:function(){return[]}},{key:"toString",value:function(){return"[Participant #"+this._instanceId+": "+this.sid+"]"}},{key:"_addTrack",value:function(e,t){var n=this._log;return this._tracks.has(t)?null:(this._tracks.set(t,e),{audio:this._audioTracks,video:this._videoTracks,data:this._dataTracks}[e.kind].set(t,e),v(this,e,t),n.info("Added a new "+p.trackClass(e)+":",t),n.debug(p.trackClass(e)+":",e),e)}},{key:"_addTrackPublication",value:function(e){var t=this._log;return this.tracks.has(e.trackSid)?null:(this.tracks.set(e.trackSid,e),{audio:this.audioTracks,data:this.dataTracks,video:this.videoTracks}[e.kind].set(e.trackSid,e),function(e,t){var n=new Map;if("disconnected"===e.state)return;e._getTrackPublicationEvents().forEach(function(i){var o=r(i,2),a=o[0],s=o[1];n.set(a,function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];e.emit.apply(e,[s].concat(r,[t]))}),t.on(a,n.get(a))}),e._trackPublicationEventReemitters.set(t.trackSid,n)}(this,e),t.info("Added a new "+p.trackPublicationClass(e)+":",e.trackSid),t.debug(p.trackPublicationClass(e)+":",e),e)}},{key:"_handleTrackSignalingEvents",value:function(){var e=this._log,t=this;if("disconnected"!==this.state){var n=this._RemoteAudioTrack,i=this._RemoteAudioTrackPublication,o=this._RemoteVideoTrack,a=this._RemoteVideoTrackPublication,s=this._RemoteDataTrack,u=this._RemoteDataTrackPublication,c=this._signaling;c.on("trackAdded",l),c.on("trackRemoved",f),c.tracks.forEach(l),c.on("stateChanged",function n(r){"disconnected"===r?(e.debug("Removing event listeners"),c.removeListener("stateChanged",n),c.removeListener("trackAdded",l),c.removeListener("trackRemoved",f)):"connected"===r&&(e.info("reconnected"),setTimeout(function(){return t.emit("reconnected")},0))})}function l(n){var o=new(0,{audio:i,data:u,video:a}[n.kind])(n,{log:e});t._addTrackPublication(o);var s=n.isSubscribed;s&&p(n),t._trackSignalingUpdatedEventCallbacks.set(n.sid,function(){if(s!==n.isSubscribed){if(s=n.isSubscribed)return void p(n);!function(e){var n=Array.from(t._tracks.entries()).find(function(t){var n=r(t,2),i=n[1];return i.sid===e.sid}),i=r(n,2),o=i[0],a=i[1],s=t.tracks.get(e.sid);a&&t._removeTrack(a,s,o)}(n)}}),n.on("updated",t._trackSignalingUpdatedEventCallbacks.get(n.sid))}function f(e){e.isSubscribed&&e.setTrackTransceiver(null);var n=t._trackSignalingUpdatedEventCallbacks.get(e.sid);n&&(e.removeListener("updated",n),t._trackSignalingUpdatedEventCallbacks.delete(e.sid));var r=t.tracks.get(e.sid);r&&t._removeTrackPublication(r)}function p(r){var i=r.isEnabled,a=r.name,u=r.kind,l=r.sid,f=r.trackTransceiver,p={audio:n,video:o,data:s}[u],d=t.tracks.get(l);if(p&&u===f.kind){var h={log:e,name:a},v="data"===u?new p(l,f,h):new p(l,f,i,function(e){return c.updateSubscriberTrackPriority(l,e)},h);t._addTrack(v,d,f.id)}}}},{key:"_removeTrack",value:function(e,t){if(!this._tracks.has(t))return null;this._tracks.delete(t),{audio:this._audioTracks,video:this._videoTracks,data:this._dataTracks}[e.kind].delete(t),(this._trackEventReemitters.get(t)||new Map).forEach(function(t,n){e.removeListener(n,t)});var n=this._log;return n.info("Removed a "+p.trackClass(e)+":",t),n.debug(p.trackClass(e)+":",e),e}},{key:"_removeTrackPublication",value:function(e){if(!(e=this.tracks.get(e.trackSid)))return null;this.tracks.delete(e.trackSid),{audio:this.audioTracks,data:this.dataTracks,video:this.videoTracks}[e.kind].delete(e.trackSid),(this._trackPublicationEventReemitters.get(e.trackSid)||new Map).forEach(function(t,n){e.removeListener(n,t)});var t=this._log;return t.info("Removed a "+p.trackPublicationClass(e)+":",e.trackSid),t.debug(p.trackPublicationClass(e)+":",e),e}},{key:"toJSON",value:function(){return p.valueToJSON(this)}}]),t}();function v(e,t,n){var r=new Map;"disconnected"!==e.state&&(e._getTrackEvents().forEach(function(n){var i=n[0],o=n[1];r.set(i,function(){var t=[o].concat([].slice.call(arguments));return e.emit.apply(e,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))}),t.on(i,r.get(i))}),e._trackEventReemitters.set(n,r))}e.exports=h},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(511),o=n(49),a=o.buildLogLevels,s=o.valueToJSON,u=n(102).DEFAULT_LOG_LEVEL,c=n(357),l=0,f=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));r=Object.assign({logLevel:u},r);var o=a(r.logLevel);return Object.defineProperties(i,{_instanceId:{value:l++},_log:{value:r.log||new c("default",i,o)},trackName:{enumerable:!0,value:e},trackSid:{enumerable:!0,value:n}}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"toJSON",value:function(){return s(this)}},{key:"toString",value:function(){return"[TrackPublication #"+this._instanceId+": "+this.trackSid+"]"}}]),t}();e.exports=f},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(49).isNonArrayObject,o=n(102),a=o.typeErrors,s=o.subscriptionMode,u=o.trackPriority,c=o.trackSwitchOffMode;function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return void 0===e?null:null!==e&&i(e)?n.reduce(function(n,i){var o=i.prop,s=i.type,u=i.values;if(n||!(o in e))return n;var c=e[o];return s&&(void 0===c?"undefined":r(c))!==s?a.INVALID_TYPE(t+"."+o,s):"number"===s&&isNaN(c)?a.INVALID_TYPE(t+"."+o,s):Array.isArray(u)&&!u.includes(c)?a.INVALID_VALUE(t+"."+o,u):n},null):a.INVALID_TYPE(t,"object")}t.validateBandwidthProfile=function(e){var t=l(e,"options.bandwidthProfile");return!e||t?t:(t=l(e.video,"options.bandwidthProfile.video",[{prop:"dominantSpeakerPriority",values:Object.values(u)},{prop:"maxSubscriptionBitrate",type:"number"},{prop:"maxTracks",type:"number"},{prop:"mode",values:Object.values(s)},{prop:"trackSwitchOffMode",values:Object.values(c)}]))||(e.video?function(e){var t="options.bandwidthProfile.video.renderDimensions",n=l(e,t);return e?n||Object.values(u).reduce(function(n,r){return n||l(e[r],t+"."+r,[{prop:"height",type:"number"},{prop:"width",type:"number"}])},null):n}(e.video.renderDimensions):null)},t.validateLocalTrack=function(e,t){if(!(e instanceof t.LocalAudioTrack||e instanceof t.LocalDataTrack||e instanceof t.LocalVideoTrack||e instanceof t.MediaStreamTrack))throw a.INVALID_TYPE("track","LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack")},t.validateObject=l},function(e){e.exports={_args:[["twilio-video@2.7.3","/liminex/extensions/monitor"]],_from:"twilio-video@2.7.3",_id:"twilio-video@2.7.3",_inBundle:!1,_integrity:"sha512-EsioqFZ5rB0hVCrBuiSl3ZtuDf2kBD9Uwod8OeKDqnKWhAyEgopKWcgs742/GGOon+BNxmNKg73cBKGb8+DxmQ==",_location:"/twilio-video",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"twilio-video@2.7.3",name:"twilio-video",escapedName:"twilio-video",rawSpec:"2.7.3",saveSpec:null,fetchSpec:"2.7.3"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/twilio-video/-/twilio-video-2.7.3.tgz",_spec:"2.7.3",_where:"/liminex/extensions/monitor",author:{name:"Mark Andrus Roberts",email:"mroberts@twilio.com"},browser:{ws:"./src/ws.js",xmlhttprequest:"./src/xmlhttprequest.js"},bugs:{url:"https://github.com/twilio/twilio-video.js/issues"},contributors:[{name:"Ryan Rowland",email:"rrowland@twilio.com"},{name:"Manjesh Malavalli",email:"mmalavalli@twilio.com"},{name:"Makarand Patwardhan",email:"mpatwardhan@twilio.com"}],dependencies:{"@twilio/webrtc":"4.3.2",backoff:"^2.5.0",ws:"^3.3.1",xmlhttprequest:"^1.8.0"},description:"Twilio Video JavaScript Library",devDependencies:{"@types/express":"^4.11.0","@types/node":"^8.5.1","@types/selenium-webdriver":"^3.0.8","@types/ws":"^3.2.1","babel-cli":"^6.26.0","babel-preset-es2015":"^6.24.1",browserify:"^14.3.0",cheerio:"^0.22.0",cors:"^2.8.5",electron:"^9.1.0",envify:"^4.0.0",eslint:"^6.2.1","eslint-config-standard":"^14.0.0","eslint-plugin-import":"^2.18.2","eslint-plugin-node":"^9.1.0","eslint-plugin-promise":"^4.2.1","eslint-plugin-standard":"^4.0.1",express:"^4.16.2","ink-docstrap":"^1.3.2",inquirer:"^7.0.0","is-docker":"^2.0.0",istanbul:"^0.4.5",jsdoc:"^3.5.5","json-loader":"^0.5.7",karma:"^5.0.2","karma-browserify":"^7.0.0","karma-chrome-launcher":"^2.0.0","karma-edgium-launcher":"^4.0.0-0","karma-electron":"^6.1.0","karma-firefox-launcher":"^1.3.0","karma-htmlfile-reporter":"^0.3.8","karma-junit-reporter":"^1.2.0","karma-mocha":"^1.3.0","karma-safari-launcher":"^1.0.0","karma-spec-reporter":"0.0.32",mocha:"^3.2.0","npm-run-all":"^4.0.2",requirejs:"^2.3.3",rimraf:"^2.6.1","simple-git":"^1.126.0",sinon:"^4.0.1","ts-node":"4.0.1",tslint:"5.8.0",twilio:"^3.49.0","twilio-release-tool":"^1.0.0",typescript:"2.6.2","uglify-js":"^2.8.22","vinyl-fs":"^2.4.4","vinyl-source-stream":"^1.1.0",watchify:"^3.11.1","webrtc-adapter":"^4.1.1"},engines:{node:">=0.12"},homepage:"https://twilio.com",keywords:["twilio","webrtc","library","javascript","video","rooms"],license:"BSD-3-Clause",main:"./es5/index.js",name:"twilio-video",repository:{type:"git",url:"git+https://github.com/twilio/twilio-video.js.git"},scripts:{build:"npm-run-all clean lint docs cover test:integration build:es5 build:js build:min.js test:umd","build:es5":"rimraf ./es5 && babel lib -d es5","build:js":"node ./scripts/build.js ./src/twilio-video.js ./LICENSE.md ./dist/twilio-video.js","build:min.js":'uglifyjs ./dist/twilio-video.js -o ./dist/twilio-video.min.js --comments "/^! twilio-video.js/" -b beautify=false,ascii_only=true',"build:quick":"npm-run-all clean lint docs build:es5 build:js build:min.js",clean:"rimraf ./coverage ./es5 ./dist",cover:"istanbul cover node_modules/mocha/bin/_mocha -- ./test/unit/index.js",docs:"node ./scripts/docs.js ./dist/docs",lint:"eslint ./lib ./test/*.js ./docker/**/*.js ./test/framework/*.js ./test/lib/*.js ./test/integration/** ./test/unit/**",test:"npm-run-all test:unit test:integration","test:crossbrowser":"npm-run-all test:crossbrowser:*","test:crossbrowser:build":"npm-run-all test:crossbrowser:build:*","test:crossbrowser:build:browser":"cd ./test/crossbrowser && browserify lib/crossbrowser/src/browser/index.js > src/browser/index.js","test:crossbrowser:build:clean":"rimraf ./test/crossbrowser/lib ./test/crossbrowser/src/browser/index.js","test:crossbrowser:build:lint":"cd ./test/crossbrowser && tslint --project tsconfig.json","test:crossbrowser:build:tsc":"cd ./test/crossbrowser && tsc","test:crossbrowser:test":"cd ./test/crossbrowser && mocha --compilers ts:ts-node/register test/integration/spec/**/*.ts","test:framework":"npm-run-all test:framework:install test:framework:angular test:framework:no-framework test:framework:react","test:framework:angular":"npm-run-all test:framework:angular:*","test:framework:angular:install":"cd ./test/framework/twilio-video-angular && rimraf ./node_modules package-lock.json && npm install","test:framework:angular:run":"mocha ./test/framework/twilio-video-angular.js","test:framework:install":"npm install chromedriver && npm install selenium-webdriver && npm install geckodriver && npm install puppeteer","test:framework:no-framework":"npm-run-all test:framework:no-framework:*","test:framework:no-framework:run":"mocha ./test/framework/twilio-video-no-framework.js","test:framework:react":"npm-run-all test:framework:react:*","test:framework:react:build":"cd ./test/framework/twilio-video-react && npm run build","test:framework:react:install":"cd ./test/framework/twilio-video-react && rimraf ./node_modules package-lock.json && npm install","test:framework:react:run":"mocha ./test/framework/twilio-video-react.js","test:framework:react:test":"node ./scripts/framework.js twilio-video-react","test:integration":"node ./scripts/karma.js karma/integration.conf.js","test:integration:adapter":"node ./scripts/karma.js karma/integration.adapter.conf.js","test:sdkdriver":"npm-run-all test:sdkdriver:*","test:sdkdriver:build":"npm-run-all test:sdkdriver:build:*","test:sdkdriver:build:clean":"rimraf ./test/lib/sdkdriver/lib ./test/lib/sdkdriver/test/integration/browser/index.js","test:sdkdriver:build:lint":"cd ./test/lib/sdkdriver && tslint --project tsconfig.json","test:sdkdriver:build:tsc":"cd ./test/lib/sdkdriver && tsc --rootDir src","test:sdkdriver:test":"npm-run-all test:sdkdriver:test:*","test:sdkdriver:test:integration":"npm-run-all test:sdkdriver:test:integration:*","test:sdkdriver:test:integration:browser":"cd ./test/lib/sdkdriver/test/integration && browserify browser/browser.js > browser/index.js","test:sdkdriver:test:integration:run":"cd ./test/lib/sdkdriver && mocha --compilers ts:ts-node/register test/integration/spec/**/*.ts","test:sdkdriver:test:unit":"cd ./test/lib/sdkdriver && mocha --compilers ts:ts-node/register test/unit/spec/**/*.ts","test:umd":"mocha ./test/umd/index.js","test:unit":"mocha ./test/unit/index.js"},title:"Twilio Video",version:"2.7.3"}},function(e,t,n){"use strict";var r=n(691),i=function(e){function t(e,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,"data"));return Object.defineProperties(o,{maxPacketLifeTime:{enumerable:!0,value:n},maxRetransmits:{enumerable:!0,value:r},ordered:{enumerable:!0,value:i}}),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r),t}();e.exports=i},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0};function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var a=n(704),s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return Object.defineProperties(r,{dimensions:{enumerable:!0,value:{width:null,height:null}}}),o(r,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),r(t,[{key:"_initialize",value:function(){var e=this;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initialize",this).call(this),this._dummyEl&&(this._dummyEl.onloadedmetadata=function(){u(e,e._dummyEl)&&(e.dimensions.width=e._dummyEl.videoWidth,e.dimensions.height=e._dummyEl.videoHeight)},this._dummyEl.onresize=function(){u(e,e._dummyEl)&&(e.dimensions.width=e._dummyEl.videoWidth,e.dimensions.height=e._dummyEl.videoHeight,e.isStarted&&(e._log.debug("Dimensions changed:",e.dimensions),e.emit(t.DIMENSIONS_CHANGED,e)))})}},{key:"_start",value:function(e){return this.dimensions.width=e.videoWidth,this.dimensions.height=e.videoHeight,this._log.debug("Dimensions:",this.dimensions),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_start",this).call(this,e)}},{key:"attach",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).apply(this,arguments)}},{key:"detach",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"detach",this).apply(this,arguments)}}]),t}();function u(e,t){return e.dimensions.width!==t.videoWidth||e.dimensions.height!==t.videoHeight}s.DIMENSIONS_CHANGED="dimensionsChanged",e.exports=s},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(36).EventEmitter,o=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperties(r,{id:{enumerable:!0,value:e},kind:{enumerable:!0,value:n}}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"stop",value:function(){this.emit("stopped")}}]),t}();e.exports=o},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(691),o=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n.kind));return Object.defineProperties(r,{_track:{value:n,writable:!0},enabled:{enumerable:!0,get:function(){return this._track.enabled}},readyState:{enumerable:!0,get:function(){return this._track.readyState}},track:{enumerable:!0,get:function(){return this._track}}}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"stop",value:function(){this.track.stop(),function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"stop",this).call(this)}}]),t}();e.exports=o},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(692),o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.id,e));return Object.defineProperties(n,{_clones:{value:new Set},_senders:{value:new Set}}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"clone",value:function(){var e=new t(this.track.clone());return this._clones.add(e),e}},{key:"removeClone",value:function(e){this._clones.delete(e)}},{key:"setMediaStreamTrack",value:function(e){var t=this,n=Array.from(this._clones),r=Array.from(this._senders);return Promise.all(n.map(function(t){return t.setMediaStreamTrack(e.clone())}).concat(r.map(function(t){return t.replaceTrack(e)}))).finally(function(){t._track=e})}},{key:"addSender",value:function(e){return this._senders.add(e),this}},{key:"removeSender",value:function(e){return this._senders.delete(e),this}}]),t}();e.exports=o},function(e,t,n){"use strict";var r=n(697);e.exports=function(e,t,i,o,a){o="number"==typeof o?o:3;var s=0,u=n(569),c={},l=u.getOrCreate(c);return function n(){return t(i).then(function(t){return(i.audio?r(l,t,a).catch(function(t){return e.warn("Encountered an error while detecting silence",t),!0}):Promise.resolve(!1)).then(function(r){return r?o<=0?(e.warn("Got a silent audio MediaStreamTrack. Normally we would try to get a new one, but we've run out of retries; returning it anyway."),t):(e.warn("Got a silent audio MediaStreamTrack. Stopping all MediaStreamTracks and calling getUserMedia again. This is retry #"+ ++s+"."),t.getTracks().forEach(function(e){return e.stop()}),o--,n()):(e.info("Got a non-silent audio MediaStreamTrack; returning it."),t)})})}().then(function(e){return u.release(c),e},function(e){throw u.release(c),e})}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{_listeners:{value:[]},_onVisibilityChange:{value:function(){"visible"===document.visibilityState&&t._emitVisible()}}});for(var r=0;r<n;r++)this._listeners.push([])}return r(e,[{key:"_listenerCount",value:function(){return this._listeners.reduce(function(e,t){return e+t.length},0)}},{key:"_emitVisible",value:function(){for(var e=this,t=Promise.resolve(),n=function(n){t=t.then(function(){return e._emitVisiblePhase(n)})},r=1;r<=this._listeners.length;r++)n(r);return t}},{key:"_emitVisiblePhase",value:function(e){var t=this._listeners[e-1];return Promise.all(t.map(function(e){var t=e();return t instanceof Promise?t:Promise.resolve(t)}))}},{key:"_start",value:function(){document.addEventListener("visibilitychange",this._onVisibilityChange)}},{key:"_stop",value:function(){document.removeEventListener("visibilitychange",this._onVisibilityChange)}},{key:"onVisible",value:function(e,t){if("number"!=typeof e||e<=0||e>this._listeners.length)throw new Error("invalid phase: ",e);return this._listeners[e-1].push(t),1===this._listenerCount()&&this._start(),this}},{key:"offVisible",value:function(e,t){if("number"!=typeof e||e<=0||e>this._listeners.length)throw new Error("invalid phase: ",e);var n=this._listeners[e-1],r=n.indexOf(t);return-1!==r&&(n.splice(r,1),0===this._listenerCount()&&this._stop()),this}}]),e}();e.exports=new i(2)},function(e,t,n){"use strict";var r=null,i=3,o=50,a=250,s=50;e.exports=function(e){return r=r||document.createElement("canvas"),new Promise(function(t){var n=i;setTimeout(function i(){return n--,function(e){var t=r.getContext("2d");t.drawImage(e,0,0,s,o);var n=t.getImageData(0,0,s,o).data.filter(function(e,t){return(t+1)%4});return 0===Math.max.apply(Math,n)}(e)?n>0?setTimeout(i,a):t(!0):t(!1)},a)})}},function(e,t,n){"use strict";e.exports=function(e,t,n){n="number"==typeof n?n:250;var r=e.createMediaStreamSource(t),i=e.createAnalyser();i.fftSize=2048,r.connect(i);var o=new Uint8Array(i.fftSize),a=!1;return setTimeout(function(){a=!0},n),function e(){return a?Promise.resolve(!0):(i.getByteTimeDomainData(o),o.some(function(e){return 128!==e&&0!==e})?Promise.resolve(!1):(t="number"==typeof t?t:0,new Promise(function(e){return setTimeout(e,t)})).then(e));var t}().then(function(e){return r.disconnect(),e},function(e){throw r.disconnect(),e})}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0};var a=n(318).getUserMedia,s=n(87).guessBrowser,u=n(49),c=u.capitalize,l=u.defer,f=u.waitForSometime,p=u.waitForEvent,d=n(102).typeErrors.ILLEGAL_INVOKE,h=n(969),v=n(696),y=n(695),g=n(699),m=n(694),_=n(693);function b(e){var t=e._log,n=e.kind,r={audio:h,video:v}[n],i=e._dummyEl,o=e.mediaStreamTrack,a=null;function s(){var n=e._workaroundWebKitBug1208516Cleanup,o=e.isStopped,s=e.mediaStreamTrack.muted,u=o&&!!n;return Promise.resolve().then(function(){return"visible"===document.visibilityState&&!a&&(s||u||i.play().then(function(){return r(i)}).then(function(e){return e?t.warn("Silence detected"):t.info("Non-silence detected"),e}).catch(function(e){t.warn("Failed to detect silence:",e)}).finally(function(){i.pause()}))})}function u(){return Promise.race([p(o,"unmute"),f(50)]).then(function(){return s()}).then(function(t){return t&&!a&&(a=l(),e._stop(),e._restart().finally(function(){i=e._dummyEl,m(),o=e.mediaStreamTrack,d(),a.resolve(),a=null})),(a&&a.promise||Promise.resolve()).finally(function(){return g.resolveDeferred(n)})})}function c(){var t=e._log,n=e.kind;t.info("Muted"),t.debug("LocalMediaTrack:",e),g.startDeferred(n)}function d(){o.addEventListener("ended",u),o.addEventListener("mute",c),o.addEventListener("unmute",u)}function m(){o.removeEventListener("ended",u),o.removeEventListener("mute",c),o.removeEventListener("unmute",u)}return y.onVisible(1,u),d(),function(){y.offVisible(1,u),m()}}e.exports=function(e){return function(t){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var i="safari"===s()&&"object"===("undefined"==typeof document?"undefined":r(document))&&"function"==typeof document.addEventListener&&"string"==typeof document.visibilityState;t=Object.assign({getUserMedia:a,isCreatedByCreateLocalTracks:!1,workaroundWebKitBug1208516:i,gUMSilentTrackWorkaround:m},t);var o=new _(e),u=o.kind,c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,o,t));return Object.defineProperties(c,{_constraints:{value:"object"===r(t[u])?t[u]:{},writable:!0},_getUserMedia:{value:t.getUserMedia},_gUMSilentTrackWorkaround:{value:t.gUMSilentTrackWorkaround},_workaroundWebKitBug1208516:{value:t.workaroundWebKitBug1208516},_workaroundWebKitBug1208516Cleanup:{value:null,writable:!0},_didCallEnd:{value:!1,writable:!0},_isCreatedByCreateLocalTracks:{value:t.isCreatedByCreateLocalTracks},_trackSender:{value:o},id:{enumerable:!0,value:o.id},isEnabled:{enumerable:!0,get:function(){return o.enabled}},isStopped:{enumerable:!0,get:function(){return"ended"===o.readyState}}}),c._workaroundWebKitBug1208516&&(c._workaroundWebKitBug1208516Cleanup=b(c)),c}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),i(n,[{key:"_end",value:function(){this._didCallEnd||(o(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_end",this).call(this),this._didCallEnd=!0,this.emit("stopped",this))}},{key:"_initialize",value:function(){this._didCallEnd&&(this._didCallEnd=!1),o(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_initialize",this).call(this)}},{key:"_reacquireTrack",value:function(e){var t=this._getUserMedia,n=this._gUMSilentTrackWorkaround,r=this._log,i=this.mediaStreamTrack.kind;r.info("Re-acquiring the MediaStreamTrack"),r.debug("Constraints:",e);var o,a,s,u=Object.assign({audio:!1,video:!1},(s=e,(a=i)in(o={})?Object.defineProperty(o,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[a]=s,o));return(this._workaroundWebKitBug1208516Cleanup?n(r,t,u):t(u)).then(function(e){return e.getTracks()[0]})}},{key:"_restart",value:function(e){var t=this,n=this._log;return e=e||this._constraints,this._reacquireTrack(e).catch(function(t){throw n.error("Failed to re-acquire the MediaStreamTrack:",t,e),t}).then(function(r){return n.info("Re-acquired the MediaStreamTrack"),n.debug("MediaStreamTrack:",r),t._constraints=Object.assign({},e),t._setMediaStreamTrack(r)})}},{key:"_setMediaStreamTrack",value:function(e){var t=this;return e.enabled=this.mediaStreamTrack.enabled,this._stop(),this._trackSender.setMediaStreamTrack(e).catch(function(n){t._log.warn("setMediaStreamTrack failed:",n,e)}).then(function(){t._initialize(),t._getAllAttachedElements().forEach(function(e){return t._attach(e)})})}},{key:"_stop",value:function(){return this.mediaStreamTrack.stop(),this._end(),this}},{key:"enable",value:function(e){return(e="boolean"!=typeof e||e)!==this.mediaStreamTrack.enabled&&(this._log.info((e?"En":"Dis")+"abling"),this.mediaStreamTrack.enabled=e,this.emit(e?"enabled":"disabled",this)),this}},{key:"disable",value:function(){return this.enable(!1)}},{key:"restart",value:function(e){var t=this,n=this.kind;if(!this._isCreatedByCreateLocalTracks)return Promise.reject(d("restart","can only be called on a Local"+c(n)+"Track that is created using createLocalTracks or createLocal"+c(n)+"Track."));this._workaroundWebKitBug1208516Cleanup&&(this._workaroundWebKitBug1208516Cleanup(),this._workaroundWebKitBug1208516Cleanup=null);var r=this._restart(e);return this._workaroundWebKitBug1208516&&(r=r.finally(function(){t._workaroundWebKitBug1208516Cleanup=b(t)})),r}},{key:"stop",value:function(){return this._log.info("Stopping"),this._workaroundWebKitBug1208516Cleanup&&(this._workaroundWebKitBug1208516Cleanup(),this._workaroundWebKitBug1208516Cleanup=null),this._stop()}}]),n}()}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(49).defer,o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{_audio:{value:i(),writable:!0},_video:{value:i(),writable:!0}}),this._audio.resolve(),this._video.resolve()}return r(e,[{key:"resolveDeferred",value:function(e){"audio"===e?this._audio.resolve():this._video.resolve()}},{key:"startDeferred",value:function(e){"audio"===e?this._audio=i():this._video=i()}},{key:"whenResolved",value:function(e){return"audio"===e?this._audio.promise:this._video.promise}}]),e}();e.exports=new o},function(e,t,n){"use strict";e.exports=RTCSessionDescription},function(e,t,n){"use strict";var r=n(87).defer,i={high:new Set(["low"]),low:new Set(["high"])};function o(e){if(!(this instanceof o))return new o(e);var t=e||"low";Object.defineProperties(this,{_state:{set:function(e){if(t!==e){t=e;var n=this._whenDeferreds.get(t);n.forEach(function(e){e.resolve(this)},this),n.clear()}},get:function(){return t}},_whenDeferreds:{value:new Map([["high",new Set],["low",new Set]])},state:{enumerable:!0,get:function(){return this._state}}})}function a(e,t){return new Error('Cannot transition from "'+e+'" to "'+t+'"')}o.prototype.lower=function(){return this.transition("low")},o.prototype.raise=function(){return this.transition("high")},o.prototype.transition=function(e){if(!i[this.state].has(e))throw a(this.state,e);return this._state=e,this},o.prototype.when=function(e){if(this.state===e)return Promise.resolve(this);if(!i[this.state].has(e))return Promise.reject(a(this.state,e));var t=r();return this._whenDeferreds.get(e).add(t),t.promise},e.exports=o},function(e,t,n){"use strict";e.exports=function e(t){if(!(this instanceof e))return new e(t);var n=t&&"rollback"===t.type?null:new RTCSessionDescription(t);Object.defineProperties(this,{_description:{get:function(){return n}},sdp:{enumerable:!0,value:n?n.sdp:t.sdp},type:{enumerable:!0,value:n?n.type:t.type}})}},function(e,t,n){"use strict";"function"==typeof MediaStream?e.exports=MediaStream:e.exports=function(){throw new Error("MediaStream is not supported")}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(87).guessBrowser,a=n(318).MediaStream,s=n(49),u=s.waitForEvent,c=s.waitForSometime,l=n(699),f=n(570),p=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=Object.assign({playPausedElementsIfNotBackgrounded:"safari"===o()&&"object"===("undefined"==typeof document?"undefined":r(document))&&"function"==typeof document.addEventListener&&"string"==typeof document.visibilityState},n);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.id,e.kind,n)),s=!1;return n=Object.assign({MediaStream:a},n),Object.defineProperties(i,{_attachments:{value:new Set},_dummyEl:{value:null,writable:!0},_elShims:{value:new WeakMap},_isStarted:{get:function(){return s},set:function(e){s=e}},_playPausedElementsIfNotBackgrounded:{value:n.playPausedElementsIfNotBackgrounded},_shouldShimAttachedElements:{value:n.workaroundWebKitBug212780||n.playPausedElementsIfNotBackgrounded},_MediaStream:{value:n.MediaStream},isStarted:{enumerable:!0,get:function(){return s}},mediaStreamTrack:{enumerable:!0,get:function(){return e.track}}}),i._initialize(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f),i(t,[{key:"_start",value:function(){this._log.debug("Started"),this._isStarted=!0,this._dummyEl&&(this._dummyEl.oncanplay=null),this.emit("started",this)}},{key:"_initialize",value:function(){var e=this;this._log.debug("Initializing"),this._dummyEl=this._createElement(),this.mediaStreamTrack.addEventListener("ended",function t(){e._end(),e.mediaStreamTrack.removeEventListener("ended",t)}),this._dummyEl&&(this._dummyEl.muted=!0,this._dummyEl.oncanplay=this._start.bind(this,this._dummyEl),this._attach(this._dummyEl),this._attachments.delete(this._dummyEl))}},{key:"_end",value:function(){this._log.debug("Ended"),this._dummyEl&&(this._detachElement(this._dummyEl),this._dummyEl.oncanplay=null)}},{key:"attach",value:function(e){var t=this;if("string"==typeof e?e=this._selectElement(e):e||(e=this._createElement()),this._log.debug("Attempting to attach to element:",e),e=this._attach(e),this._shouldShimAttachedElements&&!this._elShims.has(e)){var n=this._playPausedElementsIfNotBackgrounded?function(){return function(e,t){var n=e.tagName.toLowerCase();t.warn("Unintentionally paused:",e),Promise.race([u(document,"visibilitychange"),c(1e3)]).then(function(){"visible"===document.visibilityState&&l.whenResolved("audio").then(function(){return t.info("Playing unintentionally paused <"+n+"> element"),t.debug("Element:",e),e.play()}).then(function(){t.info("Successfully played unintentionally paused <"+n+"> element"),t.debug("Element:",e)}).catch(function(r){t.warn("Error while playing unintentionally paused <"+n+"> element:",r,e)})})}(e,t._log)}:null;this._elShims.set(e,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.pause,r=e.play,i=!1;e.pause=function(){return i=!0,n.call(e)},e.play=function(){return i=!1,r.call(e)};var o=t?function(){i||t()}:null;o&&e.addEventListener("pause",o);return{pausedIntentionally:function(){return i},unShim:function(){e.pause=n,e.play=r,o&&e.removeEventListener("pause",o)}}}(e,n))}return e}},{key:"_attach",value:function(e){var t=e.srcObject;t instanceof this._MediaStream||(t=new this._MediaStream);var n="audio"===this.mediaStreamTrack.kind?"getAudioTracks":"getVideoTracks";return t[n]().forEach(function(e){t.removeTrack(e)}),t.addTrack(this.mediaStreamTrack),e.srcObject=t,e.autoplay=!0,e.playsInline=!0,this._attachments.has(e)||this._attachments.add(e),e}},{key:"_selectElement",value:function(e){var t=document.querySelector(e);if(!t)throw new Error("Selector matched no element: "+e);return t}},{key:"_createElement",value:function(){return"undefined"!=typeof document?document.createElement(this.kind):null}},{key:"detach",value:function(e){var t=void 0;return t="string"==typeof e?[this._selectElement(e)]:e?[e]:this._getAllAttachedElements(),this._log.debug("Attempting to detach from elements:",t),this._detachElements(t),e?t[0]:t}},{key:"_detachElements",value:function(e){return e.map(this._detachElement.bind(this))}},{key:"_detachElement",value:function(e){if(!this._attachments.has(e))return e;var t=e.srcObject;(t instanceof this._MediaStream&&t.removeTrack(this.mediaStreamTrack),this._attachments.delete(e),this._shouldShimAttachedElements&&this._elShims.has(e))&&(this._elShims.get(e).unShim(),this._elShims.delete(e));return e}},{key:"_getAllAttachedElements",value:function(){var e=[];return this._attachments.forEach(function(t){e.push(t)}),e}}]),t}();e.exports=p},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0};var o=n(704),a=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),r(t,[{key:"_start",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_start",this).call(this),this._dummyEl&&this._detachElement(this._dummyEl)}},{key:"attach",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).apply(this,arguments)}},{key:"detach",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"detach",this).apply(this,arguments)}}]),t}();e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(13)),i=o(n(987));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(()=>r.default.createElement("div",{className:i.default.loader},[1,2,3].map(e=>r.default.createElement("div",{className:i.default[`bounce${e}`],key:e})))),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBackgroundText=void 0;var r=n(13),i=c(r),o=c(n(992)),a=c(n(169)),s=c(n(706)),u=n(708);function c(e){return e&&e.__esModule?e:{default:e}}const l=t.getBackgroundText=((e,t)=>{switch(e){case"loading":return["Your teacher is presenting.",`If the presentation does not load within ${u.LOADING_TIMEOUT_SECONDS} seconds, please let your teacher know.`,void 0];case"error":return["Uh oh! Your teacher tried sharing something with you, but something went wrong.","Please try refreshing the page. If that doesn’t work, you might want to send your teacher a message.",void 0];case"ended":return["Your teacher stopped presenting.","You may now close this tab.",void 0];case"transitioning":let n="a moment";return null!==t&&t>0&&(n=`${t} second`,1!==t&&(n+="s")),["Your teacher stopped presenting.",`Another teacher is presenting, you'll be redirected to their presentation in ${n}.`,`Your teacher stopped presenting. Another teacher is presenting, you'll be redirected to their presentation in ${u.TRANSITION_TIMEOUT_SECONDS} seconds.`];default:return["",void 0,void 0]}});t.default=class extends r.Component{constructor(e){super(e),this.countdownInterval=null,this.state={presentationState:"loading",visible:!1,secondsToTransition:null}}componentWillMount(){this.setPresentationState(this.props.presentationState)}componentWillReceiveProps({presentationState:e}){this.state.presentationState!==e&&this.setPresentationState(e)}setPresentationState(e){let t=null;"transitioning"===e?(t=u.TRANSITION_TIMEOUT_SECONDS,this.countdownInterval=window.setInterval(()=>{null!==this.state.secondsToTransition&&this.setState({secondsToTransition:this.state.secondsToTransition-1})},1e3)):null!==this.countdownInterval&&(window.clearInterval(this.countdownInterval),this.countdownInterval=null);const n="presenting"!==e;n?this.setState({presentationState:e,visible:n,secondsToTransition:t}):this.setState({visible:n})}render(){const{presentationState:e,visible:t,secondsToTransition:n}=this.state,[r,u,c]=l(e,n);return i.default.createElement("div",{className:(0,a.default)(o.default.container,t?o.default.visible:void 0),"aria-hidden":!0},i.default.createElement("div",{className:o.default.text},i.default.createElement("div",{className:o.default.title},r),void 0!==u&&i.default.createElement("div",{className:o.default.subtitle},u),"loading"===e&&i.default.createElement("div",{className:o.default.loading},i.default.createElement(s.default,null))),i.default.createElement("div",{className:(0,a.default)(o.default.background,o.default.mountains)}),i.default.createElement("div",{className:(0,a.default)(o.default.background,o.default.stars)}),i.default.createElement("div",{className:(0,a.default)(o.default.background,o.default.gradient)}),i.default.createElement("div",{className:(0,a.default)(o.default.background,o.default.sky)}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Presentation=t.TRANSITION_TIMEOUT_SECONDS=t.LOADING_TIMEOUT_SECONDS=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=p(n(1002)),o=n(106),a=n(13),s=p(a),u=p(n(1e3)),c=p(n(707)),l=p(n(985)),f=p(n(984));function p(e){return e&&e.__esModule?e:{default:e}}const d=t.LOADING_TIMEOUT_SECONDS=20,h=t.TRANSITION_TIMEOUT_SECONDS=10;class v extends a.Component{constructor(e){super(e),this.state={selectedPresentation:null,presentationState:"ended"},this.loadingTimeout=null,this.transitionTimeout=null}componentWillMount(){this.props.presentations.length>0&&this.selectPresentation(this.props.presentations[0])}componentWillUnmount(){window.clearTimeout(this.transitionTimeout),window.clearTimeout(this.loadingTimeout)}componentWillReceiveProps(e){const{selectedPresentation:t}=this.state;if(null===t&&e.presentations.length>0)this.selectPresentation(e.presentations[0]);else if(null!==t){const n=e.presentations.some(e=>e.key===t.key);n!==t.active&&(this.setState({selectedPresentation:r({},t,{active:n,hasAudio:t.hasAudio&&n})}),n?this.transitionPresentationState("loading"):this.transitionPresentationState("ended"))}}componentDidUpdate(){const e=this.isAnotherPresentationActive();e&&"ended"===this.state.presentationState?this.transitionPresentationState("transitioning"):e||"transitioning"!==this.state.presentationState||this.transitionPresentationState("ended")}selectPresentation(e){this.setState({selectedPresentation:r({},e,{active:!0,hasAudio:!1})}),this.transitionPresentationState("loading")}isAnotherPresentationActive(){const{selectedPresentation:e}=this.state,{presentations:t}=this.props;return t.length>1||1===t.length&&null!==e&&!t.find(t=>t.key===e.key)}isLockedToPresentation(){return this.props.presentations.some(e=>e.activeCall.isLocked)}onClickNextPresentation(){const{selectedPresentation:e}=this.state,{presentations:t}=this.props;if(null===e||!this.isAnotherPresentationActive())return;const n=(t.findIndex(t=>t.key===e.key)+1)%t.length;this.transitionPresentationState("ended",()=>this.selectPresentation(t[n]))}onAudioStateChange(e){null!==this.state.selectedPresentation&&this.setState({selectedPresentation:r({},this.state.selectedPresentation,{hasAudio:e})})}transitionPresentationState(e,t){this.state.presentationState!==e&&(window.clearTimeout(this.transitionTimeout),window.clearTimeout(this.loadingTimeout),"loading"===e?this.loadingTimeout=window.setTimeout(()=>this.transitionPresentationState("error"),1e3*d):"transitioning"===e&&(this.transitionTimeout=window.setTimeout(()=>this.onClickNextPresentation(),1e3*h)),this.setState({presentationState:e},()=>{this.setPageState(),t&&t()}))}setPageState(){let e=`${window.location.pathname}?state=${this.state.presentationState}`;null!==this.state.selectedPresentation&&(e+=`&sessionId=${this.state.selectedPresentation.key}`),window.history.replaceState({},"",e)}render(){const{selectedPresentation:e,presentationState:t}=this.state,{accountId:n,subAccountId:r}=this.props;return s.default.createElement("div",{className:i.default.container},s.default.createElement("div",{className:i.default.headerContainer},s.default.createElement(u.default,{presentationState:t,selectedPresentation:e,isAnotherPresentationActive:this.isAnotherPresentationActive(),isLockedToPresentation:this.isLockedToPresentation(),onClickNext:this.onClickNextPresentation.bind(this)})),null!==e&&e.active&&s.default.createElement("div",{className:i.default.videoContainer},void 0!==e.activeCall&&s.default.createElement(f.default,{key:e.activeCall.participantId,activeCall:e.activeCall,onAudioStateChange:this.onAudioStateChange.bind(this),onError:()=>this.transitionPresentationState("error"),onJoin:()=>this.transitionPresentationState("presenting")})),s.default.createElement("div",{className:i.default.backgroundContainer},s.default.createElement(c.default,{presentationState:t})),s.default.createElement(l.default,{presentationState:t,isLockedToPresentation:this.isLockedToPresentation()}))}}t.Presentation=v;t.default=(0,o.connect)(e=>{if(0===Object.keys(e).length)return{ready:!1};const t=[];return[...e.teacher.calls.activeCalls].sort((e,t)=>e.participantId-t.participantId).forEach(n=>{const r=e.teacher.classroomSessions.find(e=>e.id===n.classroomSessionId);void 0!==r&&t.push({key:`call-${n.callId}`,type:"twilio",activeCall:n,classroomSession:r})}),{ready:!0,presentations:t,classroomSessions:e.teacher.classroomSessions,accountId:e.globalSettings.accountId,subAccountId:e.globalSettings.subAccountId}},null)(e=>e.ready?s.default.createElement(v,e):null)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/speaker.98c3ca20.png"},function(e,t,n){(t=e.exports=n(65)(!0)).push([e.i,"._2yk4vLAW3RkPhqnoXV8d5e {\n  flex: 5;\n  min-width: 0;\n  transition: flex 500ms ease-in-out; }\n  ._2yk4vLAW3RkPhqnoXV8d5e._1LGgZOyRjzBLxPt0jUQabB {\n    flex: 1; }\n    ._2yk4vLAW3RkPhqnoXV8d5e._1LGgZOyRjzBLxPt0jUQabB > .vBv1M5W-UEPfDW0qdRq-g > div {\n      align-items: flex-start; }\n      ._2yk4vLAW3RkPhqnoXV8d5e._1LGgZOyRjzBLxPt0jUQabB > .vBv1M5W-UEPfDW0qdRq-g > div > video {\n        height: initial; }\n  ._2yk4vLAW3RkPhqnoXV8d5e._3H_YsTRWw2NjgiTR1-SCnV {\n    flex: 0; }\n\n.vBv1M5W-UEPfDW0qdRq-g {\n  position: relative;\n  width: 100%;\n  height: 100%; }\n  .vBv1M5W-UEPfDW0qdRq-g > div {\n    display: flex;\n    width: 100%;\n    height: 100%;\n    position: relative;\n    background-color: black;\n    overflow: hidden; }\n    .vBv1M5W-UEPfDW0qdRq-g > div > video {\n      width: 100%;\n      height: 100%;\n      position: absolute;\n      object-fit: contain; }\n\n._3-QOvuw105hwB5fQxwhgOn {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  opacity: 0;\n  transition: opacity 500ms ease-in-out; }\n  ._3-QOvuw105hwB5fQxwhgOn._3Azxa9C02AOOrh1nX8hecl {\n    opacity: 1; }\n\n.h3Nj5qine-AciKjYgyaLA {\n  z-index: 5;\n  text-align: center;\n  font-weight: 300; }\n  .h3Nj5qine-AciKjYgyaLA > img {\n    width: 75px;\n    margin-bottom: 20px; }\n  .h3Nj5qine-AciKjYgyaLA > ._1_0qrJLdb_QAtvZ1GHtTWd {\n    font-size: 22px;\n    margin-bottom: 15px; }\n  .h3Nj5qine-AciKjYgyaLA > ._28v5J02Ny4xj418O8HFp_R {\n    font-size: 16px; }\n","",{version:3,sources:["/liminex/extensions/monitor/src/ui/teacher/presentation/scripts/components/TwilioClient/Track.scss"],names:[],mappings:"AAAA;EACE,QAAQ;EACR,aAAa;EACb,mCAAmC,EAAE;EACrC;IACE,QAAQ,EAAE;IACV;MACE,wBAAwB,EAAE;MAC1B;QACE,gBAAgB,EAAE;EACxB;IACE,QAAQ,EAAE;;AAEd;EACE,mBAAmB;EACnB,YAAY;EACZ,aAAa,EAAE;EACf;IACE,cAAc;IACd,YAAY;IACZ,aAAa;IACb,mBAAmB;IACnB,wBAAwB;IACxB,iBAAiB,EAAE;IACnB;MACE,YAAY;MACZ,aAAa;MACb,mBAAmB;MACnB,oBAAoB,EAAE;;AAE5B;EACE,mBAAmB;EACnB,YAAY;EACZ,aAAa;EACb,OAAO;EACP,QAAQ;EACR,cAAc;EACd,uBAAuB;EACvB,oBAAoB;EACpB,wBAAwB;EACxB,aAAa;EACb,WAAW;EACX,sCAAsC,EAAE;EACxC;IACE,WAAW,EAAE;;AAEjB;EACE,WAAW;EACX,mBAAmB;EACnB,iBAAiB,EAAE;EACnB;IACE,YAAY;IACZ,oBAAoB,EAAE;EACxB;IACE,gBAAgB;IAChB,oBAAoB,EAAE;EACxB;IACE,gBAAgB,EAAE",file:"Track.scss",sourcesContent:[".videoStream {\n  flex: 5;\n  min-width: 0;\n  transition: flex 500ms ease-in-out; }\n  .videoStream.small {\n    flex: 1; }\n    .videoStream.small > .mediaElementContainer > div {\n      align-items: flex-start; }\n      .videoStream.small > .mediaElementContainer > div > video {\n        height: initial; }\n  .videoStream.zeroWidth {\n    flex: 0; }\n\n.mediaElementContainer {\n  position: relative;\n  width: 100%;\n  height: 100%; }\n  .mediaElementContainer > div {\n    display: flex;\n    width: 100%;\n    height: 100%;\n    position: relative;\n    background-color: black;\n    overflow: hidden; }\n    .mediaElementContainer > div > video {\n      width: 100%;\n      height: 100%;\n      position: absolute;\n      object-fit: contain; }\n\n.audioIcon {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  opacity: 0;\n  transition: opacity 500ms ease-in-out; }\n  .audioIcon.visible {\n    opacity: 1; }\n\n.audioIconText {\n  z-index: 5;\n  text-align: center;\n  font-weight: 300; }\n  .audioIconText > img {\n    width: 75px;\n    margin-bottom: 20px; }\n  .audioIconText > .title {\n    font-size: 22px;\n    margin-bottom: 15px; }\n  .audioIconText > .subtitle {\n    font-size: 16px; }\n"],sourceRoot:""}]),t.locals={videoStream:"_2yk4vLAW3RkPhqnoXV8d5e",small:"_1LGgZOyRjzBLxPt0jUQabB",mediaElementContainer:"vBv1M5W-UEPfDW0qdRq-g",zeroWidth:"_3H_YsTRWw2NjgiTR1-SCnV",audioIcon:"_3-QOvuw105hwB5fQxwhgOn",visible:"_3Azxa9C02AOOrh1nX8hecl",audioIconText:"h3Nj5qine-AciKjYgyaLA",title:"_1_0qrJLdb_QAtvZ1GHtTWd",subtitle:"_28v5J02Ny4xj418O8HFp_R"}},function(e,t,n){var r=n(880);"string"==typeof r&&(r=[[e.i,r,""]]);var i={attrs:{media:"screen"},hmr:!0,transform:void 0,insertInto:void 0};n(64)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),i=u(r),o=u(n(881)),a=u(n(169)),s=u(n(879));function u(e){return e&&e.__esModule?e:{default:e}}const c=100;t.default=class extends r.Component{constructor(e){super(e),this.state={audioLevel:0},this.audioProcessInterval=null}componentDidMount(){const{track:e}=this.props.track,t=document.createElement("video"===e.kind?"video":"audio");this.refs.mediaElementContainer.appendChild(t),e.attach(t),"audio"===e.kind&&this.processAudio(e.mediaStreamTrack)}processAudio(e){const t=new AudioContext,n=new MediaStream;n.addTrack(e);const r=t.createMediaStreamSource(n),i=t.createAnalyser();i.smoothingTimeConstant=.2,i.fftSize=64,i.minDecibels=-80,i.maxDecibels=-40,r.connect(i),this.audioProcessInterval=window.setInterval(()=>{const e=new Uint8Array(i.frequencyBinCount);i.getByteFrequencyData(e);let t=0;for(let n=0;n<e.length/2;n++)t+=e[n];const n=t/(e.length/2)/255;this.setState({audioLevel:n})},c)}componentWillUnmount(){const{track:e}=this.props.track,t=this.refs.mediaElementContainer.querySelector("video"===e.kind?"video":"audio");t&&e.detach(t),window.clearInterval(this.audioProcessInterval)}render(){const{track:e,numVisibleTracks:t}=this.props,n=e.hasVideo,r=e.hasAudio&&!e.hasVideo,u=r&&0===t,c=[o.default.videoStream];return n||c.push(o.default.zeroWidth),e.track.name.startsWith("webcam")&&n&&t>1&&c.push(o.default.small),i.default.createElement("div",{className:(0,a.default)(...c)},i.default.createElement("div",{className:o.default.mediaElementContainer},i.default.createElement("div",{ref:"mediaElementContainer"})),i.default.createElement("div",{className:(0,a.default)(o.default.audioIcon,{[o.default.visible]:u}),"aria-hidden":!0},i.default.createElement("div",{className:o.default.audioIconText},i.default.createElement("img",{src:s.default,role:"presentation",alt:"",style:r?{transform:`scale(${1+.35*this.state.audioLevel})`}:void 0}),i.default.createElement("div",{className:o.default.title},"Your teacher turned their microphone on."),i.default.createElement("div",{className:o.default.subtitle},"Make sure your volume is on."))))}},e.exports=t.default},function(e,t,n){(t=e.exports=n(65)(!0)).push([e.i,"._3dclr6E5iWZHIAlNc5Vw0U {\n  display: flex;\n  height: 100%; }\n\n._2k7vQ_d8RElfDpKMj2EPiU {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center; }\n","",{version:3,sources:["/liminex/extensions/monitor/src/ui/teacher/presentation/scripts/components/TwilioClient/index.scss"],names:[],mappings:"AAAA;EACE,cAAc;EACd,aAAa,EAAE;;AAEjB;EACE,mBAAmB;EACnB,YAAY;EACZ,aAAa;EACb,OAAO;EACP,QAAQ;EACR,cAAc;EACd,oBAAoB;EACpB,wBAAwB,EAAE",file:"index.scss",sourcesContent:[".container {\n  display: flex;\n  height: 100%; }\n\n.loaderOverlay {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center; }\n"],sourceRoot:""}]),t.locals={container:"_3dclr6E5iWZHIAlNc5Vw0U",loaderOverlay:"_2k7vQ_d8RElfDpKMj2EPiU"}},function(e,t,n){var r=n(883);"string"==typeof r&&(r=[[e.i,r,""]]);var i={attrs:{media:"screen"},hmr:!0,transform:void 0,insertInto:void 0};n(64)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";var r=n(87),i=r.guessBrowser,o=r.support,a=["edg","edge","electron","headlesschrome"];function s(e){if("chrome"!==e)return null;if("brave"in navigator)return"brave";var t,n=(function(e){for(var t=[],n=[],r=0;r<e.length;r++)if("("===e[r])t.push(r);else if(")"===e[r]&&t.length>0){var i=t.pop();0===t.length&&n.push(e.substring(i,r+1))}return n}(navigator.userAgent).reduce(function(e,t){return e.replace(t,"")},navigator.userAgent).match(/[^\s]+/g)||[]).map(function(e){return e.split("/")[0].toLowerCase()});return(t=n,Array.isArray(t)?t:Array.from(t)).slice(2).find(function(e){return!["chrome","mobile","safari"].includes(e)})||null}e.exports=function(){var e=i(),t=s(e);return!!e&&o()&&(!t||a.includes(t))&&!function(e){return"chrome"===e&&/Edge/.test(navigator.userAgent)&&("undefined"==typeof chrome||void 0===chrome.runtime)}(e)}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(36).EventEmitter,o=["signaling"],a=["debug","error","info","warning"],s=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperties(r,{_publisher:{value:null,writable:!0}}),r.on("event",function(t){var i=t.name,s=t.group,u=t.level,c=t.payload;if("string"!=typeof i)throw new Error("Unexpected name: ",i);if(!o.includes(s))throw new Error("Unexpected group: ",s);if(!a.includes(u))throw new Error("Unexpected level: ",u);var l=Date.now(),f=l-e;if(r._publisher){var p=Object.assign(c||{},{elapsedTime:f,level:u});r._publisher.publish(s,i,p)}if(n){var d=Object.assign(c?{payload:c}:{},{elapsedTime:f,group:s,level:u,name:i,timestamp:l});n.emit("event",d)}}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"setPublisher",value:function(e){this._publisher=e}}]),t}();e.exports=s},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(563),o=n(668),a=n(356),s={closed:["opening"],opening:["closed","open"],open:["closed","closing"],closing:["closed","open"]},u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"closed",s))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),r(t,[{key:"_close",value:function(e){return this.transition("closing",e),this.transition("closed",e),Promise.resolve(this)}},{key:"_connect",value:function(e,t,n,r,i){e.connect("PA00000000000000000000000000000000","test");var a=Promise.resolve(new o(e,"RM00000000000000000000000000000000",i));return a.cancel=function(){},a}},{key:"_open",value:function(e){return this.transition("opening",e),this.transition("open",e),Promise.resolve(this)}},{key:"close",value:function(){var e=this;return this.bracket("close",function(t){switch(e.state){case"closed":return e;case"open":return e._close(t);default:throw new Error('Unexpected Signaling state "'+e.state+'"')}})}},{key:"connect",value:function(e,t,n,r,i){var o=this;return this.bracket("connect",function a(s){switch(o.state){case"closed":return o._open(s).then(a.bind(null,s));case"open":return o.releaseLockCompletely(s),o._connect(e,t,n,r,i);default:throw new Error('Unexpected Signaling state "'+o.state+'"')}})}},{key:"createLocalParticipantSignaling",value:function(){return new i}},{key:"open",value:function(){var e=this;return this.bracket("open",function(t){switch(e.state){case"closed":return e._open(t);case"open":return e;default:throw new Error('Unexpected Signaling state "'+e.state+'"')}})}}]),t}();e.exports=u},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0};var o=n(665),a=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i="data"===(e=e.clone()).kind||e.track.enabled,o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,e.kind,i,r));return o.setTrackTransceiver(e),Object.defineProperties(o,{_updatedPriority:{value:r,writable:!0},id:{enumerable:!0,value:e.id}}),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),r(t,[{key:"enable",value:function(e){return e="boolean"!=typeof e||e,this.trackTransceiver.track.enabled=e,i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enable",this).call(this,e)}},{key:"publishFailed",value:function(e){return function(e,t){if(null!==e._sid||e._error)return!1;return e._error=t,!0}(this,e)&&this.emit("updated"),this}},{key:"setPriority",value:function(e){return this._updatedPriority!==e&&(this._updatedPriority=e,this.emit("updated")),this}},{key:"setSid",value:function(e){return this._error?this:i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setSid",this).call(this,e)}},{key:"stop",value:function(){this.trackTransceiver.stop()}},{key:"updatedPriority",get:function(){return this._updatedPriority}}]),t}();e.exports=a},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(888),o=n(331).createTwilioError,a=function(e){function t(e,n,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"getState",value:function(){return{enabled:this.isEnabled,id:this.id,kind:this.kind,name:this.name,priority:this.updatedPriority}}},{key:"update",value:function(e){switch(e.state){case"ready":this.setSid(e.sid);break;case"failed":var t=e.error;this.publishFailed(o(t.code,t.message))}return this}}]),t}();e.exports=a},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0};var o=n(563),a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperties(e,{_publicationsToTrackSenders:{value:new Map},_trackSendersToPublications:{value:new Map}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),r(t,[{key:"addTrack",value:function(e,n,r){var o=this._createLocalTrackPublicationSignaling(e,n,r);return this._trackSendersToPublications.set(e,o),this._publicationsToTrackSenders.set(o,e),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addTrack",this).call(this,o),this}},{key:"getPublication",value:function(e){return this._trackSendersToPublications.get(e)||null}},{key:"getSender",value:function(e){return this._publicationsToTrackSenders.get(e)||null}},{key:"removeTrack",value:function(e){var n=this._trackSendersToPublications.get(e);return n?(this._trackSendersToPublications.delete(e),this._publicationsToTrackSenders.delete(n),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeTrack",this).call(this,n)&&n.stop(),n):null}}]),t}();e.exports=a},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0};var o=n(890),a=n(889),s=n(49).isDeepEqual,u=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=Object.assign({LocalTrackPublicationV2:a},r);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperties(i,{_bandwidthProfile:{value:null,writable:!0},_bandwidthProfileRevision:{value:0,writable:!0},_encodingParameters:{value:e},_removeListeners:{value:new Map},_LocalTrackPublicationV2:{value:r.LocalTrackPublicationV2},_publishedRevision:{writable:!0,value:0},_revision:{writable:!0,value:1},_signalingRegion:{value:null,writable:!0},bandwidthProfile:{enumerable:!0,get:function(){return this._bandwidthProfile}},bandwidthProfileRevision:{enumerable:!0,get:function(){return this._bandwidthProfileRevision}},networkQualityConfiguration:{enumerable:!0,value:n},revision:{enumerable:!0,get:function(){return this._revision}},signalingRegion:{enumerable:!0,get:function(){return this._signalingRegion}}}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),r(t,[{key:"setSignalingRegion",value:function(e){this._signalingRegion||(this._signalingRegion=e)}},{key:"setBandwidthProfile",value:function(e){s(this._bandwidthProfile,e)||(this._bandwidthProfile=JSON.parse(JSON.stringify(e)),this._bandwidthProfileRevision++,this.didUpdate())}},{key:"setParameters",value:function(e){return this._encodingParameters.update(e),this}},{key:"update",value:function(e){return this._publishedRevision>=e.revision?this:(this._publishedRevision=e.revision,e.tracks.forEach(function(e){var t=this.tracks.get(e.id);t&&t.update(e)},this),this)}},{key:"_createLocalTrackPublicationSignaling",value:function(e,t,n){return new this._LocalTrackPublicationV2(e,t,n)}},{key:"addTrack",value:function(e,n,r){var o=this;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addTrack",this).call(this,e,n,r);var a=this.getPublication(e),s=a.isEnabled,u=a.updatedPriority,c=function(){s===a.isEnabled&&u===a.updatedPriority||(o.didUpdate(),s=a.isEnabled,u=a.updatedPriority)};return a.on("updated",c),this._removeListener(a),this._removeListeners.set(a,function(){return a.removeListener("updated",c)}),this.didUpdate(),this}},{key:"_removeListener",value:function(e){var t=this._removeListeners.get(e);t&&t()}},{key:"getState",value:function(){return{revision:this.revision,tracks:Array.from(this.tracks.values()).map(function(e){return e.getState()})}}},{key:"didUpdate",value:function(){this._revision++,this.emit("updated")}},{key:"removeTrack",value:function(e){var n=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeTrack",this).call(this,e);return n&&(e.removeClone(n.trackTransceiver),this._removeListener(n),this.didUpdate()),n}},{key:"setNetworkQualityConfiguration",value:function(e){this.networkQualityConfiguration.update(e)}}]),t}();e.exports=u},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=(n=Object.assign({navigator:navigator,window:window},n)).navigator,o=i.connection||{type:null},a=o.type,s=o.type?{_events:{value:["change","typechange"]},_listener:{value:function(){var e=a!==r.type&&r.isOnline;a=r.type,e&&t()}},_target:{value:o}}:{_events:{value:["online"]},_listener:{value:t},_target:{value:n.window}},u=s._events,c=s._listener,l=s._target;Object.defineProperties(this,{isOnline:{enumerable:!0,get:function(){return"boolean"!=typeof i.onLine||i.onLine}},type:{enumerable:!0,get:function(){return o.type||null}},_listener:c,_events:u,_target:l})}return r(e,[{key:"start",value:function(){var e=this;this._events.forEach(function(t){e._target.addEventListener(t,e._listener)})}},{key:"stop",value:function(){var e=this;this._events.forEach(function(t){e._target.removeEventListener(t,e._listener)})}}]),e}();e.exports=i},function(e,t,n){"use strict";(function(t){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(356),o=n(49),a=o.buildLogLevels,s=o.makeUUID,u=n(357),c=n(892),l=n(510),f=0,p={closed:[],connecting:["closed","open","waiting"],early:["closed","connecting"],open:["closed"],waiting:["closed","connecting","early","open"]},d={closed:"close",open:"open",waiting:"waiting"},h=3,v=3,y=5e3,g=15e3,m=5e3,_=3004,b=t.window||t,w=b.WebSocket?b.WebSocket:n(664),k={BUSY:"busy",FAILED:"failed",LOCAL:"local",REMOTE:"remote",TIMEOUT:"timeout"},E=new Map([[3e3,k.TIMEOUT],[3001,k.TIMEOUT],[3002,k.FAILED],[3003,k.FAILED],[_,k.TIMEOUT],[3006,k.BUSY],[3007,k.TIMEOUT]]),S=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"early",p));n=Object.assign({helloBody:null,maxConsecutiveFailedHellos:v,maxConsecutiveMissedHeartbeats:h,requestedHeartbeatTimeout:y,openTimeout:g,welcomeTimeout:m,Log:u,WebSocket:w},n);var i=a(n.logLevel),o=new n.Log("default",r,i),s=n.networkMonitor?new c(function(){var e=s.type,t="Network changed"+(e?" to "+e:"");o.debug(t),r._close({code:_,reason:t})}):null;Object.defineProperties(r,{_busyWaitTimeout:{value:null,writable:!0},_consecutiveHeartbeatsMissed:{value:0,writable:!0},_cookie:{value:null,writable:!0},_eventObserver:{value:n.eventObserver},_heartbeatTimeout:{value:null,writable:!0},_hellosLeft:{value:n.maxConsecutiveFailedHellos,writable:!0},_instanceId:{value:++f},_log:{value:o},_messageQueue:{value:[]},_networkMonitor:{value:s},_options:{value:n},_openTimeout:{value:null,writable:!0},_sendHeartbeatTimeout:{value:null,writable:!0},_serverUrl:{value:e},_welcomeTimeout:{value:null,writable:!0},_ws:{value:null,writable:!0}});var l={connecting:"info",early:"info",open:"info",waiting:"warning",closed:"info"};return r.on("stateChanged",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];e in d&&r.emit.apply(r,[d[e]].concat(n));var o={name:e,group:"signaling",level:l[r.state]};if("closed"===e){var a=n[0];o.payload={reason:a},o.level=a===k.LOCAL?"info":"error"}r._eventObserver.emit("event",o)}),r._eventObserver.emit("event",{name:r.state,group:"signaling",level:l[r.state]}),r._connect(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"toString",value:function(){return"[TwilioConnection #"+this._instanceId+": "+this._ws.url+"]"}},{key:"_close",value:function(e){var t=e.code,n=e.reason;if("closed"!==this.state){this._openTimeout&&this._openTimeout.clear(),this._welcomeTimeout&&this._welcomeTimeout.clear(),this._heartbeatTimeout&&this._heartbeatTimeout.clear(),this._sendHeartbeatTimeout&&this._sendHeartbeatTimeout.clear(),this._networkMonitor&&this._networkMonitor.stop(),this._busyWaitTimeout&&3005!==t&&this._busyWaitTimeout.clear(),this._messageQueue.splice(0);var r=this._log;1e3===t?(r.debug("Closed"),this.transition("closed",null,[k.LOCAL])):(r.warn("Closed: "+t+" - "+n),3005!==t&&this.transition("closed",null,[E.get(t)||k.REMOTE]));var i=this._ws.readyState,o=this._options.WebSocket;i!==o.CLOSING&&i!==o.CLOSED&&this._ws.close(t,n)}}},{key:"_connect",value:function(){var e=this,t=this._log;if("waiting"===this.state)this.transition("early");else if("early"!==this.state)return void t.warn('Unexpected state "'+this.state+'" for connecting to the TCMP server.');this._ws=new this._options.WebSocket(this._serverUrl);var n=this._ws;t.debug("Created a new WebSocket:",n),n.addEventListener("close",function(t){return e._close(t)});var r=this._options.openTimeout;this._openTimeout=new l(function(){var t="Failed to open in "+r+" ms";e._close({code:3007,reason:t})},r),n.addEventListener("open",function(){t.debug("WebSocket opened:",n),e._openTimeout.clear(),e._startHandshake(),e._networkMonitor&&e._networkMonitor.start()}),n.addEventListener("message",function(n){t.debug("Incoming: "+n.data);try{n=JSON.parse(n.data)}catch(t){return void e.emit("error",t)}switch(n.type){case"bad":e._handleBad(n);break;case"busy":e._handleBusy(n);break;case"bye":break;case"msg":e._handleMessage(n);case"heartbeat":e._handleHeartbeat();break;case"welcome":e._handleWelcome(n);break;default:e._log.debug("Unknown message type: "+n.type),e.emit("error",new Error("Unknown message type: "+n.type))}})}},{key:"_handleBad",value:function(e){var t=e.reason,n=this._log;if(["connecting","open"].includes(this.state)){if("connecting"===this.state)return n.warn("Closing: 3002 - "+t),void this._close({code:3002,reason:t});n.debug("Error: "+t),this.emit("error",new Error(t))}else n.warn('Unexpected state "'+this.state+'" for handling a "bad" message from the TCMP server.')}},{key:"_handleBusy",value:function(e){var t=this,n=e.cookie,r=e.keepAlive,i=e.retryAfter,o=this._log;if(["connecting","waiting"].includes(this.state)){this._busyWaitTimeout&&this._busyWaitTimeout.clear(),this._welcomeTimeout&&this._welcomeTimeout.clear();var a=i<0?'Received terminal "busy" message':'Received "busy" message, retrying after '+i+" ms";if(i<0)return o.warn("Closing: 3006 - "+a),void this._close({code:3006,reason:a});var s=this._options.maxConsecutiveFailedHellos;this._hellosLeft=s,this._cookie=n||null,r?(o.warn(a),this._busyWaitTimeout=new l(function(){return t._startHandshake()},i)):(o.warn("Closing: 3005 - "+a),this._close({code:3005,reason:a}),this._busyWaitTimeout=new l(function(){return t._connect()},i)),this.transition("waiting",null,[r,i])}else o.warn('Unexpected state "'+this.state+'" for handling a "busy" message from the TCMP server.')}},{key:"_handleHeartbeat",value:function(){"open"===this.state?this._heartbeatTimeout.reset():this._log.warn('Unexpected state "'+this.state+'" for handling a "heartbeat" message from the TCMP server.')}},{key:"_handleHeartbeatTimeout",value:function(){if("open"===this.state){var e=this._log,t=this._options.maxConsecutiveMissedHeartbeats;e.debug("Consecutive heartbeats missed: "+t);var n="Missed "+t+' "heartbeat" messages';e.warn("Closing: 3001 - "+n),this._close({code:3001,reason:n})}}},{key:"_handleMessage",value:function(e){var t=e.body;"open"===this.state?this.emit("message",t):this._log.warn('Unexpected state "'+this.state+'" for handling a "msg" message from the TCMP server.')}},{key:"_handleWelcome",value:function(e){var t=this,n=e.negotiatedTimeout,r=this._log;if(["connecting","waiting"].includes(this.state)){"waiting"===this.state&&(r.debug('Received "welcome" message, no need to retry connection.'),this._busyWaitTimeout.clear());var i=n*this._options.maxConsecutiveMissedHeartbeats,o=n-200;this._welcomeTimeout.clear(),this._heartbeatTimeout=new l(function(){return t._handleHeartbeatTimeout()},i),this._messageQueue.splice(0).forEach(function(e){return t._send(e)}),this._sendHeartbeatTimeout=new l(function(){return t._sendHeartbeat()},o),this.transition("open")}else r.warn('Unexpected state "'+this.state+'" for handling a "welcome" message from the TCMP server.')}},{key:"_handleWelcomeTimeout",value:function(){if("connecting"===this.state){var e=this._log;if(this._hellosLeft<=0){var t="All handshake attempts failed";return e.warn("Closing: 3000 - "+t),void this._close({code:3e3,reason:t})}var n=this._options.maxConsecutiveFailedHellos;e.warn("Handshake attempt "+(n-this._hellosLeft)+" failed"),this._startHandshake()}}},{key:"_send",value:function(e){if(this._ws.readyState===this._options.WebSocket.OPEN){var t=JSON.stringify(e);this._log.debug("Outgoing: "+t);try{this._ws.send(t),this._sendHeartbeatTimeout&&this._sendHeartbeatTimeout.reset()}catch(e){var n="Failed to send message";this._log.warn("Closing: 3003 - "+n),this._close({code:3003,reason:n})}}}},{key:"_sendHeartbeat",value:function(){"closed"!==this.state&&this._send({type:"heartbeat"})}},{key:"_sendHello",value:function(){var e=this._options,t=e.helloBody,n=e.requestedHeartbeatTimeout,r={id:s(),timeout:n,type:"hello",version:2};this._cookie&&(r.cookie=this._cookie),t&&(r.body=t),this._send(r)}},{key:"_sendOrEnqueue",value:function(e){var t=this;"closed"!==this.state&&("open"===this.state?function(e){return t._send(e)}:function(e){return t._messageQueue.push(e)})(e)}},{key:"_startHandshake",value:function(){var e=this;if(["early","waiting"].includes(this.state)&&this.transition("connecting"),"connecting"===this.state){this._hellosLeft--,this._sendHello();var t=this._options.welcomeTimeout;this._welcomeTimeout=new l(function(){return e._handleWelcomeTimeout()},t)}}},{key:"close",value:function(){"closed"!==this.state&&(this._sendOrEnqueue({type:"bye"}),this._close({code:1e3,reason:"Normal"}))}},{key:"sendMessage",value:function(e){this._sendOrEnqueue({body:e,type:"msg"})}}]),t}();S.CloseReason=k,e.exports=S}).call(this,n(12))},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{_connected:{writable:!0,value:!0}})}return r(e,[{key:"connect",value:function(){}},{key:"disconnect",value:function(){return!!this._connected&&(this._connected=!1,!0)}},{key:"publish",value:function(){return this._connected}}]),e}();e.exports=i},function(e,t,n){"use strict";(function(t){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(36).EventEmitter,o=n(49).getUserAgent,a=5,s=50,u=1e3,c=t.window||t,l=c.WebSocket?c.WebSocket:n(664),f=n(49),p=function(e){function t(e,n,r,i,u,c){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var p=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return c=Object.assign({gateway:function(e,t){return"prod"===e?"wss://sdkgw."+t+".twilio.com":"wss://sdkgw."+e+"-"+t+".twilio.com"}(i,u)+"/v1/VideoEvents",maxReconnectAttempts:a,reconnectIntervalMs:s,userAgent:o(),WebSocket:l},c),Object.defineProperties(p,{_connectTimestamp:{value:0,writable:!0},_eventQueue:{value:[]},_readyToConnect:{value:f.defer()},_reconnectAttemptsLeft:{value:c.maxReconnectAttempts,writable:!0},_ws:{value:null,writable:!0},_WebSocket:{value:c.WebSocket}}),p._readyToConnect.promise.then(function(t){var i=t.roomSid,o=t.participantSid,a=p;p.on("disconnected",function t(s){if(a._session=null,s&&a._reconnectAttemptsLeft>0)return a.emit("reconnecting"),void function(e,t,n,r,i,o,a){var s=Date.now()-e._connectTimestamp,u=a.reconnectIntervalMs-s;if(u>0)return void setTimeout(function(){d(e,t,n,r,i,o,a)},u);d(e,t,n,r,i,o,a)}(a,e,n,r,i,o,c);a.removeListener("disconnected",t)}),d(p,e,n,r,i,o,c)}).catch(function(){}),p}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"connect",value:function(e,t){this._readyToConnect.resolve({roomSid:e,participantSid:t})}},{key:"_publish",value:function(e){e.session=this._session,this._ws.send(JSON.stringify(e))}},{key:"disconnect",value:function(){if(null===this._ws||this._ws.readyState===this._WebSocket.CLOSING||this._ws.readyState===this._WebSocket.CLOSED)return!1;try{this._ws.close()}catch(e){}return this.emit("disconnected"),!0}},{key:"publish",value:function(e,t,n){return(null===this._ws||this._ws.readyState!==this._WebSocket.CLOSING&&this._ws.readyState!==this._WebSocket.CLOSED)&&(("string"==typeof this._session?this._publish.bind(this):this._eventQueue.push.bind(this._eventQueue))({group:e,name:t,payload:n,timestamp:Date.now(),type:"event",version:1}),!0)}}]),t}();function d(e,t,n,r,i,o,a){e._connectTimestamp=Date.now(),e._reconnectAttemptsLeft--,e._ws=new a.WebSocket(a.gateway);var s=e._ws;s.addEventListener("close",function(t){t.code!==u?e.emit("disconnected",new Error("WebSocket Error "+t.code+": "+t.reason)):e.emit("disconnected")}),s.addEventListener("message",function(t){!function(e,t,n){switch(t.type){case"connected":e._session=t.session,e._reconnectAttemptsLeft=n.maxReconnectAttempts,e._eventQueue.splice(0).forEach(e._publish,e),e.emit("connected");break;case"error":e._ws.close(),e.emit("disconnected",new Error(t.message))}}(e,JSON.parse(t.data),a)}),s.addEventListener("open",function(){var e={type:"connect",token:t,version:1};e.publisher={name:n,sdkVersion:r,userAgent:a.userAgent,participantSid:o,roomSid:i},s.send(JSON.stringify(e))})}e.exports=p}).call(this,n(12))},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(358).getSdpFormat,o=n(688),a=n(895),s=n(894),u=n(356),c=n(893),l=n(679),f=n(102).reconnectBackoffConfig,p=n(510),d=n(49),h=d.createBandwidthProfilePayload,v=d.createMediaSignalingPayload,y=d.createSubscribePayload,g=d.getUserAgent,m=n(331),_=m.createTwilioError,b=m.RoomCompletedError,w=m.SignalingConnectionError,k=m.SignalingServerBusyError,E=o.name+".js",S=o.version,T={connecting:["connected","disconnected"],connected:["disconnected","syncing"],syncing:["connected","disconnected"],disconnected:[]},C=function(e){function t(e,n,r,o,u,p){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p=Object.assign({Backoff:l,InsightsPublisher:a,NullInsightsPublisher:s,TwilioConnection:c,iceServers:null,sdpFormat:i(p.sdpSemantics),trackPriority:!0,trackSwitchOff:!0,userAgent:g()},p);var d=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"connecting",T)),h={};p.wsServerInsights&&(h.gateway=p.wsServerInsights);var v=p.insights?p.InsightsPublisher:p.NullInsightsPublisher;return Object.defineProperties(d,{_accessToken:{value:n},_automaticSubscription:{value:p.automaticSubscription},_bandwidthProfile:{value:p.bandwidthProfile},_dominantSpeaker:{value:p.dominantSpeaker},_eventPublisher:{value:new v(n,E,S,p.environment,p.realm,h)},_iceServersStatus:{value:Array.isArray(p.iceServers)?"overrode":"acquire"},_localParticipant:{value:r},_name:{value:e},_networkQuality:{value:p.networkQuality},_options:{value:p},_peerConnectionManager:{value:o},_sessionTimer:{value:null,writable:!0},_sessionTimeoutMS:{value:0,writable:!0},_reconnectBackoff:{value:p.Backoff.exponential(f)},_session:{value:null,writable:!0},_trackPriority:{value:p.trackPriority},_trackSwitchOff:{value:p.trackSwitchOff},_twilioConnection:{value:null,writable:!0},_updatesReceived:{value:[]},_updatesToSend:{value:[]},_userAgent:{value:p.userAgent},_wsServer:{value:u}}),p.eventObserver&&p.eventObserver.setPublisher(d._eventPublisher),function(e){function t(){if("disconnected"!==e.state){e._twilioConnection&&e._twilioConnection.removeListener("message",r);var t=e._iceServersStatus,i=e._options,o=e._wsServer,a=e.state,s=i.TwilioConnection,u=new s(o,Object.assign({helloBody:"connecting"===a&&"acquire"===t?e._createIceMessage():e._createConnectOrSyncOrDisconnectMessage()},i));u.once("close",function(e){e===s.CloseReason.LOCAL?n():n(new Error(e))}),u.on("message",r),e._twilioConnection=u}}function n(n){if("disconnected"!==e.state)if(n){var r=e._getReconnectTimer();if(r)"connected"===e.state&&e.preempt("syncing"),r.then(t);else{var i=n.message===c.CloseReason.BUSY?new k:new w;e.disconnect(i)}}else e.disconnect()}function r(t){if("disconnected"!==e.state)if("error"!==t.type)switch(e.state){case"connected":switch(t.type){case"connected":case"synced":case"update":return void e.emit("message",t);case"disconnected":return void e.disconnect("completed"===t.status?new b:null);default:return}case"connecting":switch(t.type){case"iced":return void e._options.onIced(t.ice_servers).then(function(){e._sendConnectOrSyncOrDisconnectMessage()});case"connected":return e._setSession(t.session,t.options.session_timeout),e.emit("connected",t),void e.preempt("connected");case"synced":case"update":return void e._updatesReceived.push(t);case"disconnected":return void e.disconnect("completed"===t.status?new b:null);default:return}case"syncing":switch(t.type){case"connected":case"update":return void e._updatesReceived.push(t);case"synced":return e._clearReconnectTimer(),e.emit("message",t),void e.preempt("connected");case"disconnected":return void e.disconnect("completed"===t.status?new b:null);default:return}default:return}else e.disconnect(_(t.code,t.message))}e.on("stateChanged",function t(n){switch(n){case"connected":var i=e._updatesToSend.splice(0);return i.length&&e.publish(function(e){return e.reduce(function(e,t){return!e.participant&&t.participant?e.participant=t.participant:e.participant&&t.participant&&t.participant.revision>e.participant.revision&&(e.participant=t.participant),!e.peer_connections&&t.peer_connections?e.peer_connections=x(t.peer_connections):e.peer_connections&&t.peer_connections&&(e.peer_connections=x(e.peer_connections.concat(t.peer_connections))),e},{})}(i)),void e._updatesReceived.splice(0).forEach(function(t){return e.emit("message",t)});case"disconnected":return e._twilioConnection.removeListener("message",r),void e.removeListener("stateChanged",t);case"syncing":default:return}});var i=e._options,o=e._iceServersStatus,a=i.iceServers,s=i.onIced;"overrode"===o?s(a).then(t):t()}(d),d.once("connected",function(e){var t=e.sid,n=e.participant;d._eventPublisher.connect(t,n.sid)}),d}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r(t,[{key:"_createConnectOrSyncOrDisconnectMessage",value:function(){if("connected"===this.state)return null;if("disconnected"===this.state)return{session:this._session,type:"disconnect",version:2};var e={connecting:"connect",syncing:"sync"}[this.state],t={name:this._name,participant:this._localParticipant.getState(),peer_connections:this._peerConnectionManager.getStates(),type:e,version:2};if("connect"===t.type){t.ice_servers=this._iceServersStatus,t.publisher={name:E,sdk_version:S,user_agent:this._userAgent},this._bandwidthProfile&&(t.bandwidth_profile=h(this._bandwidthProfile)),t.media_signaling=v(this._dominantSpeaker,this._networkQuality,this._trackPriority,this._trackSwitchOff),t.subscribe=y(this._automaticSubscription);var n=this._options.sdpFormat;n&&(t.format=n),t.token=this._accessToken}else"sync"===t.type?(t.session=this._session,t.token=this._accessToken):"update"===t.type&&(t.session=this._session);return t}},{key:"_createIceMessage",value:function(){return{edge:"roaming",token:this._accessToken,type:"ice",version:1}}},{key:"_sendConnectOrSyncOrDisconnectMessage",value:function(){var e=this._createConnectOrSyncOrDisconnectMessage();e&&this._twilioConnection.sendMessage(e)}},{key:"disconnect",value:function(e){return"disconnected"!==this.state&&(this.preempt("disconnected",null,[e]),this._sendConnectOrSyncOrDisconnectMessage(),this._twilioConnection.close(),this._eventPublisher.disconnect(),!0)}},{key:"publish",value:function(e){switch(this.state){case"connected":return this._twilioConnection.sendMessage(Object.assign({session:this._session,type:"update",version:2},e)),!0;case"connecting":case"syncing":return this._updatesToSend.push(e),!0;case"disconnected":default:return!1}}},{key:"publishEvent",value:function(e,t,n){return this._eventPublisher.publish(e,t,n)}},{key:"sync",value:function(){return"connected"===this.state&&(this.preempt("syncing"),this._sendConnectOrSyncOrDisconnectMessage(),!0)}},{key:"_setSession",value:function(e,t){this._session=e,this._sessionTimeoutMS=1e3*t}},{key:"_getReconnectTimer",value:function(){var e=this;return 0===this._sessionTimeoutMS?null:(this._sessionTimer||(this._sessionTimer=new p(function(){e._sessionTimer&&(e._sessionTimeoutMS=0)},this._sessionTimeoutMS)),new Promise(function(t){e._reconnectBackoff.once("ready",t),e._reconnectBackoff.backoff()}))}},{key:"_clearReconnectTimer",value:function(){this._reconnectBackoff.reset(),this._sessionTimer&&(this._sessionTimer.clear(),this._sessionTimer=null)}}]),t}();function x(e){return Array.from(e.reduce(function(e,t){var n=e.get(t.id)||t;return!n.description&&t.description?n.description=t.description:n.description&&t.description&&t.description.revision>n.description.revision&&(n.description=t.description),!n.ice&&t.ice?n.ice=t.ice:n.ice&&t.ice&&t.ice.revision>n.ice.revision&&(n.ice=t.ice),e.set(n.id,n),e},new Map).values())}e.exports=C},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(36).EventEmitter,o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.on("message",function(e){switch(e.type){case"track_switch_off":n._setTrackSwitchOffUpdates(e.off||[],e.on||[])}}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"_setTrackSwitchOffUpdates",value:function(e,t){this.emit("updated",e,t)}}]),t}();e.exports=o},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{_mediaSignalingTransport:{value:t}})}return r(e,[{key:"sendTrackPriorityUpdate",value:function(e,t,n){var r,i,o;this._mediaSignalingTransport.publish((o=n,(i=t)in(r={type:"track_priority",track:e})?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o,r))}}]),e}();e.exports=i},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(665),o=function(e){function t(e,n,r,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r,i,o));return Object.defineProperties(a,{_isSwitchedOff:{value:!1,writable:!0}}),a.setSid(e),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"subscribeFailed",value:function(e){return this.error||(this._error=e,this.emit("updated")),this}},{key:"setPriority",value:function(e){return this._priority!==e&&(this._priority=e,this.emit("updated")),this}},{key:"setSwitchedOff",value:function(e){return this._isSwitchedOff!==e&&(this._isSwitchedOff=e,this.emit("updated")),this}},{key:"isSubscribed",get:function(){return!!this.trackTransceiver}},{key:"isSwitchedOff",get:function(){return this._isSwitchedOff}}]),t}();e.exports=o},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(899),o=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.sid,e.name,e.kind,e.enabled,e.priority))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"update",value:function(e){return this.enable(e.enabled),this.setPriority(e.priority),this}}]),t}();e.exports=o},function(e,t,n){"use strict";var r=n(667),i=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r),t}();e.exports=i},function(e,t,n){"use strict";var r=n(666),i=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r),t}();e.exports=i},function(e,t,n){"use strict";e.exports=function e(t){var n=t.jitter,r=void 0===n?null:n,i=t.rtt,o=void 0===i?null:i,a=t.level,s=void 0===a?null:a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{jitter:{value:r,enumerable:!0},rtt:{value:o,enumerable:!0},level:{value:s,enumerable:!0}})}},function(e,t,n){"use strict";e.exports=function e(t){var n=t.fractionLost,r=void 0===n?null:n,i=t.level,o=void 0===i?null:i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{fractionLost:{value:r,enumerable:!0},level:{value:o,enumerable:!0}})}},function(e,t,n){"use strict";e.exports=function e(t){var n=t.actual,r=void 0===n?null:n,i=t.available,o=void 0===i?null:i,a=t.level,s=void 0===a?null:a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{actual:{value:r,enumerable:!0},available:{value:o,enumerable:!0},level:{value:s,enumerable:!0}})}},function(e,t,n){"use strict";var r=n(666),i=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r),t}();e.exports=i},function(e,t,n){"use strict";var r=n(667),i=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r),t}();e.exports=i},function(e,t,n){"use strict";var r=n(907),i=n(901);e.exports=function e(t){var n=t.level,o=t.audio,a=t.video;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{level:{value:n,enumerable:!0},audio:{value:o?new r(o):null,enumerable:!0},video:{value:a?new i(a):null,enumerable:!0}})}},function(e,t,n){"use strict";var r=n(563),i=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.connect(e,n),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r),t}();e.exports=i},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var o=n(909),a=n(900),s=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.sid,e.identity));return r=Object.assign({RemoteTrackPublicationV2:a},r),Object.defineProperties(o,{_revision:{writable:!0,value:null},_RemoteTrackPublicationV2:{value:r.RemoteTrackPublicationV2},_getTrackReceiver:{value:n},revision:{enumerable:!0,get:function(){return this._revision}}}),i(o,o.update(e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),r(t,[{key:"_getOrCreateTrack",value:function(e){var t=this._RemoteTrackPublicationV2,n=this.tracks.get(e.sid);return n||(n=new t(e),this.addTrack(n)),n}},{key:"update",value:function(e){var t=this;if(null!==this.revision&&e.revision<=this.revision)return this;this._revision=e.revision;var n=new Set;switch(e.tracks.forEach(function(e){var r=t._getOrCreateTrack(e);r.update(e),n.add(r)}),this.tracks.forEach(function(e){n.has(e)||t.removeTrack(e)}),e.state){case"disconnected":this.disconnect();break;case"reconnecting":this.reconnecting();break;case"connected":this.connect(this.sid,this.identity)}return this}}]),t}();e.exports=s},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(669),o=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperties(e,{_revision:{value:1,writable:!0}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"update",value:function(e){return e.revision<this._revision?this:(this._revision=e.revision,this.enable(e.enabled))}}]),t}();e.exports=o},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(49).defer,o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{_deferreds:{value:[]},_hasValue:{value:!1,writable:!0},_value:{value:null,writable:!0}})}return r(e,[{key:"put",value:function(e){this._hasValue=!0,this._value=e;var t=this._deferreds.shift();return t&&t.resolve(e),this}},{key:"take",value:function(){var e=this;if(this._hasValue&&!this._deferreds.length)return this._hasValue=!1,Promise.resolve(this._value);var t=i();return this._deferreds.push(t),t.promise.then(function(t){return e._hasValue=!1,t})}}]),e}();e.exports=o},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(36).EventEmitter,a=n(912),s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperties(r,{_level:{value:null,writable:!0},_levels:{value:null,writable:!0},_remoteLevels:{value:new Map,writable:!0},_mediaSignalingTransport:{value:e},_networkQualityInputs:{value:new a},_networkQualityReportLevels:{get:function(){return{reportLevel:n.local,remoteReportLevel:n.remote}}}}),e.on("message",function(e){switch(e.type){case"network_quality":r._handleNetworkQualityMessage(e)}}),r._sendNetworkQualityInputs(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),i(t,[{key:"_handleNetworkQualityMessage",value:function(e){var t=this,n=!1,i=null,o=e?e.local:null;"number"==typeof o?(i=o,this._levels=null):"object"===(void 0===o?"undefined":r(o))&&o&&(this._levels=o,i="number"==typeof o.level?o.level:Math.min(o.audio.send,o.audio.recv,o.video.send,o.video.recv)),null!==i&&this.level!==i&&(this._level=i,n=!0),this._remoteLevels=e&&e.remotes?e.remotes.reduce(function(e,r){return(t._remoteLevels.get(r.sid)||{}).level!==r.level&&(n=!0),e.set(r.sid,r)},new Map):this._remoteLevels,n&&this.emit("updated"),setTimeout(function(){return t._sendNetworkQualityInputs()},1e3)}},{key:"_sendNetworkQualityInputs",value:function(){var e=this;return this._networkQualityInputs.take().then(function(t){e._mediaSignalingTransport.publish(function(e,t){return Object.assign({type:"network_quality"},e,t)}(t,e._networkQualityReportLevels))})}},{key:"put",value:function(e){this._networkQualityInputs.put(e)}},{key:"level",get:function(){return this._level}},{key:"levels",get:function(){return this._levels}},{key:"remoteLevels",get:function(){return this._remoteLevels}}]),t}();e.exports=s},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(670),o=n(671),a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n.id,e,n));return Object.defineProperties(r,{lastReport:{enumerable:!0,value:null,writable:!0}}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"next",value:function(e,t,n){var r=this.lastStats;this.lastStats=t,this.trackId=e;var i=o.of(e,r,t,n);return this.lastReport=i,i}}]),t}();e.exports=a},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(675),o=n(670),a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n.id,e,n));return Object.defineProperties(r,{lastReport:{enumerable:!0,value:null,writable:!0}}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),r(t,[{key:"next",value:function(e,t){var n=this.lastStats;this.lastStats=t,this.trackId=e;var r=i.of(e,n,t);return this.lastReport=r,r}}]),t}();e.exports=a},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(675),o=n(671),a=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{ice:{enumerable:!0,value:t},audio:{enumerable:!0,value:n},video:{enumerable:!0,value:r}})}return r(e,[{key:"summarize",value:function(){var e=this.audio.send.concat(this.video.send),t=o.summarize(e),n=this.audio.recv.concat(this.video.recv),r=i.summarize(n);return{ice:this.ice,send:t,recv:r,audio:{send:o.summarize(this.audio.send),recv:i.summarize(this.audio.recv)},video:{send:o.summarize(this.video.send),recv:i.summarize(this.video.recv)}}}}]),e}();e.exports=a},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{availableSend:{enumerable:!0,value:r},recv:{enumerable:!0,value:n},rtt:{enumerable:!0,value:i},send:{enumerable:!0,value:t}})}return r(e,null,[{key:"of",value:function(t,n){var r=(n.timestamp-t.timestamp)/1e3,i=n.bytesSent-t.bytesSent,o=n.bytesReceived-t.bytesReceived;return new e(r>0?i/r*8:0,r>0?o/r*8:0,n.availableOutgoingBitrate,n.currentRoundTripTime)}}]),e}();e.exports=i},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(917),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{lastReport:{enumerable:!0,value:new i(0,0),writable:!0},lastStats:{enumerable:!0,value:null,writable:!0}})}return r(e,[{key:"next",value:function(e){var t=this.lastStats;if(this.lastStats=e,t){var n=t.id===e.id?i.of(t,e):new i(0,0);this.lastReport=n}return this.lastReport}}]),e}();e.exports=o},function(e,t,n){"use strict";var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var a=n(87).guessBrowser,s=n(918),u=n(916),c=n(915),l=n(914),f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{pc:{enumerable:!0,value:t},ice:{enumerable:!0,value:new s},audio:{enumerable:!0,value:{send:new Map,recv:new Map}},video:{enumerable:!0,value:{send:new Map,recv:new Map}},lastReport:{enumerable:!0,value:null,writable:!0}})}return i(e,[{key:"next",value:function(){var e,t,n,i=this;return("firefox"===a()?(t=(e=this).pc.getTransceivers().filter(function(e){return e.currentDirection&&e.currentDirection.match(/send/)&&e.sender.track}).map(function(e){return e.sender}),n=e.pc.getTransceivers().filter(function(e){return e.currentDirection&&e.currentDirection.match(/recv/)}).map(function(e){return e.receiver}),Promise.all([p(t),p(n),e.pc.getStats()]).then(function(t){var n=r(t,3),i=n[0],o=n[1],a=n[2],s=h(e),u=m(e);i.forEach(function(t,n){return b(e,t,u,n)}),k(s,u);var c=v(e),l=_(e);o.forEach(function(t,n){return w(e,t,l,n)}),k(c,l),E(e.ice,a)})):function(e){return e.pc.getStats().then(function(t){var n=h(e),r=m(e);b(e,t,r),k(n,r);var i=v(e),o=_(e);w(e,t,o),k(i,o),E(e.ice,t)})}(this)).then(function(){var e=[].concat(o(i.audio.send.values())),t=[].concat(o(i.video.send.values())),n=[].concat(o(i.audio.recv.values())),r=[].concat(o(i.video.recv.values())),a=new u(i.ice.lastReport,{send:e.map(function(e){return e.lastReport}).filter(function(e){return e}),recv:n.map(function(e){return e.lastReport}).filter(function(e){return e})},{send:t.map(function(e){return e.lastReport}).filter(function(e){return e}),recv:r.map(function(e){return e.lastReport}).filter(function(e){return e})});return i.lastReport=a,a})}}]),e}();function p(e){return Promise.all(e.map(function(e){var t=e.track.id;return e.getStats().then(function(e){var n=!0,r=!1,i=void 0;try{for(var o,a=e.values()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;"inbound-rtp"===s.type&&(s.id=t+"-"+s.id)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return[t,e]})})).then(function(e){return new Map(e)})}function d(e,t,n,r,i){var o=t[r.mediaType];if(!i){var a=n.get(r.trackId);a&&(i=a.trackIdentifier)}if(o&&i){if(o.has(r.id))return o.get(r.id);var s=new e(i,r);o.set(r.id,s)}return null}function h(e){return{audio:e.audio.send,video:e.video.send}}function v(e){return{audio:e.audio.recv,video:e.video.recv}}function y(e,t,n,r){return d(l,h(e),t,n,r)}function g(e,t,n,r){return d(c,v(e),t,n,r)}function m(e){return{audio:new Set(e.audio.send.keys()),video:new Set(e.video.send.keys())}}function _(e){return{audio:new Set(e.audio.recv.keys()),video:new Set(e.video.recv.keys())}}function b(e,t,n,r){var i=!0,o=!1,s=void 0;try{for(var u,c=t.values()[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=u.value;if("outbound-rtp"===l.type&&!l.isRemote){if("firefox"!==a()&&!l.trackId)continue;var f=n[l.mediaType];f&&f.delete(l.id);var p=y(e,t,l,r);if(p){var d=t.get(l.remoteId);p.next(r||p.trackId,l,d)}}}}catch(e){o=!0,s=e}finally{try{!i&&c.return&&c.return()}finally{if(o)throw s}}}function w(e,t,n,r){var i=!0,o=!1,a=void 0;try{for(var s,u=t.values()[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;if("inbound-rtp"===c.type&&!c.isRemote){var l=n[c.mediaType];l&&l.delete(c.id);var f=g(e,t,c,r);f&&f.next(r||f.trackId,c)}}}catch(e){o=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}}function k(e,t){var n=function(n){var r=e[n];t[n].forEach(function(e){return r.delete(e)})};for(var r in t)n(r)}function E(e,t){var n=void 0,r=!0,i=!1,o=void 0;try{for(var a,s=t.values()[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;"transport"===u.type&&(n=t.get(u.selectedCandidatePairId))}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}if(n)e.next(n);else{var c=!0,l=!1,f=void 0;try{for(var p,d=t.values()[Symbol.iterator]();!(c=(p=d.next()).done);c=!0){var h=p.value;"candidate-pair"!==h.type||!h.nominated||"selected"in h&&!h.selected||e.next(h)}}catch(e){l=!0,f=e}finally{try{!c&&d.return&&d.return()}finally{if(l)throw f}}}}e.exports=f},function(e,t,n){"use strict";var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(36),a=n(919),s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperties(r,{_factories:{value:new WeakMap},_manager:{value:e},_signaling:{value:n}}),n.on("updated",function(){return r.emit("updated")}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),i(t,[{key:"start",value:function(){var e=this;this.stop();var t=setTimeout(function(){var n,i;e._timeout===t&&(n=e,i=(n._manager._peerConnections?Array.from(n._manager._peerConnections.values()):[]).map(function(e){return e._peerConnection}).filter(function(e){return"closed"!==e.signalingState}).map(function(e){if(n._factories.has(e))return n._factories.get(e);var t=new a(e);return n._factories.set(e,t),t}).map(function(e){return e.next().catch(function(){return null})}),Promise.all(i).then(function(e){return e.filter(function(e){return e}).map(function(e){return e.summarize()})})).then(function(n){if(e._timeout===t){if(n.length){var i=r(n,1)[0];e._signaling.put(i)}e.start()}})},200);this._timeout=t}},{key:"stop",value:function(){clearTimeout(this._timeout),this._timeout=null}},{key:"level",get:function(){return this._signaling.level}},{key:"levels",get:function(){return this._signaling.levels}},{key:"remoteLevels",get:function(){return this._signaling.remoteLevels}}]),t}();e.exports=s},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(36).EventEmitter,o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperties(n,{_loudestParticipantSid:{value:null,writable:!0}}),e.on("message",function(e){switch(e.type){case"active_speaker":n._setLoudestParticipantSid(e.participant)}}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"_setLoudestParticipantSid",value:function(e){this.loudestParticipantSid!==e&&(this._loudestParticipantSid=e,this.emit("updated"))}},{key:"loudestParticipantSid",get:function(){return this._loudestParticipantSid}}]),t}();e.exports=o},function(e,t,n){"use strict";var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(921),a=n(920),s=n(913),u=n(911),c=n(668),l=n(910),f=n(683),p=n(898),d=n(897),h=n(49),v=h.constants.DEFAULT_SESSION_TIMEOUT_SEC,y=h.createBandwidthProfilePayload,g=h.defer,m=h.filterObject,_=h.flatMap,b=h.oncePerTick,w=n(331).createTwilioError,k=1e4,E=function(e){function t(e,n,r,i,c){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n.options=Object.assign({session_timeout:v},n.options),c=Object.assign({DominantSpeakerSignaling:o,NetworkQualityMonitor:a,NetworkQualitySignaling:s,RecordingSignaling:u,RemoteParticipantV2:l,TrackPrioritySignaling:p,TrackSwitchOffSignaling:d,bandwidthProfile:null,sessionTimeout:1e3*n.options.session_timeout,statsPublishIntervalMs:k},c),e.setBandwidthProfile(c.bandwidthProfile),i.setIceReconnectTimeout(c.sessionTimeout);var h=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n.sid,n.name,c));return Object.defineProperties(h,{_dominantSpeakerSignaling:{value:null,writable:!0},_DominantSpeakerSignaling:{value:c.DominantSpeakerSignaling},_dominantSpeakerSignalingPromise:{value:null,writable:!0},_disconnectedParticipantSids:{value:new Set},_NetworkQualityMonitor:{value:c.NetworkQualityMonitor},_NetworkQualitySignaling:{value:c.NetworkQualitySignaling},_lastBandwidthProfileRevision:{value:e.bandwidthProfileRevision,writable:!0},_networkQualityMonitor:{value:null,writable:!0},_networkQualityMonitorPromise:{value:null,writable:!0},_networkQualityConfiguration:{value:e.networkQualityConfiguration},_peerConnectionManager:{value:i},_published:{value:new Map},_publishedRevision:{value:0,writable:!0},_RemoteParticipantV2:{value:c.RemoteParticipantV2},_subscribed:{value:new Map},_subscribedRevision:{value:0,writable:!0},_subscriptionFailures:{value:new Map},_trackPriorityPromise:{value:null,writable:!0},_trackPrioritySignaling:{value:null,writable:!0},_trackSwitchOffPromise:{value:null,writable:!0},_trackSwitchOffSignaling:{value:null,writable:!0},_TrackPrioritySignaling:{value:c.TrackPrioritySignaling},_TrackSwitchOffSignaling:{value:c.TrackSwitchOffSignaling},_transport:{value:r},_trackReceiverDeferreds:{value:new Map},mediaRegion:{enumerable:!0,value:n.options.media_region||null}}),function(e,t){var n=b(function(){e._publishNewLocalParticipantState()}),r=b(function(){var n=_(t.tracks,function(e){return e.trackTransceiver});e._peerConnectionManager.setTrackSenders(n)});t.on("trackAdded",r),t.on("trackRemoved",r),t.on("updated",n),e.on("stateChanged",function i(o){"disconnected"===o&&(t.removeListener("trackAdded",r),t.removeListener("trackRemoved",r),t.removeListener("updated",n),e.removeListener("stateChanged",i),t.disconnect())}),e.on("signalingConnectionStateChanged",function(){var t=e.localParticipant,n=e.signalingConnectionState,r=t.identity,i=t.sid;switch(n){case"connected":t.connect(i,r);break;case"reconnecting":t.reconnecting()}})}(h,e),function(e,t){t.on("description",function(t){e._publishPeerConnectionState(t)}),t.dequeue("description"),t.on("candidates",function(t){e._publishPeerConnectionState(t)}),t.dequeue("candidates"),t.on("trackAdded",e._addTrackReceiver.bind(e)),t.dequeue("trackAdded"),t.getTrackReceivers().forEach(e._addTrackReceiver,e),t.on("connectionStateChanged",function(){e.emit("connectionStateChanged")}),t.on("iceConnectionStateChanged",function(){e.emit("iceConnectionStateChanged"),"failed"===e.iceConnectionState&&(null!==e.localParticipant.networkQualityLevel&&e.localParticipant.setNetworkQualityLevel(0),e.participants.forEach(function(e){null!==e.networkQualityLevel&&e.setNetworkQualityLevel(0)}))})}(h,i),function(e,t){t.on("message",e._update.bind(e)),t.on("stateChanged",function n(r,i){"disconnected"===r&&("disconnected"!==e.state&&e._disconnect(i),t.removeListener("stateChanged",n)),e.emit("signalingConnectionStateChanged")})}(h,r),function(e,t,n){var r=!1,i=setInterval(function(){e.getStats().then(function(e){r=!r,e.forEach(function(e,n){var i=new f(n,e,!0);if(t.publishEvent("quality","stats-report",{audioTrackStats:i.remoteAudioTrackStats,localAudioTrackStats:i.localAudioTrackStats,localVideoTrackStats:i.localVideoTrackStats,peerConnectionId:i.peerConnectionId,videoTrackStats:i.remoteVideoTrackStats}),r){var o=function(e,t){return(e=Object.assign({availableIncomingBitrate:0,availableOutgoingBitrate:0,bytesReceived:0,bytesSent:0,consentRequestsSent:0,currentRoundTripTime:0,lastPacketReceivedTimestamp:0,lastPacketSentTimestamp:0,nominated:!1,peerConnectionId:t,priority:0,readable:!1,requestsReceived:0,requestsSent:0,responsesReceived:0,responsesSent:0,retransmissionsReceived:0,retransmissionsSent:0,state:"failed",totalRoundTripTime:0,transportId:"",writable:!1},m(e||{},null))).localCandidate=Object.assign({candidateType:"host",deleted:!1,ip:"",port:0,priority:0,protocol:"udp",relayProtocol:"udp",url:""},m(e.localCandidate||{},null)),e.remoteCandidate=Object.assign({candidateType:"host",ip:"",port:0,priority:0,protocol:"udp",url:""},m(e.remoteCandidate||{},null)),e}(e.activeIceCandidatePair,i.peerConnectionId);t.publishEvent("quality","active-ice-candidate-pair",o)}})},function(){})},n);e.on("stateChanged",function t(n){"disconnected"===n&&(clearInterval(i),e.removeListener("stateChanged",t))})}(h,r,c.statsPublishIntervalMs),h._update(n),h}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c),i(t,[{key:"_deleteTrackReceiverDeferred",value:function(e){return this._trackReceiverDeferreds.delete(e)}},{key:"_getOrCreateTrackReceiverDeferred",value:function(e){var t=this._trackReceiverDeferreds.get(e)||g(),n=this._peerConnectionManager.getTrackReceivers().find(function(t){return t.id===e&&"ended"!==t.readyState});return n?t.resolve(n):this._trackReceiverDeferreds.set(e,t),t}},{key:"_addTrackReceiver",value:function(e){return this._getOrCreateTrackReceiverDeferred(e.id).resolve(e),this}},{key:"_disconnect",value:function(e){var n=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_disconnect",this).call(this,e);return n&&(this._teardownDominantSpeakerSignaling(),this._teardownNetworkQualityMonitor(),this._transport.disconnect(),this._peerConnectionManager.close()),this.localParticipant.tracks.forEach(function(t){t.publishFailed(e||new Error("LocalParticipant disconnected"))}),n}},{key:"_getTrackReceiver",value:function(e){var t=this;return this._getOrCreateTrackReceiverDeferred(e).promise.then(function(n){return t._deleteTrackReceiverDeferred(e),n})}},{key:"_getTrackSidsToTrackSignalings",value:function(){var e=_(this.participants,function(e){return Array.from(e.tracks)});return new Map(e)}},{key:"_getOrCreateRemoteParticipant",value:function(e){var t=this._RemoteParticipantV2,n=this.participants.get(e.sid),r=this;return n||((n=new t(e,this._getTrackReceiver.bind(this))).on("stateChanged",function e(t){"disconnected"===t&&(n.removeListener("stateChanged",e),r.participants.delete(n.sid),r._disconnectedParticipantSids.add(n.sid))}),this.connectParticipant(n),n.setTrackPrioritySignaling(this._trackPrioritySignaling)),n}},{key:"_getState",value:function(){return{participant:this.localParticipant.getState()}}},{key:"_maybeAddBandwidthProfile",value:function(e){var t=this.localParticipant,n=t.bandwidthProfile,r=t.bandwidthProfileRevision;return n&&this._lastBandwidthProfileRevision<r?(this._lastBandwidthProfileRevision=r,Object.assign({bandwidth_profile:y(n)},e)):e}},{key:"_publishNewLocalParticipantState",value:function(){this._transport.publish(this._maybeAddBandwidthProfile(this._getState()))}},{key:"_publishPeerConnectionState",value:function(e){this._transport.publish(Object.assign({peer_connections:[e]},this._getState()))}},{key:"_update",value:function(e){var t=this;if(e.subscribed&&e.subscribed.revision>this._subscribedRevision){this._subscribedRevision=e.subscribed.revision,e.subscribed.tracks.forEach(function(e){e.id?(t._subscriptionFailures.delete(e.sid),t._subscribed.set(e.sid,e.id)):e.error&&!t._subscriptionFailures.has(e.sid)&&t._subscriptionFailures.set(e.sid,e.error)});var n=new Set(e.subscribed.tracks.filter(function(e){return!!e.id}).map(function(e){return e.sid}));this._subscribed.forEach(function(e,r){n.has(r)||t._subscribed.delete(r)})}var r,i,o=new Set;return(e.participants||[]).forEach(function(e){if(e.sid!==t.localParticipant.sid&&!t._disconnectedParticipantSids.has(e.sid)){var n=t._getOrCreateRemoteParticipant(e);n.update(e),o.add(n)}}),"synced"===e.type&&this.participants.forEach(function(e){o.has(e)||e.disconnect()}),i=(r=this)._getTrackSidsToTrackSignalings(),r._subscriptionFailures.forEach(function(e,t){var n=i.get(t);n&&(r._subscriptionFailures.delete(t),n.subscribeFailed(w(e.code,e.message)))}),i.forEach(function(e){var t=r._subscribed.get(e.sid);(!t||e.isSubscribed&&e.trackTransceiver.id!==t)&&e.setTrackTransceiver(null),t&&r._getTrackReceiver(t).then(function(t){return e.setTrackTransceiver(t)})}),e.peer_connections&&this._peerConnectionManager.update(e.peer_connections,"synced"===e.type),e.recording&&this.recording.update(e.recording),e.published&&e.published.revision>this._publishedRevision&&(this._publishedRevision=e.published.revision,e.published.tracks.forEach(function(e){e.sid&&t._published.set(e.id,e.sid)}),this.localParticipant.update(e.published)),e.participant&&this.localParticipant.connect(e.participant.sid,e.participant.identity),!this._dominantSpeakerSignalingPromise&&e.media_signaling&&e.media_signaling.active_speaker&&e.media_signaling.active_speaker.transport&&"data-channel"===e.media_signaling.active_speaker.transport.type&&this._setupDataTransportBackedDominantSpeakerSignaling(e.media_signaling.active_speaker.transport.label),!this._networkQualityMonitorPromise&&e.media_signaling&&e.media_signaling.network_quality&&e.media_signaling.network_quality.transport&&"data-channel"===e.media_signaling.network_quality.transport.type&&this._setupDataTransportBackedNetworkQualityMonitor(e.media_signaling.network_quality.transport.label),!this._trackPriorityPromise&&e.media_signaling&&e.media_signaling.track_priority&&e.media_signaling.track_priority.transport&&"data-channel"===e.media_signaling.track_priority.transport.type&&this._setupTrackPrioritySignaling(e.media_signaling.track_priority.transport.label),!this._trackSwitchOffPromise&&e.media_signaling&&e.media_signaling.track_switch_off&&e.media_signaling.track_switch_off.transport&&"data-channel"===e.media_signaling.track_switch_off.transport.type&&this._setupTrackSwitchOffMonitor(e.media_signaling.track_switch_off.transport.label),this}},{key:"_setupTrackPrioritySignaling",value:function(e){var t=this;this._teardownTrackPrioritySignaling();var n=this._getTrackReceiver(e).then(function(e){if("data"!==e.kind)throw new Error("Expected a DataTrackReceiver");t._trackPriorityPromise===n&&(e.once("close",function(){return t._teardownTrackPrioritySignaling()}),t._trackPrioritySignaling=new t._TrackPrioritySignaling(e.toDataTransport()),[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t.participants.values())).forEach(function(e){e.setTrackPrioritySignaling(t._trackPrioritySignaling)}))});this._trackPriorityPromise=n}},{key:"_setupTrackSwitchOff",value:function(e){var t=this;this._trackSwitchOffSignaling=e,e.on("updated",function(e,n){t.participants.forEach(function(t){t.tracks.forEach(function(t){e.includes(t.sid)&&t.setSwitchedOff(!0),n.includes(t.sid)&&t.setSwitchedOff(!1)})})})}},{key:"_setupTrackSwitchOffMonitor",value:function(e){var t=this;this._teardownTrackSwitchOff();var n=this._getTrackReceiver(e).then(function(e){if("data"!==e.kind)throw new Error("Expected a DataTrackReceiver");if(t._trackSwitchOffPromise===n){e.once("close",function(){return t._teardownTrackSwitchOff()});var r=new t._TrackSwitchOffSignaling(e.toDataTransport());t._setupTrackSwitchOff(r)}});this._trackSwitchOffPromise=n}},{key:"_setupDataTransportBackedDominantSpeakerSignaling",value:function(e){var t=this;this._teardownDominantSpeakerSignaling();var n=this._getTrackReceiver(e).then(function(e){if("data"!==e.kind)throw new Error("Expected a DataTrackReceiver");if(t._dominantSpeakerSignalingPromise===n){e.once("close",function(){return t._teardownDominantSpeakerSignaling()});var r=new t._DominantSpeakerSignaling(e.toDataTransport());t._setDominantSpeakerSignaling(r)}});this._dominantSpeakerSignalingPromise=n}},{key:"_setupDataTransportBackedNetworkQualityMonitor",value:function(e){var t=this,n=this;this._teardownNetworkQualityMonitor();var r=this._getTrackReceiver(e).then(function(e){if("data"!==e.kind)throw new Error("Expected a DataTrackReceiver");if(t._networkQualityMonitorPromise===r){e.once("close",function(){return t._teardownNetworkQualityMonitor()});var i=new t._NetworkQualitySignaling(e.toDataTransport(),n._networkQualityConfiguration),o=new t._NetworkQualityMonitor(t._peerConnectionManager,i);t._setNetworkQualityMonitor(o)}});this._networkQualityMonitorPromise=r}},{key:"_setDominantSpeakerSignaling",value:function(e){var t=this;this._dominantSpeakerSignaling=e,e.on("updated",function(){return t.setDominantSpeaker(e.loudestParticipantSid)})}},{key:"_setNetworkQualityMonitor",value:function(e){var t=this;this._networkQualityMonitor=e,e.on("updated",function(){"failed"!==t.iceConnectionState&&(t.localParticipant.setNetworkQualityLevel(e.level,e.levels),t.participants.forEach(function(t){var n=e.remoteLevels.get(t.sid);n&&t.setNetworkQualityLevel(n.level,n)}))}),e.start()}},{key:"_teardownDominantSpeakerSignaling",value:function(){this._dominantSpeakerSignalingPromise=null,this._dominantSpeakerSignaling=null}},{key:"_teardownNetworkQualityMonitor",value:function(){this._networkQualityMonitorPromise=null,this._networkQualityMonitor&&(this._networkQualityMonitor.stop(),this._networkQualityMonitor=null)}},{key:"_teardownTrackPrioritySignaling",value:function(){this._trackPrioritySignaling=null,this._trackPriorityPromise=null,this.localParticipant.setTrackPrioritySignaling(null),this.participants.forEach(function(e){e.setTrackPrioritySignaling(null)})}},{key:"_teardownTrackSwitchOff",value:function(){this._trackSwitchOffSignaling=null,this._trackSwitchOffPromise=null}},{key:"getStats",value:function(){var e=this;return this._peerConnectionManager.getStats().then(function(t){return new Map(Array.from(t).map(function(t){var n=r(t,2),i=n[0],o=n[1];return[i,Object.assign({},o,{localAudioTrackStats:T(e,o.localAudioTrackStats),localVideoTrackStats:T(e,o.localVideoTrackStats),remoteAudioTrackStats:C(e,o.remoteAudioTrackStats),remoteVideoTrackStats:C(e,o.remoteVideoTrackStats)})]}))})}},{key:"connectionState",get:function(){return this._peerConnectionManager.connectionState}},{key:"signalingConnectionState",get:function(){return"syncing"===this._transport.state?"reconnecting":this._transport.state}},{key:"iceConnectionState",get:function(){return this._peerConnectionManager.iceConnectionState}}]),t}();function S(e,t){return t.reduce(function(t,n){var r=e.get(n.trackId);return r?[Object.assign({},n,{trackSid:r})].concat(t):t},[])}function T(e,t){return S(e._published,t)}function C(e,t){return S(new Map(Array.from(e._subscribed.entries()).map(function(e){var t=r(e,2),n=t[0];return[t[1],n]})),t)}e.exports=E},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=n(36).EventEmitter,a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperties(e,{_queuedEvents:{value:new Map}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),r(t,[{key:"dequeue",value:function(e){var t=this,n=!0;if(!e)return this._queuedEvents.forEach(function(e,t){n=this.dequeue(t)&&n},this),n;var r=this._queuedEvents.get(e)||[];return this._queuedEvents.delete(e),r.reduce(function(n,r){return t.emit.apply(t,i([e].concat(r)))&&n},n)}},{key:"queue",value:function(){var e=[].slice.call(arguments);if(this.emit.apply(this,i(e)))return!0;var t=e[0];return this._queuedEvents.has(t)||this._queuedEvents.set(t,[]),this._queuedEvents.get(t).push(e.slice(1)),!1}}]),t}();e.exports=a},function(e,t,n){"use strict";var r=n(318).RTCSessionDescription,i=n(375).createPtToCodecName,o=n(375).getMediaSections;function a(e){var t=i(e);e=function(e,t){return Array.from(t.keys()).reduce(function(e,n){var r=new RegExp("^a=rtpmap:"+n+" rtx.+$","gm");return(e.match(r)||[]).slice("rtx"===t.get(n)?1:0).reduce(function(e,t){var r=new RegExp("\r\n"+t),i=new RegExp("\r\na=fmtp:"+n+" apt=[0-9]+");return e.replace(r,"").replace(i,"")},e)},e)}(e,t);var n=function(e){var t=new Map;return e.forEach(function(e,n){var r=t.get(e)||new Set;return t.set(e,r.add(n))}),t}(t),r=n.get("rtx")||new Set,o=new Set,a=function(e,t){var n=Array.from(e).reduce(function(e,t){var n=t[0],r=t[1],i=e.get(r)||new Set;return e.set(r,i.add(n))},new Map);return Array.from(n).reduce(function(e,n){var r=n[0],i=Array.from(n[1]);return i.length>1?(i.forEach(function(e){t.add(e)}),e):e.set(r,i[0])},new Map)}(function(e,t,n,r){return Array.from(n).reduce(function(n,i){var o=new RegExp("a=fmtp:"+i+" apt=(\\d+)"),a=e.match(o);if(!a)return r.add(i),n;var s=Number.parseInt(a[1]);if(!t.has(s))return r.add(i),n;var u=t.get(s);return"rtx"===u?(r.add(i),n):n.set(i,s)},new Map)}(e,t,r,o),o),u=Array.from(o);return["h264","vp8","vp9"].reduce(function(e,t){var r=n.get(t)||new Set;return Array.from(r).reduce(function(e,t){return a.has(t)?e:e.add(t)},e)},new Set).forEach(function(t){if(u.length){var n=u.shift();e=function(e,t,n){return e.endsWith("\r\n")?e+"a=fmtp:"+t+" apt="+n+"\r\n":e+"\r\na=fmtp:"+t+" apt="+n}(e=s(e,n),n,t)}}),u.forEach(function(t){e=function(e,t){var n=new RegExp("a=rtpmap:"+t+".*\r\n","gm");return e.replace(n,"")}(e=s(e,t),t)}),e}function s(e,t){var n=new RegExp("a=fmtp:"+t+".*\r\n","gm");return e.replace(n,"")}e.exports=function(e){var t,n,i={type:e.type};return"rollback"!==e.type&&(i.sdp=(t=e.sdp,n=o(t),[t.split("\r\nm=")[0]].concat(n.map(a)).join("\r\n"))),new r(i)}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(375).getMediaSections,o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{_midsToTrackIds:{value:new Map,writable:!0}})}return r(e,[{key:"match",value:function(e){return this._midsToTrackIds.get(e.transceiver.mid)||null}},{key:"update",value:function(e){var t=i(e,"(audio|video)");this._midsToTrackIds=t.reduce(function(e,t){var n=t.match(/^a=mid:(.+)$/m)||[],r=t.match(/^a=msid:.+ (.+)$/m)||[],i=n[1],o=r[1];return i&&o?e.set(i,o):e},this._midsToTrackIds)}}]),e}();e.exports=o},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(49),o=n(375).getMediaSections;function a(){return{matched:new Set,unmatched:new Set}}var s=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!(this instanceof e))return new e;Object.defineProperties(this,{audio:{enumerable:!0,value:a()},video:{enumerable:!0,value:a()}})}return r(e,[{key:"match",value:function(e){return function(e){var t=Array.from(e.unmatched);if(!t.length)return null;var n=t[0];return e.matched.add(n),e.unmatched.delete(n),n}(this[e.track.kind])}},{key:"update",value:function(e){["audio","video"].forEach(function(t){var n,r;n=this[t],r=function(e,t){var n=o(t,e);return new Set(i.flatMap(n,function(e){return e.match(new RegExp("msid: ?(.+) +(.+) ?$","mg"))||[]}).map(function(e){return e.match(new RegExp("msid: ?(.+) +(.+) ?$"))[2]}))}(t,e),r=new Set(r),i.difference(n.matched,r).forEach(n.matched.delete,n.matched),n.unmatched=i.difference(r,n.matched)},this)}}]),e}();e.exports=s},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"match",value:function(e){return e.track.id}},{key:"update",value:function(){}}]),e}();e.exports=i},function(e,t,n){"use strict";var r=n(692),i=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r),t}();e.exports=i},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(36).EventEmitter,o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperties(n,{_dataChannel:{value:e},_messageQueue:{value:[]}}),e.addEventListener("open",function(){n._messageQueue.splice(0).forEach(function(e){return n._publish(e)})}),e.addEventListener("message",function(e){var t=e.data;try{var r=JSON.parse(t);n.emit("message",r)}catch(e){}}),n.publish({type:"ready"}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"_publish",value:function(e){var t=JSON.stringify(e);try{this._dataChannel.send(t)}catch(e){}}},{key:"publish",value:function(e){var t=this._dataChannel;return"closing"!==t.readyState&&"closed"!==t.readyState&&("connecting"===t.readyState?(this._messageQueue.push(e),!0):(this._publish(e),!0))}}]),t}();e.exports=o},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(689),o=n(929),a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.label,e.maxPacketLifeTime,e.maxRetransmits,e.ordered));return Object.defineProperties(n,{_dataChannel:{value:e}}),e.binaryType="arraybuffer",e.addEventListener("message",function(e){n.emit("message",e.data)}),e.addEventListener("close",function(){n.emit("close")}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"stop",value:function(){this._dataChannel.close(),function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"stop",this).call(this)}},{key:"toDataTransport",value:function(){return new o(this._dataChannel)}}]),t}();e.exports=a},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(102),o=i.ICE_ACTIVITY_CHECK_PERIOD_MS,a=i.ICE_INACTIVITY_THRESHOLD_MS,s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=Object.assign({activityCheckPeriodMs:o,inactivityThresholdMs:a},n),Object.defineProperties(this,{_activityCheckPeriodMs:{value:n.activityCheckPeriodMs},_inactivityThresholdMs:{value:n.inactivityThresholdMs},_lastActivity:{value:null,writable:!0},_peerConnection:{value:t},_timer:{value:null,writable:!0},_onIceConnectionStateChanged:{value:null,writable:!0}})}return r(e,[{key:"_getActivePairStat",value:function(e){var t=Array.from(e.values());return t.find(function(e){return"inbound-rtp"===e.type})?t.find(function(e){return"candidate-pair"===e.type&&e.nominated})||{bytesReceived:0,timestamp:Math.round((new Date).getTime())}:null}},{key:"_getIceConnectionStats",value:function(){var e=this;return this._peerConnection.getStats().then(function(t){return e._getActivePairStat(t)}).catch(function(){return null})}},{key:"_scheduleInactivityCallback",value:function(e){var t=this;e&&null===this._onIceConnectionStateChanged?(this._onIceConnectionStateChanged=function(){"disconnected"===t._peerConnection.iceConnectionState&&e()},this._peerConnection.addEventListener("iceconnectionstatechange",this._onIceConnectionStateChanged)):!e&&this._onIceConnectionStateChanged&&(this._peerConnection.removeEventListener("iceconnectionstatechange",this._onIceConnectionStateChanged),this._onIceConnectionStateChanged=null)}},{key:"start",value:function(e){var t=this;this.stop(),this._timer=setInterval(function(){t._getIceConnectionStats().then(function(n){n&&(t._lastActivity&&t._lastActivity.bytesReceived===n.bytesReceived||(t._lastActivity=n,t._scheduleInactivityCallback(null)),n.timestamp-t._lastActivity.timestamp>=t._inactivityThresholdMs&&("disconnected"===t._peerConnection.iceConnectionState?e():null===t._onIceConnectionStateChanged&&t._scheduleInactivityCallback(e)))})},this._activityCheckPeriodMs)}},{key:"stop",value:function(){this._scheduleInactivityCallback(null),null!==this._timer&&(clearInterval(this._timer),this._timer=null,this._lastActivity=null)}}]),e}();e.exports=s},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=Object.assign({getKey:function(e){return e},getValue:function(e){return e},isLessThanOrEqualTo:function(e,t){return e<=t}},t),Object.defineProperties(this,{_getKey:{value:t.getKey},_getValue:{value:t.getValue},_isLessThanOrEqualTo:{value:t.isLessThanOrEqualTo},_map:{value:new Map}})}return r(e,[{key:"toMap",value:function(){return new Map(this._map)}},{key:"updateAndFilter",value:function(e){return e.filter(this.update,this)}},{key:"update",value:function(e){var t=this._getKey(e),n=this._getValue(e);return(!this._map.has(t)||!this._isLessThanOrEqualTo(n,this._map.get(t)))&&(this._map.set(t,n),!0)}}]),e}();e.exports=i},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(932),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{_filter:{value:new i({getKey:function(e){return e.ufrag},isLessThanOrEqualTo:function(e,t){return e.revision<=t.revision}})},_ufrag:{writable:!0,value:null},ufrag:{enumerable:!0,get:function(){return this._ufrag}}})}return r(e,[{key:"setUfrag",value:function(e){this._ufrag=e;var t=this._filter.toMap().get(e);return t?t.candidates:[]}},{key:"update",value:function(e){e.candidates=e.candidates||[];var t=this._filter.toMap().get(e.ufrag),n=t?t.candidates:[];return this._filter.update(e)&&this._ufrag===e.ufrag?e.candidates.slice(n.length):[]}}]),e}();e.exports=o},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=[].slice.call(arguments,1),i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r)))),o=Error.apply(i,r);return o.name="TwilioError",Object.defineProperty(i,"code",{value:e,enumerable:!0}),Object.getOwnPropertyNames(o).forEach(function(e){Object.defineProperty(this,e,{value:o[e],enumerable:!0})},i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Error),r(t,[{key:"toString",value:function(){var e=this.message?": "+this.message:"";return this.name+" "+this.code+e}}]),t}();e.exports=i},function(e,t,n){"use strict";var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(49).difference,a=n(49).flatMap;function s(){return String(Math.floor(4294967295*Math.random()))}var u=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{cName:{enumerable:!0,value:r},isSimulcastEnabled:{enumerable:!0,value:!1,writable:!0},primarySSRCs:{enumerable:!0,value:new Set},rtxPairs:{enumerable:!0,value:new Map},streamId:{enumerable:!0,value:n},trackId:{enumerable:!0,value:t}})}return i(e,[{key:"addSimulcastSSRCs",value:function(){if(!this.isSimulcastEnabled){var e=[s(),s()];e.forEach(function(e){this.primarySSRCs.add(e)},this),this.rtxPairs.size&&e.forEach(function(e){this.rtxPairs.set(s(),e)},this)}}},{key:"addSSRC",value:function(e,t,n){t?this.rtxPairs.set(e,t):this.primarySSRCs.add(e),this.isSimulcastEnabled=this.isSimulcastEnabled||n}},{key:"toSdpLines",value:function(e){var t=this,n=e?[]:Array.from(this.rtxPairs.entries()).map(function(e){return e.reverse()}),r=Array.from(this.primarySSRCs.values()),i=n.length?a(n):r,o=a(i,function(e){return["a=ssrc:"+e+" cname:"+t.cName,"a=ssrc:"+e+" msid:"+t.streamId+" "+t.trackId]}),s=n.map(function(e){return"a=ssrc-group:FID "+e.join(" ")}),u=["a=ssrc-group:SIM "+r.join(" ")];return s.concat(o).concat(u)}}]),e}();function c(e,t){return(e.match(new RegExp(t,"gm"))||[]).map(function(e){return(e.match(new RegExp(t))||[]).slice(1)})}function l(e,t){return{planb:function(e){return c(e,"^a=ssrc:([0-9]+) msid:([^\\s]+) ([^\\s]+)$")},unified:function(e){var t=a(c(e,"^a=msid:(.+) (.+)$")),n=r(t,2),i=n[0],o=n[1];return a(c(e,"^a=ssrc:(.+) cname:.+$")).map(function(e){return[e,i,o]})}}[t](e)}function f(e,t){var n=function(e){return new Set(a(c(e,"^a=ssrc-group:SIM ([0-9]+) ([0-9]+) ([0-9]+)$")))}(e),r=function(e){return new Map(c(e,"^a=ssrc-group:FID ([0-9]+) ([0-9]+)$").map(function(e){return e.reverse()}))}(e);return l(e,t).reduce(function(t,i){var o=i[0],a=i[1],s=i[2],c=t.get(s)||new u(s,a,function(e,t,n){var r="a=ssrc:"+t+" "+n+":(.+)";return e.match(new RegExp(r))[1]}(e,o,"cname")),l=r.get(o)||null;return c.addSSRC(o,l,n.has(o)),t.set(s,c)},new Map)}e.exports=function(e,t,n){var r=f(e,t),i=Array.from(r.keys()),s=Array.from(n.keys()),u=o(i,s),c=o(s,i);a(u,function(e){return r.get(e)}).forEach(function(e){e.addSimulcastSSRCs(),n.set(e.trackId,e)}),s=Array.from(n.keys());var l=o(s,c),p=a(l,function(e){return n.get(e)}),d=!e.match(/a=rtpmap:[0-9]+ rtx/),h=a(p,function(e){return e.toSdpLines(d)}),v=a(new Set(e.split("\r\n").concat(h)));return e.match("a=x-google-flag:conference")||v.push("a=x-google-flag:conference"),v.join("\r\n")}},function(e,t,n){var r=n(36),i=n(564),o=n(50),a=n(678),s=n(676);function u(e,t,n){r.EventEmitter.call(this),i.checkIsFunction(e,"Expected fn to be a function."),i.checkIsArray(t,"Expected args to be an array."),i.checkIsFunction(n,"Expected callback to be a function."),this.function_=e,this.arguments_=t,this.callback_=n,this.lastResult_=[],this.numRetries_=0,this.backoff_=null,this.strategy_=null,this.failAfter_=-1,this.retryPredicate_=u.DEFAULT_RETRY_PREDICATE_,this.state_=u.State_.PENDING}o.inherits(u,r.EventEmitter),u.State_={PENDING:0,RUNNING:1,COMPLETED:2,ABORTED:3},u.DEFAULT_RETRY_PREDICATE_=function(e){return!0},u.prototype.isPending=function(){return this.state_==u.State_.PENDING},u.prototype.isRunning=function(){return this.state_==u.State_.RUNNING},u.prototype.isCompleted=function(){return this.state_==u.State_.COMPLETED},u.prototype.isAborted=function(){return this.state_==u.State_.ABORTED},u.prototype.setStrategy=function(e){return i.checkState(this.isPending(),"FunctionCall in progress."),this.strategy_=e,this},u.prototype.retryIf=function(e){return i.checkState(this.isPending(),"FunctionCall in progress."),this.retryPredicate_=e,this},u.prototype.getLastResult=function(){return this.lastResult_.concat()},u.prototype.getNumRetries=function(){return this.numRetries_},u.prototype.failAfter=function(e){return i.checkState(this.isPending(),"FunctionCall in progress."),this.failAfter_=e,this},u.prototype.abort=function(){this.isCompleted()||this.isAborted()||(this.isRunning()&&this.backoff_.reset(),this.state_=u.State_.ABORTED,this.lastResult_=[new Error("Backoff aborted.")],this.emit("abort"),this.doCallback_())},u.prototype.start=function(e){i.checkState(!this.isAborted(),"FunctionCall is aborted."),i.checkState(this.isPending(),"FunctionCall already started.");var t=this.strategy_||new s;this.backoff_=e?e(t):new a(t),this.backoff_.on("ready",this.doCall_.bind(this,!0)),this.backoff_.on("fail",this.doCallback_.bind(this)),this.backoff_.on("backoff",this.handleBackoff_.bind(this)),this.failAfter_>0&&this.backoff_.failAfter(this.failAfter_),this.state_=u.State_.RUNNING,this.doCall_(!1)},u.prototype.doCall_=function(e){e&&this.numRetries_++;var t=["call"].concat(this.arguments_);r.EventEmitter.prototype.emit.apply(this,t);var n=this.handleFunctionCallback_.bind(this);this.function_.apply(null,this.arguments_.concat(n))},u.prototype.doCallback_=function(){this.callback_.apply(null,this.lastResult_)},u.prototype.handleFunctionCallback_=function(){if(!this.isAborted()){var e=Array.prototype.slice.call(arguments);this.lastResult_=e,r.EventEmitter.prototype.emit.apply(this,["callback"].concat(e));var t=e[0];t&&this.retryPredicate_(t)?this.backoff_.backoff(t):(this.state_=u.State_.COMPLETED,this.doCallback_())}},u.prototype.handleBackoff_=function(e,t,n){this.emit("backoff",e,t,n)},e.exports=u},function(e,t,n){var r=n(50),i=n(564),o=n(677);function a(e){o.call(this,e),this.backoffDelay_=0,this.nextBackoffDelay_=this.getInitialDelay(),this.factor_=a.DEFAULT_FACTOR,e&&void 0!==e.factor&&(i.checkArgument(e.factor>1,"Exponential factor should be greater than 1 but got %s.",e.factor),this.factor_=e.factor)}r.inherits(a,o),a.DEFAULT_FACTOR=2,a.prototype.next_=function(){return this.backoffDelay_=Math.min(this.nextBackoffDelay_,this.getMaxDelay()),this.nextBackoffDelay_=this.backoffDelay_*this.factor_,this.backoffDelay_},a.prototype.reset_=function(){this.backoffDelay_=0,this.nextBackoffDelay_=this.getInitialDelay()},e.exports=a},function(e,t,n){var r=n(50);function i(e){Error.call(this,e),this.message=e}function o(e){Error.call(this,e),this.message=e}r.inherits(i,Error),i.prototype.name="IllegalArgumentError",r.inherits(o,Error),o.prototype.name="IllegalStateError",e.exports.IllegalStateError=o,e.exports.IllegalArgumentError=i},function(e,t,n){var r=n(50),i=e.exports=n(938);function o(e,t,n,i){n=n||"";var o=new e(r.format.apply(this,[n].concat(i)));throw Error.captureStackTrace(o,t),o}function a(e,t,n){o(i.IllegalArgumentError,e,t,n)}function s(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array"}return t}function u(e){return function(t,n){var r=s(t);if(r==e)return t;a(arguments.callee,n||'Expected "'+e+'" but got "'+r+'".',Array.prototype.slice.call(arguments,2))}}e.exports.checkArgument=function(e,t){e||a(arguments.callee,t,Array.prototype.slice.call(arguments,2))},e.exports.checkState=function(e,t){e||function(e,t,n){o(i.IllegalStateError,e,t,n)}(arguments.callee,t,Array.prototype.slice.call(arguments,2))},e.exports.checkIsDef=function(e,t){if(void 0!==e)return e;a(arguments.callee,t||"Expected value to be defined but was undefined.",Array.prototype.slice.call(arguments,2))},e.exports.checkIsDefAndNotNull=function(e,t){if(null!=e)return e;a(arguments.callee,t||'Expected value to be defined and not null but got "'+s(e)+'".',Array.prototype.slice.call(arguments,2))},e.exports.checkIsString=u("string"),e.exports.checkIsArray=u("array"),e.exports.checkIsNumber=u("number"),e.exports.checkIsBoolean=u("boolean"),e.exports.checkIsFunction=u("function"),e.exports.checkIsObject=u("object")},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(679),o=n(318),a=o.MediaStream,s=o.RTCIceCandidate,u=o.RTCPeerConnection,c=o.RTCSessionDescription,l=o.getStats,f=n(87).guessBrowser,p=n(358).getSdpFormat,d=n(102),h=d.DEFAULT_ICE_GATHERING_TIMEOUT_MS,v=d.DEFAULT_LOG_LEVEL,y=d.DEFAULT_SESSION_TIMEOUT_SEC,g=d.iceRestartBackoffConfig,m=n(375),_=m.createCodecMapForMediaSection,b=m.disableRtx,w=m.getMediaSections,k=m.removeSSRCAttributes,E=m.revertSimulcastForNonVP8MediaSections,S=m.setBitrateParameters,T=m.setCodecPreferences,C=m.setSimulcast,x=m.unifiedPlanAddOrRewriteNewTrackIds,O=m.unifiedPlanAddOrRewriteTrackIds,P=m.unifiedPlanFilterLocalCodecs,A=n(510),j=n(331),R=j.MediaClientLocalDescFailedError,I=j.MediaClientRemoteDescFailedError,L=n(49),M=L.buildLogLevels,D=L.isChromeScreenShareTrack,N=L.oncePerTick,B=n(933),F=n(931),U=n(930),V=n(928),q=n(356),W=n(357),H=n(927),z=n(926),Y=n(925),Q=n(924),K=f(),$="chrome"===K,J="firefox"===K,G="safari"===K,X="undefined"!=typeof RTCRtpSender&&"function"==typeof RTCRtpSender.prototype.getParameters&&"function"==typeof RTCRtpSender.prototype.setParameters,Z=0,ee={open:["closed","updating"],updating:["closed","open"],closed:[]},te=function(e){function t(e,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"open",ee)),f=oe(o=Object.assign({enableDscp:!1,dummyAudioMediaStreamTrack:null,isChromeScreenShareTrack:D,iceServers:[],isRTCRtpSenderParamsSupported:X,logLevel:v,offerOptions:{},revertSimulcastForNonVP8MediaSections:E,sessionTimeout:1e3*y,setBitrateParameters:S,setCodecPreferences:T,setSimulcast:C,Backoff:i,IceConnectionMonitor:F,MediaStream:a,RTCIceCandidate:s,RTCPeerConnection:u,RTCSessionDescription:c,Timeout:A},o)),d=p(f.sdpSemantics),m="unified"===d,_=m?null:new o.MediaStream,b=M(o.logLevel),w=o.RTCPeerConnection;!0===o.enableDscp&&(o.chromeSpecificConstraints=o.chromeSpecificConstraints||{},o.chromeSpecificConstraints.optional=o.chromeSpecificConstraints.optional||[],o.chromeSpecificConstraints.optional.push({googDscp:!0}));var k=o.log?o.log.createLog("signaling",l):new W("webrtc",l,b),x=new w(f,o.chromeSpecificConstraints);o.dummyAudioMediaStreamTrack&&x.addTrack(o.dummyAudioMediaStreamTrack,_||new o.MediaStream),Object.defineProperties(l,{_appliedTrackIdsToAttributes:{value:new Map,writable:!0},_dataChannels:{value:new Map},_dataTrackReceivers:{value:new Set},_descriptionRevision:{writable:!0,value:0},_didGenerateLocalCandidates:{writable:!0,value:!1},_enableDscp:{value:o.enableDscp},_encodingParameters:{value:n},_isChromeScreenShareTrack:{value:o.isChromeScreenShareTrack},_iceGatheringFailed:{value:!1,writable:!0},_iceGatheringTimeout:{value:new o.Timeout(function(){return l._handleIceGatheringTimeout()},h,!1)},_iceRestartBackoff:{value:o.Backoff.exponential(g)},_instanceId:{value:++Z},_isIceConnectionInactive:{writable:!0,value:!1},_isIceLite:{writable:!0,value:!1},_isIceRestartBackoffInProgress:{writable:!0,value:!1},_isRestartingIce:{writable:!0,value:!1},_isUnifiedPlan:{value:m},_isRTCRtpSenderParamsSupported:{value:o.isRTCRtpSenderParamsSupported},_lastIceConnectionState:{writable:!0,value:null},_lastStableDescriptionRevision:{writable:!0,value:0},_localCandidates:{writable:!0,value:[]},_localCodecs:{value:new Set},_localCandidatesRevision:{writable:!0,value:1},_localDescriptionWithoutSimulcast:{writable:!0,value:null},_localDescription:{writable:!0,value:null},_localMediaStream:{value:_},_localUfrag:{writable:!0,value:null},_log:{value:k},_remoteCodecMaps:{value:new Map},_rtpSenders:{value:new Map},_iceConnectionMonitor:{value:new o.IceConnectionMonitor(x)},_mediaTrackReceivers:{value:new Set},_needsAnswer:{writable:!0,value:!1},_negotiationRole:{writable:!0,value:null},_offerOptions:{writable:!0,value:o.offerOptions},_peerConnection:{value:x},_preferredAudioCodecs:{value:r.audio},_preferredVideoCodecs:{value:r.video},_shouldApplySimulcast:{value:($||G)&&r.video.some(function(e){return"vp8"===e.codec.toLowerCase()&&e.simulcast})},_queuedDescription:{writable:!0,value:null},_iceReconnectTimeout:{value:new o.Timeout(function(){k.debug("ICE reconnect timed out"),l.close()},o.sessionTimeout,!1)},_recycledTransceivers:{value:{audio:[],video:[]}},_replaceTrackPromises:{value:new Map},_remoteCandidates:{writable:!0,value:new B},_sdpFormat:{value:d},_setBitrateParameters:{value:o.setBitrateParameters},_setCodecPreferences:{value:o.setCodecPreferences},_setSimulcast:{value:o.setSimulcast},_revertSimulcastForNonVP8MediaSections:{value:o.revertSimulcastForNonVP8MediaSections},_RTCIceCandidate:{value:o.RTCIceCandidate},_RTCPeerConnection:{value:o.RTCPeerConnection},_RTCSessionDescription:{value:o.RTCSessionDescription},_shouldOffer:{writable:!0,value:!1},_shouldRestartIce:{writable:!0,value:!1},_trackIdsToAttributes:{value:new Map,writable:!0},_trackMatcher:{writable:!0,value:null},id:{enumerable:!0,value:e}}),n.on("changed",N(function(){l._isRTCRtpSenderParamsSupported?l._needsAnswer||se(l):l.offer()})),x.addEventListener("connectionstatechange",l._handleConnectionStateChange.bind(l)),x.addEventListener("datachannel",l._handleDataChannelEvent.bind(l)),x.addEventListener("icecandidate",l._handleIceCandidateEvent.bind(l)),x.addEventListener("iceconnectionstatechange",l._handleIceConnectionStateChange.bind(l)),x.addEventListener("icegatheringstatechange",l._handleIceGatheringStateChange.bind(l)),x.addEventListener("signalingstatechange",l._handleSignalingStateChange.bind(l)),x.addEventListener("track",l._handleTrackEvent.bind(l)),l._iceRestartBackoff.on("ready",function(){return l._initiateIceRestart()});var O=l;return l.on("stateChanged",function e(t){"closed"===t&&(O.removeListener("stateChanged",e),O._dataChannels.forEach(function(e,t){O.removeDataTrackSender(t)}))}),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,q),r(t,[{key:"toString",value:function(){return"[PeerConnectionV2 #"+this._instanceId+": "+this.id+"]"}},{key:"_addIceCandidate",value:function(e){var t=this;return Promise.resolve().then(function(){return e=new t._RTCIceCandidate(e),t._peerConnection.addIceCandidate(e)}).catch(function(n){t._log.warn("Failed to add RTCIceCandidate "+(e?'"'+e.candidate+'"':"null")+": "+n.message)})}},{key:"_addIceCandidates",value:function(e){return Promise.all(e.map(this._addIceCandidate,this)).then(function(){})}},{key:"_addOrUpdateTransceiver",value:function(e){var t=this,n=function(e,t){var n={audio:e._preferredAudioCodecs.map(function(e){return e.toLowerCase()}),video:e._preferredVideoCodecs.map(function(e){var t=e.codec;return t.toLowerCase()})}[t],r=e._recycledTransceivers[t],i=n.find(function(t){return e._localCodecs.has(t)});if(!i)return r.shift();var o=r.find(function(t){var n=e._remoteCodecMaps.get(t.mid);return n&&n.has(i)});o&&r.splice(r.indexOf(o),1);return o}(this,e.kind);if(n&&n.sender){var r=n.sender.track?n.sender.track.id:null;return r&&this._log.warn("Reusing transceiver: "+n.mid+"] "+r+" => "+e.id),this._replaceTrackPromises.set(n,n.sender.replaceTrack(e).then(function(){n.direction="sendrecv"},function(){}).finally(function(){t._replaceTrackPromises.delete(n)})),n}return this._peerConnection.addTransceiver(e)}},{key:"_checkIceBox",value:function(e){var t=ie(e);if(!t)return Promise.resolve();var n=this._remoteCandidates.setUfrag(t);return this._addIceCandidates(n)}},{key:"_answer",value:function(e){var t=this;return Promise.resolve().then(function(){return t._negotiationRole||(t._negotiationRole="answerer"),t._setRemoteDescription(e)}).catch(function(){throw new I}).then(function(){return t._peerConnection.createAnswer()}).then(function(n){n=J?new t._RTCSessionDescription({sdp:b(n.sdp),type:n.type}):Q(n);var r=k(n.sdp,["mslabel","label"]);if(t._shouldApplySimulcast){var i=r;r=t._setSimulcast(i,t._sdpFormat,t._trackIdsToAttributes),r=t._revertSimulcastForNonVP8MediaSections(r,i,e.sdp)}return r=r.replace(/42e015/g,"42e01f"),t._setLocalDescription({type:n.type,sdp:r})}).then(function(){return t._checkIceBox(e)}).then(function(){return t._queuedDescription&&t._updateDescription(t._queuedDescription)}).then(function(){return t._queuedDescription=null,t._maybeReoffer(t._peerConnection.localDescription)}).catch(function(e){throw e instanceof I?e:new R})}},{key:"_close",value:function(){return this._iceConnectionMonitor.stop(),"closed"!==this._peerConnection.signalingState&&(this._peerConnection.close(),this.preempt("closed"),!0)}},{key:"_handleConnectionStateChange",value:function(){this.emit("connectionStateChanged")}},{key:"_handleDataChannelEvent",value:function(e){var t=this,n=e.channel,r=new U(n);this._dataTrackReceivers.add(r),n.addEventListener("close",function(){t._dataTrackReceivers.delete(r)}),this.emit("trackAdded",r)}},{key:"_handleGlare",value:function(e){var t=this;return this._log.debug("Glare detected; rolling back"),this._isRestartingIce&&(this._log.debug("An ICE restart was in progress; we'll need to restart ICE again after rolling back"),this._isRestartingIce=!1,this._shouldRestartIce=!0),Promise.resolve().then(function(){return t._trackIdsToAttributes=new Map(t._appliedTrackIdsToAttributes),t._setLocalDescription({type:"rollback"})}).then(function(){return t._needsAnswer=!1,t._answer(e)}).then(function(e){return e?Promise.resolve():t._offer()})}},{key:"_handleIceCandidateEvent",value:function(e){e.candidate&&(this._log.debug("Clearing ICE gathering timeout"),this._didGenerateLocalCandidates=!0,this._iceGatheringTimeout.clear(),this._localCandidates.push(e.candidate));var t={ice:{candidates:this._isIceLite?[]:this._localCandidates.slice(),ufrag:this._localUfrag},id:this.id};e.candidate||(t.ice.complete=!0),this._isIceLite&&e.candidate||(t.ice.revision=this._localCandidatesRevision++,this.emit("candidates",t))}},{key:"_handleIceConnectionStateChange",value:function(){var e=this,t=this._peerConnection.iceConnectionState,n=["connected","completed"].includes(t),r=this._log;r.debug('ICE connection state is "'+t+'"'),n&&(this._iceReconnectTimeout.clear(),this._iceRestartBackoff.reset()),"failed"===this._lastIceConnectionState||"failed"!==t||this._shouldRestartIce||this._isRestartingIce?["disconnected","failed"].includes(this._lastIceConnectionState)&&n&&r.debug("ICE reconnected"):(r.warn("ICE failed"),this._initiateIceRestartBackoff()),"connected"===t?(this._isIceConnectionInactive=!1,this._iceConnectionMonitor.start(function(){e._iceConnectionMonitor.stop(),e._shouldRestartIce||e._isRestartingIce||(r.warn("ICE Connection Monitor detected inactivity"),e._isIceConnectionInactive=!0,e._initiateIceRestartBackoff(),e.emit("iceConnectionStateChanged"),e.emit("connectionStateChanged"))})):["disconnected","completed"].includes(t)||(this._iceConnectionMonitor.stop(),this._isIceConnectionInactive=!1),this._lastIceConnectionState=t,this.emit("iceConnectionStateChanged")}},{key:"_handleIceGatheringTimeout",value:function(){this._log.warn("ICE failed to gather any local candidates"),this._iceGatheringFailed=!0,this._initiateIceRestartBackoff(),this.emit("iceConnectionStateChanged"),this.emit("connectionStateChanged")}},{key:"_handleIceGatheringStateChange",value:function(){var e=this._peerConnection.iceGatheringState,t=this._log;t.debug('ICE gathering state is "'+e+'"');var n=this._iceGatheringTimeout,r=n.delay,i=n.isSet;"gathering"!==e||this._didGenerateLocalCandidates||i||(t.debug("Starting ICE gathering timeout: "+r),this._iceGatheringFailed=!1,this._iceGatheringTimeout.start())}},{key:"_handleSignalingStateChange",value:function(){"stable"===this._peerConnection.signalingState&&(this._appliedTrackIdsToAttributes=new Map(this._trackIdsToAttributes))}},{key:"_handleTrackEvent",value:function(e){var t=this,n=this._peerConnection.remoteDescription?this._peerConnection.remoteDescription.sdp:null;this._trackMatcher||(this._trackMatcher=e.transceiver&&e.transceiver.mid?new Y:G||this._isUnifiedPlan?new z:new H),this._trackMatcher.update(n);var r=e.track,i=this._trackMatcher.match(e)||r.id,o=new V(i,r);this._mediaTrackReceivers.forEach(function(e){e.track.id===o.track.id&&t._mediaTrackReceivers.delete(e)}),this._mediaTrackReceivers.add(o),r.addEventListener("ended",function(){return t._mediaTrackReceivers.delete(o)}),this.emit("trackAdded",o)}},{key:"_initiateIceRestart",value:function(){if("closed"!==this._peerConnection.signalingState){var e=this._log;e.warn("Attempting to restart ICE"),this._didGenerateLocalCandidates=!1,this._isIceRestartBackoffInProgress=!1,this._shouldRestartIce=!0;var t=this._iceReconnectTimeout,n=t.delay;t.isSet||(e.debug("Starting ICE reconnect timeout: "+n),this._iceReconnectTimeout.start()),this.offer()}}},{key:"_initiateIceRestartBackoff",value:function(){"closed"===this._peerConnection.signalingState||this._isIceRestartBackoffInProgress||(this._log.warn("An ICE restart has been scheduled"),this._isIceRestartBackoffInProgress=!0,this._iceRestartBackoff.backoff())}},{key:"_maybeReoffer",value:function(e){var t=this._shouldOffer;if(e&&e.sdp){if(this._isUnifiedPlan){var n=this._peerConnection.getSenders().filter(function(e){return e.track});t=["audio","video"].reduce(function(t,r){var i=w(e.sdp,r,"(sendrecv|sendonly)"),o=n.filter(function(e,t){var n=t.track;return n&&n.kind===e&&"ended"!==n.readyState}.bind(null,r));return t||i.length<o.length},t)}var r=this._dataChannels.size>0,i=w(e.sdp,"application").length>0;t=t||r&&!i}return(t?this._offer():Promise.resolve()).then(function(){return t})}},{key:"_offer",value:function(){var e=this,t=Object.assign({},this._offerOptions);return this._needsAnswer=!0,this._shouldRestartIce&&(this._shouldRestartIce=!1,this._isRestartingIce=!0,t.iceRestart=!0),Promise.all(this._replaceTrackPromises.values()).then(function(){return e._peerConnection.createOffer(t)}).catch(function(){throw new R}).then(function(t){t=J?new e._RTCSessionDescription({sdp:b(t.sdp),type:t.type}):Q(t);var n=k(t.sdp,["mslabel","label"]);n=e._isUnifiedPlan&&e._peerConnection.remoteDescription?P(n,e._peerConnection.remoteDescription.sdp):n;var r=e._setCodecPreferences(n,e._preferredAudioCodecs,e._preferredVideoCodecs);return e._shouldOffer=!1,e._negotiationRole||(e._negotiationRole="offerer"),e._shouldApplySimulcast&&(e._localDescriptionWithoutSimulcast={type:"offer",sdp:r},r=e._setSimulcast(r,e._sdpFormat,e._trackIdsToAttributes)),e._setLocalDescription({type:"offer",sdp:r})})}},{key:"_getMediaTrackSenderId",value:function(e){var t=Array.from(this._rtpSenders.keys()).find(function(t){return t.track.id===e});return t?t.id:e}},{key:"_addOrRewriteLocalTrackIds",value:function(e){var t=this,n=this._peerConnection.getTransceivers().filter(function(e){var t=e.sender;return!e.stopped&&t&&t.track}),r=n.filter(function(e){return e.mid}),i=new Map(r.map(function(e){var n=e.mid,r=e.sender;return[n,t._getMediaTrackSenderId(r.track.id)]})),o=O(e.sdp,i),a=n.filter(function(e){return!e.mid}),s=new Map(["audio","video"].map(function(e){return[e,a.filter(function(t){return t.sender.track.kind===e}).map(function(e){var n=e.sender;return t._getMediaTrackSenderId(n.track.id)})]})),u=x(o,i,s);return new this._RTCSessionDescription({sdp:u,type:e.type})}},{key:"_rollbackAndApplyOffer",value:function(e){var t=this;return this._setLocalDescription({type:"rollback"}).then(function(){return t._setLocalDescription(e)})}},{key:"_setLocalDescription",value:function(e){var t=this;return this._peerConnection.setLocalDescription(e).catch(function(n){throw t._log.warn('Calling setLocalDescription with an RTCSessionDescription of type "'+e.type+'" failed with the error "'+n.message+'".'),e.sdp&&t._log.warn("The SDP was "+e.sdp),new R}).then(function(){"rollback"!==e.type&&(t._localDescription=t._isUnifiedPlan?t._addOrRewriteLocalTrackIds(e):e,t._localCandidates=[],"offer"===e.type?t._descriptionRevision++:"answer"===e.type&&(t._lastStableDescriptionRevision=t._descriptionRevision,ae(t)),t._localUfrag=ie(e),t.emit("description",t.getState()))})}},{key:"_setRemoteDescription",value:function(e){var t=this;return e.sdp&&(this._isRTCRtpSenderParamsSupported||(e.sdp=this._setBitrateParameters(e.sdp,J?"TIAS":"AS",this._encodingParameters.maxAudioBitrate,this._encodingParameters.maxVideoBitrate)),e.sdp=this._setCodecPreferences(e.sdp,this._preferredAudioCodecs,this._preferredVideoCodecs),J&&(e.sdp=e.sdp.replace(/a=msid:[^ ]+ /g,"a=msid:- ")),this._peerConnection.remoteDescription||(this._isIceLite=/a=ice-lite/.test(e.sdp))),e=new this._RTCSessionDescription(e),Promise.resolve().then(function(){if("answer"===e.type&&t._shouldApplySimulcast){var n=t._revertSimulcastForNonVP8MediaSections(t._localDescription.sdp,t._localDescriptionWithoutSimulcast.sdp,e.sdp);if(n!==t._localDescription.sdp)return t._rollbackAndApplyOffer({type:t._localDescription.type,sdp:n})}}).then(function(){return t._peerConnection.setRemoteDescription(e)}).then(function(){"answer"===e.type&&(t._isRestartingIce&&(t._log.debug("An ICE restart was in-progress and is now completed"),t._isRestartingIce=!1),ae(t))},function(n){throw t._log.warn('Calling setRemoteDescription with an RTCSessionDescription of type "'+e.type+'" failed with the error "'+n.message+'".'),e.sdp&&t._log.warn("The SDP was "+e.sdp),n})}},{key:"_updateDescription",value:function(e){var t=this;switch(e.type){case"answer":case"pranswer":if(e.revision!==this._descriptionRevision||"have-local-offer"!==this._peerConnection.signalingState)return Promise.resolve();this._descriptionRevision=e.revision;break;case"close":return this._close();case"create-offer":return e.revision<=this._lastStableDescriptionRevision?Promise.resolve():this._needsAnswer?(this._queuedDescription=e,Promise.resolve()):(this._descriptionRevision=e.revision,this._offer());case"offer":return e.revision<=this._lastStableDescriptionRevision||"closed"===this._peerConnection.signalingState?Promise.resolve():"have-local-offer"===this._peerConnection.signalingState?this._needsAnswer&&0===this._lastStableDescriptionRevision?(this._queuedDescription=e,Promise.resolve()):(this._descriptionRevision=e.revision,this._handleGlare(e)):(this._descriptionRevision=e.revision,this._answer(e).then(function(){}))}var n=e.revision;return Promise.resolve().then(function(){return t._setRemoteDescription(e)}).catch(function(){throw new I}).then(function(){return t._lastStableDescriptionRevision=n,t._needsAnswer=!1,t._checkIceBox(e)}).then(function(){return t._queuedDescription&&t._updateDescription(t._queuedDescription)}).then(function(){return t._queuedDescription=null,t._maybeReoffer(t._peerConnection.localDescription).then(function(){})})}},{key:"_updateIce",value:function(e){var t=this._remoteCandidates.update(e);return this._addIceCandidates(t)}},{key:"addDataTrackSender",value:function(e){if(!this._dataChannels.has(e))try{var t={ordered:e.ordered};null!==e.maxPacketLifeTime&&(t.maxPacketLifeTime=e.maxPacketLifeTime),null!==e.maxRetransmits&&(t.maxRetransmits=e.maxRetransmits);var n=this._peerConnection.createDataChannel(e.id,t);e.addDataChannel(n),this._dataChannels.set(e,n)}catch(t){this._log.warn('Error creating an RTCDataChannel for DataTrack "'+e.id+'": '+t.message)}}},{key:"addMediaTrackSender",value:function(e){if("closed"!==this._peerConnection.signalingState&&!this._rtpSenders.has(e)){var t=void 0;if(this._localMediaStream)this._localMediaStream.addTrack(e.track),t=this._peerConnection.addTrack(e.track,this._localMediaStream);else t=this._addOrUpdateTransceiver(e.track).sender;e.addSender(t),this._rtpSenders.set(e,t)}}},{key:"close",value:function(){this._close()&&(this._descriptionRevision++,this._localDescription={type:"close"},this.emit("description",this.getState()))}},{key:"getTrackReceivers",value:function(){return Array.from(this._dataTrackReceivers).concat(Array.from(this._mediaTrackReceivers))}},{key:"getState",value:function(){if(!this._localDescription)return null;var e="answer"===this._localDescription.type?this._lastStableDescriptionRevision:this._descriptionRevision,t={type:this._localDescription.type,revision:e};return this._localDescription.sdp&&(t.sdp=this._localDescription.sdp),{description:t,id:this.id}}},{key:"offer",value:function(){var e=this;return this._needsAnswer||this._isRestartingIce?(this._shouldOffer=!0,Promise.resolve()):this.bracket("offering",function(t){return e.transition("updating",t),(e._needsAnswer||e._isRestartingIce?Promise.resolve():e._offer()).then(function(){e.tryTransition("open",t)},function(n){throw e.tryTransition("open",t),n})})}},{key:"removeDataTrackSender",value:function(e){var t=this._dataChannels.get(e);t&&(e.removeDataChannel(t),this._dataChannels.delete(e),t.close())}},{key:"removeMediaTrackSender",value:function(e){if("closed"!==this._peerConnection.signalingState&&this._rtpSenders.has(e)){var t=this._rtpSenders.get(e);this._peerConnection.removeTrack(t),this._localMediaStream&&this._localMediaStream.removeTrack(e.track),e.removeSender(t),this._rtpSenders.delete(e)}}},{key:"setConfiguration",value:function(e){"function"==typeof this._peerConnection.setConfiguration&&this._peerConnection.setConfiguration(oe(e))}},{key:"setIceReconnectTimeout",value:function(e){return this._iceReconnectTimeout.setDelay(e),this._log.debug("Updated ICE reconnection timeout period:",this._iceReconnectTimeout.delay),this}},{key:"update",value:function(e){var t=this;return this.bracket("updating",function(n){if("closed"===t.state)return Promise.resolve();t.transition("updating",n);var r=[];return e.ice&&r.push(t._updateIce(e.ice)),e.description&&r.push(t._updateDescription(e.description)),Promise.all(r).then(function(){t.tryTransition("open",n)},function(e){throw t.tryTransition("open",n),e})})}},{key:"getStats",value:function(){var e=this;return l(this._peerConnection).then(function(t){return function(e,t){return Object.assign(t,{remoteAudioTrackStats:t.remoteAudioTrackStats.map(function(t){return re(e,t)}),remoteVideoTrackStats:t.remoteVideoTrackStats.map(function(t){return re(e,t)}),localAudioTrackStats:t.localAudioTrackStats.map(function(t){return ne(e,t)}),localVideoTrackStats:t.localVideoTrackStats.map(function(t){return ne(e,t)})})}(e,t)})}},{key:"connectionState",get:function(){return"failed"===this.iceConnectionState?"failed":this._peerConnection.connectionState||this.iceConnectionState}},{key:"iceConnectionState",get:function(){return this._isIceConnectionInactive&&"disconnected"===this._peerConnection.iceConnectionState||this._iceGatheringFailed?"failed":this._peerConnection.iceConnectionState}},{key:"isApplicationSectionNegotiated",get:function(){return"closed"===this._peerConnection.signalingState||!!this._peerConnection.localDescription&&w(this._peerConnection.localDescription.sdp,"application").length>0}}]),t}();function ne(e,t){var n=e._getMediaTrackSenderId(t.trackId);return Object.assign(t,{trackId:n})}function re(e,t){var n=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e._mediaTrackReceivers)).find(function(e){return e.track.id===t.trackId}),r=n?n.id:null;return Object.assign(t,{trackId:r})}function ie(e){if(e.sdp){var t=e.sdp.match(/^a=ice-ufrag:([a-zA-Z0-9+/]+)/m);if(t)return t[1]}return null}function oe(e){return Object.assign({bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"},e)}function ae(e){e._isUnifiedPlan&&(function(e){e._recycledTransceivers.audio=[],e._recycledTransceivers.video=[],e._peerConnection.getTransceivers().forEach(function(t){if(function(e,t){return!(e.stopped||t._replaceTrackPromises.has(e)||"inactive"!==e.currentDirection&&"recvonly"!==e.currentDirection&&"recvonly"!==e.direction)}(t,e)){var n=t.receiver.track;e._recycledTransceivers[n.kind].push(t)}})}(e),function(e){var t=e._peerConnection.localDescription;t&&w(t.sdp).forEach(function(t){_(t).forEach(function(t,n){return e._localCodecs.add(n)})})}(e),function(e){var t=e._peerConnection.remoteDescription;t&&w(t.sdp).forEach(function(t){var n=t.match(/^a=mid:(.+)$/m)[1],r=_(t);e._remoteCodecMaps.set(n,r)})}(e)),e._isRTCRtpSenderParamsSupported&&se(e)}function se(e){var t=e._encodingParameters,n=t.maxAudioBitrate,r=t.maxVideoBitrate,i=new Map([["audio",n],["video",r]]);e._peerConnection.getSenders().filter(function(e){return e.track}).forEach(function(t){var n=i.get(t.track.kind),r=t.getParameters();null===n||0===n?function(e){Array.isArray(e.encodings)&&e.encodings.forEach(function(e){return delete e.maxBitrate})}(r):e._isChromeScreenShareTrack(t.track)?e._log.warn("Not setting maxBitrate for "+t.track.kind+" Track "+t.track.id+" because it appears to be screen share track: "+t.track.label):function(e,t){J?e.encodings=[{maxBitrate:t}]:e.encodings.forEach(function(e){e.maxBitrate=t})}(r,n),!J&&e._enableDscp&&r.encodings.length>0&&(r.encodings[0].networkPriority="high"),t.setParameters(r).catch(function(n){e._log.warn("Error while setting encodings parameters for "+t.track.kind+" Track "+t.track.id+": "+(n.message||n.name))})})}e.exports=te},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=n(87).guessBrowser,a=n(940),s=n(693),u=n(923),c=n(49),l=n(331).MediaConnectionError,f="firefox"===o(),p=function(e){function t(e,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),u=(i=Object.assign({audioContextFactory:f?n(569):null,PeerConnectionV2:a},i)).audioContextFactory?i.audioContextFactory.getOrCreate(o):null,l=u?{offerToReceiveVideo:!0}:{offerToReceiveAudio:!0,offerToReceiveVideo:!0};return Object.defineProperties(o,{_audioContextFactory:{value:i.audioContextFactory},_closedPeerConnectionIds:{value:new Set},_configuration:{writable:!0,value:null},_configurationDeferred:{writable:!0,value:c.defer()},_connectionState:{value:"new",writable:!0},_dummyAudioTrackSender:{value:u?new s(function(e){return e.createMediaStreamDestination().stream.getAudioTracks()[0]}(u)):null},_encodingParameters:{value:e},_iceConnectionState:{writable:!0,value:"new"},_dataTrackSenders:{writable:!0,value:new Set},_lastConnectionState:{value:"new",writable:!0},_lastIceConnectionState:{writable:!0,value:"new"},_mediaTrackSenders:{writable:!0,value:new Set},_offerOptions:{value:l},_peerConnections:{value:new Map},_preferredCodecs:{value:r},_sessionTimeout:{value:null,writable:!0},_PeerConnectionV2:{value:i.PeerConnectionV2}}),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r(t,[{key:"_closeAbsentPeerConnections",value:function(e){var t=new Set(e.map(function(e){return e.id}));return this._peerConnections.forEach(function(e){t.has(e.id)||e._close()}),this}},{key:"_getConfiguration",value:function(){return this._configurationDeferred.promise}},{key:"_getOrCreate",value:function(e,t){var n=this,r=this,i=this._peerConnections.get(e);if(!i){var o=this._PeerConnectionV2,a=Object.assign({dummyAudioMediaStreamTrack:this._dummyAudioTrackSender?this._dummyAudioTrackSender.track:null,offerOptions:this._offerOptions},this._sessionTimeout?{sessionTimeout:this._sessionTimeout}:{},t);try{i=new o(e,this._encodingParameters,this._preferredCodecs,a)}catch(e){throw new l}this._peerConnections.set(i.id,i),i.on("candidates",this.queue.bind(this,"candidates")),i.on("description",this.queue.bind(this,"description")),i.on("trackAdded",this.queue.bind(this,"trackAdded")),i.on("stateChanged",function e(t){"closed"===t&&(i.removeListener("stateChanged",e),r._peerConnections.delete(i.id),r._closedPeerConnectionIds.add(i.id),m(r),g(r))}),i.on("connectionStateChanged",function(){return m(n)}),i.on("iceConnectionStateChanged",function(){return g(n)}),this._dataTrackSenders.forEach(i.addDataTrackSender,i),this._mediaTrackSenders.forEach(i.addMediaTrackSender,i),g(this)}return i}},{key:"close",value:function(){return this._peerConnections.forEach(function(e){e.close()}),this._dummyAudioTrackSender&&this._dummyAudioTrackSender.stop(),this._audioContextFactory&&this._audioContextFactory.release(this),g(this),this}},{key:"createAndOffer",value:function(){var e=this;return this._getConfiguration().then(function(t){var n=void 0;do{n=c.makeUUID()}while(e._peerConnections.has(n));return e._getOrCreate(n,t)}).then(function(e){return e.offer()}).then(function(){return e})}},{key:"getTrackReceivers",value:function(){return c.flatMap(this._peerConnections,function(e){return e.getTrackReceivers()})}},{key:"getStates",value:function(){var e=[];return this._peerConnections.forEach(function(t){var n=t.getState();n&&e.push(n)}),e}},{key:"setConfiguration",value:function(e){return this._configuration&&(this._configurationDeferred=c.defer(),this._peerConnections.forEach(function(t){t.setConfiguration(e)})),this._configuration=e,this._configurationDeferred.resolve(e),this}},{key:"setIceReconnectTimeout",value:function(e){return null===this._sessionTimeout&&(this._peerConnections.forEach(function(t){t.setIceReconnectTimeout(e)}),this._sessionTimeout=e),this}},{key:"setTrackSenders",value:function(e){var t=new Set(e.filter(function(e){return"data"===e.kind})),n=new Set(e.filter(function(e){return e&&("audio"===e.kind||"video"===e.kind)})),r=function(e,t,n){return{data:function(e,t){var n=c.difference(t,e._dataTrackSenders),r=c.difference(e._dataTrackSenders,t);return{add:n,remove:r}}(e,t),media:function(e,t){var n=c.difference(t,e._mediaTrackSenders),r=c.difference(e._mediaTrackSenders,t);return{add:n,remove:r}}(e,n)}}(this,t,n);return this._dataTrackSenders=t,this._mediaTrackSenders=n,function(e,t){(t.data.add.size||t.data.remove.size||t.media.add.size||t.media.remove.size)&&e._peerConnections.forEach(function(e){t.data.remove.forEach(e.removeDataTrackSender,e),t.media.remove.forEach(e.removeMediaTrackSender,e),t.data.add.forEach(e.addDataTrackSender,e),t.media.add.forEach(e.addMediaTrackSender,e),(t.media.add.size||t.media.remove.size||t.data.add.size&&!e.isApplicationSectionNegotiated)&&e.offer()})}(this,r),this}},{key:"update",value:function(e){var t=this;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&this._closeAbsentPeerConnections(e),this._getConfiguration().then(function(n){return Promise.all(e.map(function(e){return t._closedPeerConnectionIds.has(e.id)?null:t._getOrCreate(e.id,n).update(e)}))}).then(function(){return t})}},{key:"getStats",value:function(){var e=Array.from(this._peerConnections.values());return Promise.all(e.map(function(e){return e.getStats().then(function(t){return[e.id,t]})})).then(function(e){return new Map(e)})}},{key:"connectionState",get:function(){return this._connectionState}},{key:"iceConnectionState",get:function(){return this._iceConnectionState}}]),t}();var d={new:0,checking:1,connecting:2,connected:3,completed:4,disconnected:-1,failed:-2,closed:-3},h=void 0;function v(){return Object.keys(d).reduce(function(e,t){return Object.assign(e,(n={},r=d[t],i=t,r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n));var n,r,i},{})}function y(e){return e.length?(h=h||v(),e.reduce(function(e,t){return h[Math.max(d[e],d[t])]})):"new"}function g(e){e._lastIceConnectionState=e.iceConnectionState,e._iceConnectionState=y([].concat(i(e._peerConnections.values())).map(function(e){return e.iceConnectionState})),e.iceConnectionState!==e._lastIceConnectionState&&e.emit("iceConnectionStateChanged")}function m(e){e._lastConnectionState=e.connectionState,e._connectionState=y([].concat(i(e._peerConnections.values())).map(function(e){return e.connectionState})),e.connectionState!==e._lastConnectionState&&e.emit("connectionStateChanged")}e.exports=p},function(e,t,n){"use strict";var r=n(568),i=n(941),o=n(922),a=n(896),s=n(331),u=s.SignalingConnectionDisconnectedError,c=s.SignalingIncomingMessageInvalidError,l=n(49).flatMap;e.exports=function(e,t,n,s,f,p){var d=p=Object.assign({PeerConnectionManager:i,RoomV2:o,Transport:a},p),h=d.PeerConnectionManager,v=d.RoomV2,y=d.Transport,g=d.iceServers,m=d.log,_=new h(s,f,p),b=l(n.tracks,function(e){return[e.trackTransceiver]});_.setTrackSenders(b);var w=new Error("Canceled"),k=void 0,E=new r(function(r,i,o){var a=p,s=a.InsightsPublisher,l=a.NullInsightsPublisher,f=a.automaticSubscription,d=a.bandwidthProfile,h=a.dominantSpeaker,b=a.environment,E=a.eventObserver,S=a.logLevel,T=a.name,C=a.networkMonitor,x=a.networkQuality,O=a.insights,P=a.realm,A=a.sdpSemantics,j=a.wsServerInsights,R=Object.assign({automaticSubscription:f,dominantSpeaker:h,environment:b,eventObserver:E,logLevel:S,networkMonitor:C,networkQuality:x,iceServers:g,insights:O,onIced:function(e){return o()?(i(w),Promise.reject(w)):(m.debug("Got ICE servers:",e),p.iceServers=e,_.setConfiguration(p),_.createAndOffer().then(function(){if(o())throw i(w),w;m.debug("createAndOffer() succeeded."),_.dequeue("description")}).catch(function(e){throw m.error("createAndOffer() failed:",e),i(e),e}))},realm:P,sdpSemantics:A},"string"==typeof j?{wsServerInsights:j}:{},s?{InsightsPublisher:s}:{},l?{NullInsightsPublisher:l}:{},d?{bandwidthProfile:d}:{});(k=new y(T,e,n,_,t,R)).once("connected",function(e){if(m.debug("Transport connected:",e),o())i(w);else if(e.participant){var t=e.options.signaling_region;n.setSignalingRegion(t),r(new v(n,e,k,_,p))}else i(new c)}),k.once("stateChanged",function(e,t){"disconnected"===e?(k=null,i(t||new u)):m.debug("Transport state changed:",e)})},function(){k&&(k.disconnect(),k=null)});return E.catch(function(){k&&(k.disconnect(),k=null),_.close()}),E}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(942),o=n(891),a=n(887),s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=Object.assign({createCancelableRoomSignalingPromise:i},n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperties(r,{_createCancelableRoomSignalingPromise:{value:n.createCancelableRoomSignalingPromise},_options:{value:n},_wsServer:{value:e}}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),r(t,[{key:"_connect",value:function(e,t,n,r,i){return i=Object.assign({},this._options,i),this._createCancelableRoomSignalingPromise.bind(null,t,this._wsServer,e,n,r,i)}},{key:"createLocalParticipantSignaling",value:function(e,t){return new o(e,t)}}]),t}();e.exports=s},function(e,t,n){"use strict";var r=n(680),i=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),i=null;return"number"==typeof n.frameWidthReceived&&"number"==typeof n.frameHeightReceived&&(i={},Object.defineProperties(i,{width:{value:n.frameWidthReceived,enumerable:!0},height:{value:n.frameHeightReceived,enumerable:!0}})),Object.defineProperties(r,{dimensions:{value:i,enumerable:!0},frameRate:{value:"number"==typeof n.frameRateReceived?n.frameRateReceived:null,enumerable:!0}}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r),t}();e.exports=i},function(e,t,n){"use strict";var r=n(680),i=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return Object.defineProperties(r,{audioLevel:{value:"number"==typeof n.audioOutputLevel?n.audioOutputLevel:null,enumerable:!0},jitter:{value:"number"==typeof n.jitter?n.jitter:null,enumerable:!0}}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r),t}();e.exports=i},function(e,t,n){"use strict";var r=n(682),i=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r)),o=null;"number"==typeof n.frameWidthInput&&"number"==typeof n.frameHeightInput&&(o={},Object.defineProperties(o,{width:{value:n.frameWidthInput,enumerable:!0},height:{value:n.frameHeightInput,enumerable:!0}}));var a=null;return"number"==typeof n.frameWidthSent&&"number"==typeof n.frameHeightSent&&(a={},Object.defineProperties(a,{width:{value:n.frameWidthSent,enumerable:!0},height:{value:n.frameHeightSent,enumerable:!0}})),Object.defineProperties(i,{captureDimensions:{value:o,enumerable:!0},dimensions:{value:a,enumerable:!0},captureFrameRate:{value:"number"==typeof n.frameRateInput?n.frameRateInput:null,enumerable:!0},frameRate:{value:"number"==typeof n.frameRateSent?n.frameRateSent:null,enumerable:!0}}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r),t}();e.exports=i},function(e,t,n){"use strict";var r=n(682),i=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return Object.defineProperties(i,{audioLevel:{value:"number"==typeof n.audioInputLevel?n.audioInputLevel:null,enumerable:!0},jitter:{value:"number"==typeof n.jitter?n.jitter:null,enumerable:!0}}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r),t}();e.exports=i},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0};var o=n(685),a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r._handleTrackSignalingEvents(),r.once("disconnected",r._unsubscribeTracks.bind(r)),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),r(t,[{key:"toString",value:function(){return"[RemoteParticipant #"+this._instanceId+(this.sid?": "+this.sid:"")+"]"}},{key:"_addTrack",value:function(e,n,r){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_addTrack",this).call(this,e,r)?(n._subscribed(e),this.emit("trackSubscribed",e,n),e):null}},{key:"_addTrackPublication",value:function(e){var n=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_addTrackPublication",this).call(this,e);return n?(this.emit("trackPublished",n),n):null}},{key:"_getTrackPublicationEvents",value:function(){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getTrackPublicationEvents",this).call(this)),[["subscriptionFailed","trackSubscriptionFailed"],["trackDisabled","trackDisabled"],["trackEnabled","trackEnabled"],["publishPriorityChanged","trackPublishPriorityChanged"],["trackSwitchedOff","trackSwitchedOff"],["trackSwitchedOn","trackSwitchedOn"]])}},{key:"_unsubscribeTracks",value:function(){var e=this;this.tracks.forEach(function(t){if(t.isSubscribed){var n=t.track;t._unsubscribe(),e.emit("trackUnsubscribed",n,t)}})}},{key:"_removeTrack",value:function(e,n,r){var o=this._tracks.get(r);return o?(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_removeTrack",this).call(this,o,r),n._unsubscribe(),this.emit("trackUnsubscribed",o,n),o):null}},{key:"_removeTrackPublication",value:function(e){var n=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_removeTrackPublication",this).call(this,e);return n?(this.emit("trackUnpublished",n),n):null}}]),t}();e.exports=a},function(e,t,n){"use strict";var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(511),a=n(948),s=n(683),u=n(49).valueToJSON,c=0,l=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i,o,a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),s=r.log.createLog("default",a),u=new Map;return Object.defineProperties(a,{_log:{value:s},_instanceId:{value:++c},_options:{value:r},_participants:{value:u},_signaling:{value:n},dominantSpeaker:{enumerable:!0,get:function(){return this.participants.get(n.dominantSpeakerSid)||null}},isRecording:{enumerable:!0,get:function(){return n.recording.isEnabled||!1}},localParticipant:{enumerable:!0,value:e},name:{enumerable:!0,value:n.name},participants:{enumerable:!0,value:u},sid:{enumerable:!0,value:n.sid},state:{enumerable:!0,get:function(){return n.state}},mediaRegion:{enumerable:!0,value:n.mediaRegion}}),i=a,(o=n.recording).on("updated",function(){var e=o.isEnabled;i._log.info("Recording "+(e?"started":"stopped")),i.emit("recording"+(e?"Started":"Stopped"))}),function(e,t){var n=e._log;n.debug("Creating a new RemoteParticipant for each ParticipantSignaling in the RoomSignaling"),t.participants.forEach(p.bind(null,e)),n.debug("Setting up RemoteParticipant creation for all subsequent ParticipantSignalings that connect to the RoomSignaling"),t.on("participantConnected",p.bind(null,e)),t.on("dominantSpeakerChanged",function(){return e.emit("dominantSpeakerChanged",e.dominantSpeaker)}),t.on("stateChanged",function r(i,o){switch(n.info("Transitioned to state:",i),i){case"disconnected":e.participants.forEach(function(e){e._unsubscribeTracks()}),e.emit(i,e,o),e.localParticipant.tracks.forEach(function(e){e.unpublish()}),t.removeListener("stateChanged",r);break;case"reconnecting":setTimeout(function(){return e.emit("reconnecting",o)},0);break;default:setTimeout(function(){return e.emit("reconnected")},0)}})}(a,n),s.info("Created a new Room:",a.name),s.debug("Initial RemoteParticipants:",Array.from(a._participants.values())),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),i(t,[{key:"toString",value:function(){return"[Room #"+this._instanceId+": "+this.sid+"]"}},{key:"disconnect",value:function(){return this._log.info("Disconnecting"),this._signaling.disconnect(),this}},{key:"getStats",value:function(){var e=this;return this._signaling.getStats().then(function(t){return Array.from(t).map(function(t){var n=r(t,2),i=n[0],o=n[1];return new s(i,Object.assign({},o,{localAudioTrackStats:f(e,o.localAudioTrackStats),localVideoTrackStats:f(e,o.localVideoTrackStats)}))})})}},{key:"toJSON",value:function(){return u(this)}}]),t}();function f(e,t){var n=e.localParticipant._signaling;return t.reduce(function(e,t){var r=n.tracks.get(t.trackId),i=n.getSender(r);return i?[Object.assign({},t,{trackId:i.id})].concat(e):e},[])}function p(e,t){var n=e._log,i=new a(t,{log:n});n.info("A new RemoteParticipant connected:",i),e._participants.set(i.sid,i),e.emit("participantConnected",i);var o=[["reconnected","participantReconnected"],["reconnecting","participantReconnecting"],"trackDimensionsChanged","trackDisabled","trackEnabled","trackMessage","trackPublished","trackPublishPriorityChanged","trackStarted","trackSubscribed","trackSubscriptionFailed","trackSwitchedOff","trackSwitchedOn","trackUnpublished","trackUnsubscribed"].map(function(t){var n=Array.isArray(t)?t:[t,t],o=r(n,2),a=o[0],s=o[1];function u(){var t=[].slice.call(arguments);t.unshift(s),t.push(i),e.emit.apply(e,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))}return i.on(a,u),[a,u]});i.once("disconnected",function(){var t=e.dominantSpeaker;n.info("RemoteParticipant disconnected:",i),e._participants.delete(i.sid),o.forEach(function(e){i.removeListener(e[0],e[1])}),e.emit("participantDisconnected",i),i===t&&e.emit("dominantSpeakerChanged",e.dominantSpeaker)})}e.exports=l},function(e,t,n){"use strict";var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(36).EventEmitter,a=n(102),s=a.DEFAULT_NQ_LEVEL_LOCAL,u=a.DEFAULT_NQ_LEVEL_REMOTE,c=a.MAX_NQ_LEVEL,l=n(49).inRange,f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e=Object.assign({local:s,remote:u},e),Object.defineProperties(n,{local:{value:l(e.local,s,c)?e.local:s,writable:!0},remote:{value:l(e.remote,u,c)?e.remote:u,writable:!0}}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),i(t,[{key:"update",value:function(e){var t=this;e=Object.assign({local:this.local,remote:this.remote},e),[["local",s,3],["remote",u,3]].forEach(function(n){var i=r(n,3),o=i[0],a=i[1],s=i[2];t[o]="number"==typeof e[o]&&l(e[o],a,s)?e[o]:a})}}]),t}();e.exports=f},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(565),o=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"toString",value:function(){return"[RemoteVideoTrackPublication #"+this._instanceId+": "+this.trackSid+"]"}}]),t}();e.exports=o},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(684)(n(690)),o=function(e){function t(e,n,r,i,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r,i,o))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"toString",value:function(){return"[RemoteVideoTrack #"+this._instanceId+": "+this.sid+"]"}},{key:"setPriority",value:function(e){return function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPriority",this).call(this,e)}}]),t}();e.exports=o},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(565),o=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"toString",value:function(){return"[RemoteDataTrackPublication #"+this._instanceId+": "+this.trackSid+"]"}}]),t}();e.exports=o},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(570),o=n(102),a=o.typeErrors,s=o.trackPriority,u=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n.id,"data",r));return Object.defineProperties(i,{_isSwitchedOff:{value:!1,writable:!0},_priority:{value:null,writable:!0},isEnabled:{enumerable:!0,value:!0},isSwitchedOff:{enumerable:!0,get:function(){return this._isSwitchedOff}},maxPacketLifeTime:{enumerable:!0,value:n.maxPacketLifeTime},maxRetransmits:{enumerable:!0,value:n.maxRetransmits},ordered:{enumerable:!0,value:n.ordered},priority:{enumerable:!0,get:function(){return this._priority}},reliable:{enumerable:!0,value:null===n.maxPacketLifeTime&&null===n.maxRetransmits},sid:{enumerable:!0,value:e}}),n.on("message",function(e){i.emit("message",e,i)}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"setPriority",value:function(e){var t=[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Object.values(s)));if(!t.includes(e))throw a.INVALID_VALUE("priority",t);return this._priority=e,this}},{key:"_setEnabled",value:function(){}},{key:"_setSwitchedOff",value:function(e){this._isSwitchedOff!==e&&(this._isSwitchedOff=e,this.emit(e?"switchedOff":"switchedOn",this))}}]),t}();e.exports=u},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(565),o=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"toString",value:function(){return"[RemoteAudioTrackPublication #"+this._instanceId+": "+this.trackSid+"]"}}]),t}();e.exports=o},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(705),o=n(684)(i),a=function(e){function t(e,n,r,i,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r,i,o))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),r(t,[{key:"toString",value:function(){return"[RemoteAudioTrack #"+this._instanceId+": "+this.sid+"]"}},{key:"setPriority",value:function(e){return function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPriority",this).call(this,e)}}]),t}();e.exports=a},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(566),o=function(e){function t(e,n,r,i){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r,i))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"toString",value:function(){return"[LocalVideoTrackPublication #"+this._instanceId+": "+this.trackSid+"]"}}]),t}();e.exports=o},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(566),o=function(e){function t(e,n,r,i){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r,i))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"toString",value:function(){return"[LocalDataTrackPublication #"+this._instanceId+": "+this.trackSid+"]"}}]),t}();e.exports=o},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(566),o=function(e){function t(e,n,r,i){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r,i))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"toString",value:function(){return"[LocalAudioTrackPublication #"+this._instanceId+": "+this.trackSid+"]"}}]),t}();e.exports=o},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0};var a=n(318).MediaStreamTrack,s=n(49),u=s.asLocalTrack,c=s.asLocalTrackPublication,l=s.trackClass,f=n(102),p=f.typeErrors,d=f.trackPriority,h=n(687).validateLocalTrack,v=n(512),y=v.LocalAudioTrack,g=v.LocalDataTrack,m=v.LocalVideoTrack,_=n(959),b=n(958),w=n(957),k=n(685),E=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=(r=Object.assign({LocalAudioTrack:y,LocalVideoTrack:m,LocalDataTrack:g,MediaStreamTrack:a,LocalAudioTrackPublication:_,LocalVideoTrackPublication:w,LocalDataTrackPublication:b,shouldStopLocalTracks:!1,tracks:n},r)).shouldStopLocalTracks?new Set(n.filter(function(e){return"data"!==e.kind})):new Set,o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return Object.defineProperties(o,{_LocalAudioTrack:{value:r.LocalAudioTrack},_LocalDataTrack:{value:r.LocalDataTrack},_LocalVideoTrack:{value:r.LocalVideoTrack},_MediaStreamTrack:{value:r.MediaStreamTrack},_LocalAudioTrackPublication:{value:r.LocalAudioTrackPublication},_LocalDataTrackPublication:{value:r.LocalDataTrackPublication},_LocalVideoTrackPublication:{value:r.LocalVideoTrackPublication},_tracksToStop:{value:i},signalingRegion:{enumerable:!0,get:function(){return e.signalingRegion}}}),o._handleTrackSignalingEvents(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,k),i(t,[{key:"_addTrack",value:function(e,n,r){var i=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_addTrack",this).call(this,e,n);return i&&"disconnected"!==this.state&&this._addLocalTrack(e,r),i}},{key:"_addLocalTrack",value:function(e,t){this._signaling.addTrack(e._trackSender,e.name,t),this._log.info("Added a new "+l(e,!0)+":",e.id),this._log.debug(l(e,!0)+":",e)}},{key:"_removeTrack",value:function(e,n){var r=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_removeTrack",this).call(this,e,n);return r&&"disconnected"!==this.state&&(this._signaling.removeTrack(e._trackSender),this._log.info("Removed a "+l(e,!0)+":",e.id),this._log.debug(l(e,!0)+":",e)),r}},{key:"_getTrackEvents",value:function(){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getTrackEvents",this).call(this).concat([["disabled","trackDisabled"],["enabled","trackEnabled"],["stopped","trackStopped"]])}},{key:"toString",value:function(){return"[LocalParticipant #"+this._instanceId+(this.sid?": "+this.sid:"")+"]"}},{key:"_handleTrackSignalingEvents",value:function(){var e=this,t=this._log;if("disconnected"!==this.state){var n=this._signaling;this.on("trackDisabled",i),this.on("trackEnabled",o),this.on("trackStopped",a),this._tracks.forEach(function(n){e._addLocalTrack(n,d.PRIORITY_STANDARD),e._getOrCreateLocalTrackPublication(n).catch(function(e){t.warn("Failed to get or create LocalTrackPublication for "+n+":",e)})});var r=this;n.on("stateChanged",function e(s){t.debug("Transitioned to state:",s),"disconnected"===s?(t.debug("Removing LocalTrack event listeners"),n.removeListener("stateChanged",e),r.removeListener("trackDisabled",i),r.removeListener("trackEnabled",o),r.removeListener("trackStopped",a),r._tracks.forEach(function(e){var t=a(e);t&&e._trackSender.removeClone(t._trackTransceiver)}),t.info("LocalParticipant disconnected. Stopping "+r._tracksToStop.size+" automatically-acquired LocalTracks"),r._tracksToStop.forEach(function(e){e.stop()})):"connected"===s&&(t.info("reconnected"),setTimeout(function(){return r.emit("reconnected")},0))})}function i(e){var r=n.getPublication(e._trackSender);r&&(r.disable(),t.debug("Disabled the "+l(e,!0)+":",e.id))}function o(e){var r=n.getPublication(e._trackSender);r&&(r.enable(),t.debug("Enabled the "+l(e,!0)+":",e.id))}function a(e){var t=n.getPublication(e._trackSender);return t&&t.stop(),t}}},{key:"_getOrCreateLocalTrackPublication",value:function(e){var t=S(this.tracks,e);if(t)return Promise.resolve(t);var n=this._log,r=this,i=this._signaling.getPublication(e._trackSender);if(!i)return Promise.reject(new Error("Unexpected error: The "+e+" cannot be published"));function o(e){r.unpublishTrack(e.track)}return new Promise(function(a,s){i.on("updated",function u(){var f=i.error;if(f)return i.removeListener("updated",u),n.warn("Failed to publish the "+l(e,!0)+": "+f.message),r._removeTrack(e,e.id),setTimeout(function(){r.emit("trackPublicationFailed",f,e)}),void s(f);if(!r._tracks.has(e.id))return i.removeListener("updated",u),void s(new Error("The "+e+" was unpublished"));if(i.sid){i.removeListener("updated",u);var p={log:n,LocalAudioTrackPublication:r._LocalAudioTrackPublication,LocalDataTrackPublication:r._LocalDataTrackPublication,LocalVideoTrackPublication:r._LocalVideoTrackPublication};(t=S(r.tracks,e))||(t=c(e,i,o,p),r._addTrackPublication(t)),"connected"===r._signaling.state&&setTimeout(function(){r.emit("trackPublished",t)}),a(t)}})})}},{key:"publishTrack",value:function(e,t){var n=S(this.tracks,e);if(n)return Promise.resolve(n);t=Object.assign({log:this._log,priority:d.PRIORITY_STANDARD,LocalAudioTrack:this._LocalAudioTrack,LocalDataTrack:this._LocalDataTrack,LocalVideoTrack:this._LocalVideoTrack,MediaStreamTrack:this._MediaStreamTrack},t);var r=void 0;try{r=u(e,t)}catch(e){return Promise.reject(e)}var i=Object.values(d);if(!i.includes(t.priority))return Promise.reject(p.INVALID_VALUE("LocalTrackPublishOptions.priority",i));var o=this._addTrack(r,r.id,t.priority)||this._tracks.get(r.id);return this._getOrCreateLocalTrackPublication(o)}},{key:"publishTracks",value:function(e){if(!Array.isArray(e))throw p.INVALID_TYPE("tracks","Array of LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack");return Promise.all(e.map(this.publishTrack,this))}},{key:"setBandwidthProfile",value:function(){this._log.warn("setBandwidthProfile is not implemented yet and may be available in future versions of twilio-video.js")}},{key:"setNetworkQualityConfiguration",value:function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)throw p.INVALID_TYPE("networkQualityConfiguration","NetworkQualityConfiguration");return["local","remote"].forEach(function(t){if(t in e&&("number"!=typeof e[t]||isNaN(e[t])))throw p.INVALID_TYPE("networkQualityConfiguration."+t,"number")}),this._signaling.setNetworkQualityConfiguration(e),this}},{key:"setParameters",value:function(e){if(void 0!==e&&"object"!==(void 0===e?"undefined":r(e)))throw p.INVALID_TYPE("encodingParameters","EncodingParameters, null or undefined");return e?["maxAudioBitrate","maxVideoBitrate"].forEach(function(t){if(void 0!==e[t]&&"number"!=typeof e[t]&&null!==e[t])throw p.INVALID_TYPE("encodingParameters."+t,"number, null or undefined")}):null===e&&(e={maxAudioBitrate:null,maxVideoBitrate:null}),this._signaling.setParameters(e),this}},{key:"unpublishTrack",value:function(e){h(e,{LocalAudioTrack:this._LocalAudioTrack,LocalDataTrack:this._LocalDataTrack,LocalVideoTrack:this._LocalVideoTrack,MediaStreamTrack:this._MediaStreamTrack});var t=this._tracks.get(e.id);if(!t)return null;if(this._signaling.getPublication(t._trackSender).publishFailed(new Error("The "+t+" was unpublished")),!(t=this._removeTrack(t,t.id)))return null;var n=S(this.tracks,t);return n&&this._removeTrackPublication(n),n}},{key:"unpublishTracks",value:function(e){var t=this;if(!Array.isArray(e))throw p.INVALID_TYPE("tracks","Array of LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack");return e.reduce(function(e,n){var r=t.unpublishTrack(n);return r?e.concat(r):e},[])}}]),t}();function S(e,t){return Array.from(e.values()).find(function(e){return e.track===t||e.track.mediaStreamTrack===t})||null}e.exports=E},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(36).EventEmitter,o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e=Object.assign({maxAudioBitrate:null,maxVideoBitrate:null},e),Object.defineProperties(n,{maxAudioBitrate:{value:e.maxAudioBitrate,writable:!0},maxVideoBitrate:{value:e.maxVideoBitrate,writable:!0}}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"toJSON",value:function(){return{maxAudioBitrate:this.maxAudioBitrate,maxVideoBitrate:this.maxVideoBitrate}}},{key:"update",value:function(e){var t=this;e=Object.assign({maxAudioBitrate:this.maxAudioBitrate,maxVideoBitrate:this.maxVideoBitrate},e),["maxAudioBitrate","maxVideoBitrate"].reduce(function(n,r){return t[r]!==e[r]&&(t[r]=e[r],n=!0),n},!1)&&this.emit("changed")}}]),t}();e.exports=o},function(e,t,n){"use strict";var r=n(568);e.exports=function(e,t,n,i){var o=void 0,a=new Error("Canceled");return new r(function(s,u,c){var l=void 0;e(function(e){return c()?r.reject(a):(l=t(e),n(l).then(function(e){if(c())throw a;return o=e()}))}).then(function(e){if(c())throw e.disconnect(),a;s(i(l,e))}).catch(function(e){u(e)})},function(){o&&o.cancel()})}},function(e,t,n){"use strict";var r=n(318).MediaStreamTrack,i=n(87),o=i.guessBrowser,a=i.guessBrowserVersion,s=n(962),u=n(567),c=n(961),l=n(960),f=n(512),p=f.LocalAudioTrack,d=f.LocalDataTrack,h=f.LocalVideoTrack,v=n(950),y=n(949),g=n(943),m=n(49),_=m.asLocalTrack,b=m.buildLogLevels,w=m.filterObject,k=m.isNonArrayObject,E=n(102),S=E.DEFAULT_ENVIRONMENT,T=E.DEFAULT_LOG_LEVEL,C=E.DEFAULT_REALM,x=E.DEFAULT_REGION,O=E.WS_SERVER,P=E.typeErrors,A=n(568),j=n(886),R=n(357),I=n(687).validateBandwidthProfile,L="safari"===o()&&a(),M=0,D=!1,N=!1;if(L){var B=L.major,F=L.minor;N=B<12||12===B&&F<1}var U=new Set([{didWarn:!1,name:"abortOnIceServersTimeout"},{didWarn:!1,name:"dscpTagging",newName:"enableDscp"},{didWarn:!1,name:"iceServersTimeout"}]);function V(e){var t="string"==typeof e?{codec:e}:e;switch(t.codec.toLowerCase()){case"vp8":return Object.assign({simulcast:!1},t);default:return t}}e.exports=function(e,t){if(void 0===t&&(t={}),!k(t))return A.reject(P.INVALID_TYPE("options","object"));t=Object.assign({automaticSubscription:!0,createLocalTracks:u,dominantSpeaker:!1,enableDscp:!1,environment:S,eventListener:null,insights:!0,LocalAudioTrack:p,LocalDataTrack:d,LocalParticipant:l,LocalVideoTrack:h,Log:R,MediaStreamTrack:r,logLevel:T,maxAudioBitrate:null,maxVideoBitrate:null,name:null,networkMonitor:!0,networkQuality:!1,preferredAudioCodecs:[],preferredVideoCodecs:[],realm:C,region:x,signaling:g},w(t));var n=O(t.environment,t.region),i=new j(Date.now(),t.eventListener);t=Object.assign({eventObserver:i,wsServer:n},t);var o=b(t.logLevel),a="[connect #"+ ++M+"]",f=void 0;try{f=new t.Log("default",a,o)}catch(E){return A.reject(E)}if(t.log=f,function(e,t){U.forEach(function(n){var r=n.didWarn,i=n.name,o=n.newName;i in e&&(o&&(e[o]=e[i]),delete e[i],r||["error","off"].includes(t.level)||(t.warn('The ConnectOptions flag "'+i+'" is '+(o?'deprecated and scheduled for removal. Please use "'+o+'" instead.':"no longer applicable and will be ignored.")),n.didWarn=!0))})}(t,f),N&&!D&&"error"!==f.logLevel&&"off"!==f.logLevel&&(D=!0,f.warn(["Support for Safari 12.0 and below is limited because it does not support VP8.","This means you may experience codec issues in Group Rooms. You may also","experience codec issues in Peer-to-Peer (P2P) Rooms containing Android- or","iOS-based Participants who do not support H.264. However, P2P Rooms","with browser-based Participants should work. For more information, please","refer to this guide: https://www.twilio.com/docs/video/javascript-v2-developing-safari-11"].join(" "))),"string"!=typeof e)return A.reject(P.INVALID_TYPE("token","string"));var m=Object.assign({},t);if(delete m.name,"tracks"in t){if(!Array.isArray(t.tracks))return A.reject(P.INVALID_TYPE("options.tracks","Array of LocalAudioTrack, LocalVideoTrack or MediaStreamTrack"));try{t.tracks=t.tracks.map(function(e){return _(e,m)})}catch(E){return A.reject(E)}}var E=I(t.bandwidthProfile);if(E)return A.reject(E);var L=new(0,t.signaling)(t.wsServer,t);f.info("Connecting to a Room"),f.debug("Options:",t);var B=new c({maxAudioBitrate:t.maxAudioBitrate,maxVideoBitrate:t.maxVideoBitrate}),F={audio:t.preferredAudioCodecs,video:t.preferredVideoCodecs.map(V)},q=new v(k(t.networkQuality)?t.networkQuality:{});t.networkQuality=k(t.networkQuality)||t.networkQuality;var W=s(function(e,t){var n=e.log;return e.shouldStopLocalTracks=!e.tracks,e.shouldStopLocalTracks?n.info("LocalTracks were not provided, so they will be acquired automatically before connecting to the Room. LocalTracks will be released if connecting to the Room fails or if the Room is disconnected"):(n.info("Getting LocalTracks"),n.debug("Options:",e)),e.createLocalTracks(e).then(function(r){var i=t(r);return i.catch(function(){e.shouldStopLocalTracks&&(n.info("The automatically acquired LocalTracks will now be stopped"),r.forEach(function(e){e.stop()}))}),i})}.bind(null,t),function(e,t,n,r,i,o){var a=e.createLocalParticipantSignaling(n,r);return t.debug("Creating a new LocalParticipant:",a),new i.LocalParticipant(a,o,i)}.bind(null,L,f,B,q,t),function(e,t,n,r,i,o){return t.log.debug("Creating a new RoomSignaling"),n.connect(o._signaling,e,r,i,t)}.bind(null,e,t,L,B,F),function(e,t,n){var r=new y(t,n,e),i=e.log;return i.debug("Creating a new Room:",r),n.on("stateChanged",function e(t){"disconnected"===t&&(i.info("Disconnected from Room:",r.toString()),n.removeListener("stateChanged",e))}),r}.bind(null,t));return W.then(function(e){return f.info("Connected to Room:",e.toString()),f.info("Room name:",e.name),f.debug("Room:",e),e},function(e){W._isCanceled?f.info("Attempt to connect to a Room was canceled"):f.info("Error while connecting to a Room:",e)}),W}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(689),o=n(49).makeUUID,a=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o(),e,n,r));return Object.defineProperties(i,{_clones:{value:new Set},_dataChannels:{value:new Set}}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"_addClone",value:function(e){this._clones.add(e)}},{key:"removeClone",value:function(e){this._clones.delete(e)}},{key:"addDataChannel",value:function(e){return this._dataChannels.add(e),this}},{key:"clone",value:function(){var e=this,n=new t(this.maxPacketLifeTime,this.maxRetransmits,this.ordered);return this._addClone(n),n.once("stopped",function(){return e.removeClone(n)}),n}},{key:"removeDataChannel",value:function(e){return this._dataChannels.delete(e),this}},{key:"send",value:function(e){return this._dataChannels.forEach(function(t){try{t.send(e)}catch(e){}}),this._clones.forEach(function(t){try{t.send(e)}catch(e){}}),this}},{key:"stop",value:function(){this._dataChannels.forEach(function(e){return e.close()}),this._clones.forEach(function(e){return e.stop()}),function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"stop",this).call(this)}}]),t}();e.exports=a},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(570),o=n(964),a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=new(0,(e=Object.assign({DataTrackSender:o,maxPacketLifeTime:null,maxRetransmits:null,ordered:!0},e)).DataTrackSender)(e.maxPacketLifeTime,e.maxRetransmits,e.ordered),r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n.id,"data",e));return Object.defineProperties(r,{_trackSender:{value:n},id:{enumerable:!0,value:n.id},maxPacketLifeTime:{enumerable:!0,value:e.maxPacketLifeTime},maxRetransmits:{enumerable:!0,value:e.maxRetransmits},ordered:{enumerable:!0,value:e.ordered},reliable:{enumerable:!0,value:null===e.maxPacketLifeTime&&null===e.maxRetransmits}}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"send",value:function(e){this._trackSender.send(e)}}]),t}();e.exports=a},function(e,t,n){"use strict";var r=n(50).inherits,i=n(965);function o(e){var t=new i(e);return Object.setPrototypeOf(t,o.prototype),t}r(o,i),e.exports=o},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0};var o=n(87).guessBrowser,a=n(696),s=n(698)(n(690)),u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=Object.assign({workaroundSilentLocalVideo:"safari"===o()&&"undefined"!=typeof document&&"function"==typeof document.createElement},n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return Object.defineProperties(r,{_workaroundSilentLocalVideo:{value:n.workaroundSilentLocalVideo?c:null},_workaroundSilentLocalVideoCleanup:{value:null,writable:!0}}),r._workaroundSilentLocalVideo&&(r._workaroundSilentLocalVideoCleanup=r._workaroundSilentLocalVideo(r,document)),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r(t,[{key:"toString",value:function(){return"[LocalVideoTrack #"+this._instanceId+": "+this.id+"]"}},{key:"_end",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_end",this).apply(this,arguments)}},{key:"disable",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disable",this).apply(this,arguments)}},{key:"enable",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enable",this).apply(this,arguments)}},{key:"restart",value:function(){var e=this;this._workaroundSilentLocalVideoCleanup&&(this._workaroundSilentLocalVideoCleanup(),this._workaroundSilentLocalVideoCleanup=null);var n=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"restart",this).apply(this,arguments);return this._workaroundSilentLocalVideo&&n.finally(function(){e._workaroundSilentLocalVideoCleanup=e._workaroundSilentLocalVideo(e,document)}),n}},{key:"stop",value:function(){return this._workaroundSilentLocalVideoCleanup&&(this._workaroundSilentLocalVideoCleanup(),this._workaroundSilentLocalVideoCleanup=null),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"stop",this).apply(this,arguments)}}]),t}();function c(e,t){var n=e._log,r=e._dummyEl,i=e.mediaStreamTrack;function o(){e.isEnabled&&(n.info("Unmuted, checking silence"),r.play().then(function(){return a(r,t)}).then(function(t){if(t)return n.warn("Silence detected, restarting"),e._stop(),e._restart();n.info("Non-silent frames detected, so no need to restart")}).catch(function(e){n.warn("Failed to detect silence and restart:",e)}).finally(function(){(r=e._dummyEl).paused||r.pause(),i.removeEventListener("unmute",o),(i=e.mediaStreamTrack).addEventListener("unmute",o)}))}return i.addEventListener("unmute",o),function(){i.removeEventListener("unmute",o)}}e.exports=u},function(e,t,n){"use strict";var r=n(50).inherits,i=n(967);function o(e,t){var n=new i(e,t);return Object.setPrototypeOf(n,o.prototype),n}r(o,i),e.exports=o},function(e,t,n){"use strict";var r=n(697),i=3,o=250;e.exports=function(e){var t=n(569),a={},s=t.getOrCreate(a),u=i;return function t(){return u--,r(s,e.srcObject,o).then(function(e){return!!e&&(!(u>0)||t())}).catch(function(){return!0})}().finally(function(){t.release(a)})}},function(e){e.exports={_args:[["@twilio/webrtc@4.3.2","/liminex/extensions/monitor"]],_from:"@twilio/webrtc@4.3.2",_id:"@twilio/webrtc@4.3.2",_inBundle:!1,_integrity:"sha512-3gIq7XDI3vBoikRBchCnocFmlRQt45KC7v0DKkat+TV6WBXYJx+Hub22PR18PAROkwl5dAmIziByjYWWVhCHgA==",_location:"/@twilio/webrtc",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"@twilio/webrtc@4.3.2",name:"@twilio/webrtc",escapedName:"@twilio%2fwebrtc",scope:"@twilio",rawSpec:"4.3.2",saveSpec:null,fetchSpec:"4.3.2"},_requiredBy:["/twilio-video"],_resolved:"https://registry.npmjs.org/@twilio/webrtc/-/webrtc-4.3.2.tgz",_spec:"4.3.2",_where:"/liminex/extensions/monitor",author:{name:"Manjesh Malavalli",email:"mmalavalli@twilio.com"},bugs:{url:"https://github.com/twilio/twilio-webrtc.js/issues"},contributors:[{name:"Mark Roberts",email:"mroberts@twilio.com"},{name:"Ryan Rowland",email:"rrowland@twilio.com"},{name:"Makarand Patwardhan",email:"mpatwardhan@twilio.com"}],description:"WebRTC-related APIs and shims used by twilio-video.js",devDependencies:{browserify:"^14.4.0",electron:"^5.0.0",envify:"^4.1.0",eslint:"^4.4.1","is-docker":"^2.0.0",istanbul:"^0.4.5",karma:"^1.7.0","karma-browserify":"^5.1.1","karma-chrome-launcher":"^2.2.0","karma-edgium-launcher":"^4.0.0-0","karma-electron":"^6.1.0","karma-firefox-launcher":"^1.0.1","karma-htmlfile-reporter":"^0.3.8","karma-junit-reporter":"^1.2.0","karma-mocha":"^1.3.0","karma-safari-launcher":"~0.1","karma-spec-reporter":"0.0.31",mocha:"^3.5.0","npm-run-all":"^4.0.2",rimraf:"^2.6.1","simple-git":"^2.4.0","twilio-release-tool":"^1.0.0",watchify:"^3.9.0","webrtc-adapter":"^6.4.8"},homepage:"https://github.com/twilio/twilio-webrtc.js#readme",keywords:["shim","twilio","video","webrtc"],license:"BSD-3-Clause",main:"./lib/index.js",name:"@twilio/webrtc",repository:{type:"git",url:"git+https://github.com/twilio/twilio-webrtc.js.git"},scripts:{build:"npm-run-all clean lint test",clean:"rimraf coverage",lint:"eslint ./lib",test:"npm-run-all test:*","test:integration":"npm-run-all test:integration:*","test:integration:adapter":"karma start karma/integration.adapter.conf.js","test:integration:native":"karma start karma/integration.conf.js","test:unit":"istanbul cover node_modules/mocha/bin/_mocha -- ./test/unit/index.js"},version:"4.3.2"}},function(e,t,n){"use strict";if("function"==typeof RTCSessionDescription)switch((0,n(87).guessBrowser)()){case"chrome":e.exports=n(702);break;case"firefox":e.exports=n(700);break;default:e.exports=RTCSessionDescription}else e.exports=function(){throw new Error("RTCSessionDescription is not supported")}},function(e,t,n){"use strict";var r=n(571),i=n(50).inherits,o=n(701),a=n(358),s=n(87),u="unified"===a.getSdpFormat(),c=u?a.updateUnifiedPlanTrackIdsToSSRCs:a.updatePlanBTrackIdsToSSRCs;function l(e){if(!(this instanceof l))return new l(e);r.call(this),s.interceptEvent(this,"datachannel"),s.interceptEvent(this,"iceconnectionstatechange"),s.interceptEvent(this,"signalingstatechange"),s.interceptEvent(this,"track");var t=new RTCPeerConnection(e);Object.defineProperties(this,{_appliedTracksToSSRCs:{value:new Map,writable:!0},_audioTransceiver:{value:null,writable:!0},_isClosed:{value:!1,writable:!0},_peerConnection:{value:t},_pendingLocalOffer:{value:null,writable:!0},_pendingRemoteOffer:{value:null,writable:!0},_rolledBackTracksToSSRCs:{value:new Map,writable:!0},_signalingStateLatch:{value:new o},_tracksToSSRCs:{value:new Map,writable:!0},_videoTransceiver:{value:null,writable:!0},localDescription:{enumerable:!0,get:function(){return this._pendingLocalOffer||this._peerConnection.localDescription}},iceConnectionState:{enumerable:!0,get:function(){return this._isClosed?"closed":this._peerConnection.iceConnectionState}},iceGatheringState:{enumerable:!0,get:function(){return this._isClosed?"complete":this._peerConnection.iceGatheringState}},remoteDescription:{enumerable:!0,get:function(){return this._pendingRemoteOffer||this._peerConnection.remoteDescription}},signalingState:{enumerable:!0,get:function(){return this._isClosed?"closed":this._pendingLocalOffer?"have-local-offer":this._pendingRemoteOffer?"have-remote-offer":this._peerConnection.signalingState}}});var n=this;t.addEventListener("datachannel",function(e){d(e.channel),n.dispatchEvent(e)}),t.addEventListener("iceconnectionstatechange",function(){n._isClosed||n.dispatchEvent.apply(n,arguments)}),t.addEventListener("signalingstatechange",function(){n._isClosed||("stable"===t.signalingState&&(n._appliedTracksToSSRCs=new Map(n._tracksToSSRCs)),n._pendingLocalOffer||n._pendingRemoteOffer||n.dispatchEvent.apply(n,arguments))}),t.addEventListener("track",function(e){n._pendingRemoteOffer=null,n.dispatchEvent(e)}),s.proxyProperties(RTCPeerConnection.prototype,this,t)}function f(e,t,n){var r,i=t?e._pendingLocalOffer:e._pendingRemoteOffer,o=t?e._pendingRemoteOffer:e._pendingLocalOffer,a=t?"have-local-offer":"have-remote-offer",s=t?"setLocalDescription":"setRemoteDescription";if(!t&&o&&"answer"===n.type)return function(e,t){var n=e._pendingLocalOffer;return e._peerConnection.setLocalDescription(n).then(function(){return e._pendingLocalOffer=null,e.setRemoteDescription(t)}).then(function(){e._signalingStateLatch.lower()})}(e,n);if("offer"===n.type){if(e.signalingState!==a&&"stable"!==e.signalingState)return Promise.reject(new Error("Cannot set "+(t?"local":"remote")+" offer in state "+e.signalingState));i||"low"!==e._signalingStateLatch.state||e._signalingStateLatch.raise();var u=e.signalingState;return r=n,t?e._pendingLocalOffer=r:e._pendingRemoteOffer=r,e.signalingState!==u?Promise.resolve().then(function(){e.dispatchEvent(new Event("signalingstatechange"))}):Promise.resolve()}return"rollback"===n.type?e.signalingState!==a?Promise.reject(new Error("Cannot rollback "+(t?"local":"remote")+" description in "+e.signalingState)):(t?e._pendingLocalOffer=null:e._pendingRemoteOffer=null,e._rolledBackTracksToSSRCs=new Map(e._tracksToSSRCs),e._tracksToSSRCs=new Map(e._appliedTracksToSSRCs),Promise.resolve().then(function(){e.dispatchEvent(new Event("signalingstatechange"))})):e._peerConnection[s](n)}function p(e,t){return!!e.getTransceivers().find(function(e){return e.receiver&&e.receiver.track&&e.receiver.track.kind===t})}function d(e){return Object.defineProperties(e,{maxPacketLifeTime:{value:65535===e.maxPacketLifeTime?null:e.maxPacketLifeTime},maxRetransmits:{value:65535===e.maxRetransmits?null:e.maxRetransmits}})}i(l,r),l.prototype.addIceCandidate=function(e){var t=this;return"have-remote-offer"===this.signalingState?this._signalingStateLatch.when("low").then(function(){return t._peerConnection.addIceCandidate(e)}):this._peerConnection.addIceCandidate(e)},l.prototype.createOffer=function(e){var t=this;if((e=Object.assign({},e)).offerToReceiveAudio&&!this._audioTransceiver&&(!u||!p(this,"audio"))){delete e.offerToReceiveAudio;try{this._audioTransceiver=u?this.addTransceiver("audio",{direction:"recvonly"}):this.addTransceiver("audio")}catch(e){return Promise.reject(e)}}if(e.offerToReceiveVideo&&!this._videoTransceiver&&(!u||!p(this,"video"))){delete e.offerToReceiveVideo;try{this._videoTransceiver=u?this.addTransceiver("video",{direction:"recvonly"}):this.addTransceiver("video")}catch(e){return Promise.reject(e)}}return this._peerConnection.createOffer(e).then(function(e){return t._rolledBackTracksToSSRCs.clear(),new RTCSessionDescription({type:e.type,sdp:c(t._tracksToSSRCs,e.sdp)})})},l.prototype.createAnswer=function(e){var t=this;return this._pendingRemoteOffer?this._peerConnection.setRemoteDescription(this._pendingRemoteOffer).then(function(){return t._signalingStateLatch.lower(),t._peerConnection.createAnswer()}).then(function(e){return t._pendingRemoteOffer=null,t._rolledBackTracksToSSRCs.clear(),u?new RTCSessionDescription({type:e.type,sdp:c(t._tracksToSSRCs,e.sdp)}):e},function(e){throw t._pendingRemoteOffer=null,e}):this._peerConnection.createAnswer(e).then(function(e){return t._rolledBackTracksToSSRCs.clear(),u?new RTCSessionDescription({type:e.type,sdp:c(t._tracksToSSRCs,e.sdp)}):e})},l.prototype.createDataChannel=function(e,t){var n=this._peerConnection.createDataChannel(e,t);return d(n),n},l.prototype.removeTrack=function(e){e.replaceTrack(null),this._peerConnection.removeTrack(e)},l.prototype.setLocalDescription=function(e){return this._rolledBackTracksToSSRCs.size>0&&(this._tracksToSSRCs=new Map(this._rolledBackTracksToSSRCs),this._rolledBackTracksToSSRCs.clear()),f(this,!0,e)},l.prototype.setRemoteDescription=function(e){return this._rolledBackTracksToSSRCs.clear(),f(this,!1,e)},l.prototype.close=function(){if(!this._isClosed){this._isClosed=!0,this._peerConnection.close();var e=this;setTimeout(function(){e.dispatchEvent(new Event("iceconnectionstatechange")),e.dispatchEvent(new Event("signalingstatechange"))})}},s.delegateMethods(RTCPeerConnection.prototype,l.prototype,"_peerConnection"),e.exports=l},function(e,t,n){"use strict";var r=n(571),i=n(700),o=n(50).inherits,a=n(358).updateUnifiedPlanTrackIdsToSSRCs,s=n(87),u="object"==typeof navigator&&navigator.userAgent&&(navigator.userAgent.match(/Firefox\/61/)||navigator.userAgent.match(/Firefox\/62/));function c(e){if(!(this instanceof c))return new c(e);r.call(this),s.interceptEvent(this,"signalingstatechange");var t=new RTCPeerConnection(e);Object.defineProperties(this,{_initiallyNegotiatedDtlsRole:{value:null,writable:!0},_isClosed:{value:!1,writable:!0},_peerConnection:{value:t},_rollingBack:{value:!1,writable:!0},_tracksToSSRCs:{value:new Map},iceGatheringState:{enumerable:!0,get:function(){return this._isClosed?"complete":this._peerConnection.iceGatheringState}},localDescription:{enumerable:!0,get:function(){return p(this._peerConnection.localDescription,this._initiallyNegotiatedDtlsRole)}},signalingState:{enumerable:!0,get:function(){return this._isClosed?"closed":this._peerConnection.signalingState}}});var n,i=this;t.addEventListener("signalingstatechange",function(){if(!i._rollingBack&&i.signalingState!==n){n=i.signalingState;var e=i.dispatchEvent.apply.bind(i.dispatchEvent,i,arguments);i._isClosed?setTimeout(e):e()}}),s.proxyProperties(RTCPeerConnection.prototype,this,t)}function l(e,t,n){var r=t?"setLocalDescription":"setRemoteDescription";return e._rollingBack=!0,e._peerConnection[r](new i({type:"rollback"})).then(n).then(function(t){return e._rollingBack=!1,t},function(t){throw e._rollingBack=!1,t})}function f(e,t,n){if(!e._initiallyNegotiatedDtlsRole&&"offer"!==t.type){var r=t.sdp.match(/a=setup:([a-z]+)/);if(r){var i=r[1];e._initiallyNegotiatedDtlsRole=n?{active:"passive",passive:"active"}[i]:i}}}function p(e,t){return e&&"answer"===e.type&&t?new i({type:e.type,sdp:e.sdp.replace(/a=setup:[a-z]+/g,"a=setup:"+t)}):e}o(c,r),Object.defineProperty(c.prototype,"peerIdentity",{enumerable:!0,value:Promise.resolve({idp:"",name:""})}),u&&(c.prototype.addTrack=function(){var e=arguments[0],t=this._peerConnection.addTrack.apply(this._peerConnection,arguments);return t.replaceTrack(e),t}),c.prototype.createAnswer=function(){var e,t=[].slice.call(arguments),n=this;return e=this._peerConnection.createAnswer().then(function(e){return f(n,e),p(e,n._initiallyNegotiatedDtlsRole)}),"function"==typeof t[0]?s.legacyPromise(e,t[0],t[1]):e},c.prototype.createOffer=function(){var e,t=[].slice.call(arguments),n=(t.length>1?t[2]:t[0])||{},r=this;"have-local-offer"===this.signalingState||"have-remote-offer"===this.signalingState?e=l(this,"have-local-offer"===this.signalingState,function(){return r.createOffer(n)}):e=r._peerConnection.createOffer(n);return e=e.then(function(e){return new i({type:e.type,sdp:a(r._tracksToSSRCs,e.sdp)})}),t.length>1?s.legacyPromise(e,t[0],t[1]):e},c.prototype.setLocalDescription=function(){var e,t=[].slice.call(arguments),n=t[0];return n&&"answer"===n.type&&"have-local-offer"===this.signalingState&&(e=Promise.reject(new Error("Cannot set local answer in state have-local-offer"))),e?t.length>1?s.legacyPromise(e,t[1],t[2]):e:this._peerConnection.setLocalDescription.apply(this._peerConnection,t)},c.prototype.setRemoteDescription=function(){var e,t=[].slice.call(arguments),n=t[0],r=this;return n&&"have-remote-offer"===this.signalingState&&("answer"===n.type?e=Promise.reject(new Error("Cannot set remote answer in state have-remote-offer")):"offer"===n.type&&(e=l(this,!1,function(){return r._peerConnection.setRemoteDescription(n)}))),e||(e=this._peerConnection.setRemoteDescription(n)),e=e.then(function(){f(r,n,!0)}),t.length>1?s.legacyPromise(e,t[1],t[2]):e},c.prototype.close=function(){"closed"!==this.signalingState&&(this._isClosed=!0,this._peerConnection.close())},s.delegateMethods(RTCPeerConnection.prototype,c.prototype,"_peerConnection"),e.exports=c},function(e,t,n){"use strict";e.exports=function(e){Object.defineProperties(this,{track:{enumerable:!0,value:e,writable:!0}})}},function(e,t,n){"use strict";var r=n(702),i=n(571),o=n(50).inherits,a=n(701),s=n(703),u=n(974),c=n(358),l=n(87);function f(e,t){if(!(this instanceof f))return new f(e,t);i.call(this),e=e||{};var n=Object.assign(e.iceTransportPolicy?{iceTransports:e.iceTransportPolicy}:{},e);l.interceptEvent(this,"datachannel"),l.interceptEvent(this,"signalingstatechange");var r=c.getSdpFormat(n.sdpSemantics),o=new RTCPeerConnection(n,t);Object.defineProperties(this,{_appliedTracksToSSRCs:{value:new Map,writable:!0},_localStream:{value:new s},_peerConnection:{value:o},_pendingLocalOffer:{value:null,writable:!0},_pendingRemoteOffer:{value:null,writable:!0},_rolledBackTracksToSSRCs:{value:new Map,writable:!0},_sdpFormat:{value:r},_senders:{value:new Map},_signalingStateLatch:{value:new a},_tracksToSSRCs:{value:new Map,writable:!0},localDescription:{enumerable:!0,get:function(){return this._pendingLocalOffer?this._pendingLocalOffer:o.localDescription}},remoteDescription:{enumerable:!0,get:function(){return this._pendingRemoteOffer?this._pendingRemoteOffer:o.remoteDescription}},signalingState:{enumerable:!0,get:function(){return this._pendingLocalOffer?"have-local-offer":this._pendingRemoteOffer?"have-remote-offer":o.signalingState}}});var u=this;o.addEventListener("datachannel",function(e){v(e.channel),u.dispatchEvent(e)}),o.addEventListener("signalingstatechange",function(){"stable"===o.signalingState&&(u._appliedTracksToSSRCs=new Map(u._tracksToSSRCs)),u._pendingLocalOffer||u._pendingRemoteOffer||u.dispatchEvent.apply(u,arguments)}),o.ontrack=function(){},"function"!=typeof RTCPeerConnection.prototype.addTrack&&o.addStream(this._localStream),l.proxyProperties(RTCPeerConnection.prototype,this,o)}function p(e,t,n){var r,i,o=t?e._pendingLocalOffer:e._pendingRemoteOffer,a=t?e._pendingRemoteOffer:e._pendingLocalOffer,s=t?"have-local-offer":"have-remote-offer",u=t?"setLocalDescription":"setRemoteDescription";if(!t&&a&&"answer"===n.type)r=function(e,t){var n=e._pendingLocalOffer;return e._peerConnection.setLocalDescription(n).then(function(){return e._pendingLocalOffer=null,e.setRemoteDescription(t)}).then(function(){e._signalingStateLatch.lower()})}(e,n);else if("offer"===n.type){if(e.signalingState!==s&&"stable"!==e.signalingState)return Promise.reject(new Error("Cannot set "+(t?"local":"remote")+" offer in state "+e.signalingState));o||"low"!==e._signalingStateLatch.state||e._signalingStateLatch.raise();var c=e.signalingState;i=d(n),t?e._pendingLocalOffer=i:e._pendingRemoteOffer=i,r=Promise.resolve(),e.signalingState!==c&&r.then(function(){e.dispatchEvent(new Event("signalingstatechange"))})}else"rollback"===n.type&&(e.signalingState!==s?r=Promise.reject(new Error("Cannot rollback "+(t?"local":"remote")+" description in "+e.signalingState)):(t?e._pendingLocalOffer=null:e._pendingRemoteOffer=null,e._rolledBackTracksToSSRCs=new Map(e._tracksToSSRCs),e._tracksToSSRCs=new Map(e._appliedTracksToSSRCs),(r=Promise.resolve()).then(function(){e.dispatchEvent(new Event("signalingstatechange"))})));return r||e._peerConnection[u](d(n))}function d(e){return e instanceof r&&e._description?e._description:new RTCSessionDescription(e)}function h(){return"maxRetransmitTime"in RTCDataChannel.prototype&&!("maxPacketLifeTime"in RTCDataChannel.prototype)}function v(e){return Object.defineProperty(e,"maxRetransmits",{value:65535===e.maxRetransmits?null:e.maxRetransmits}),h()&&Object.defineProperty(e,"maxPacketLifeTime",{value:65535===e.maxRetransmitTime?null:e.maxRetransmitTime}),e}function y(e,t,n){return"unified"===e?c.updateUnifiedPlanTrackIdsToSSRCs(t,n):c.updatePlanBTrackIdsToSSRCs(t,n)}o(f,i),"function"!=typeof RTCPeerConnection.prototype.addTrack?(f.prototype.addTrack=function(){var e=[].slice.call(arguments)[0];if("closed"===this._peerConnection.signalingState)throw new Error("Cannot add MediaStreamTrack ["+e.id+", "+e.kind+"]: RTCPeerConnection is closed");var t=this._senders.get(e);if(t&&t.track)throw new Error("Cannot add MediaStreamTrack ["+e.id+", "+e.kind+"]: RTCPeerConnection already has it");return this._peerConnection.removeStream(this._localStream),this._localStream.addTrack(e),this._peerConnection.addStream(this._localStream),t=new u(e),this._senders.set(e,t),t},f.prototype.removeTrack=function(e){if("closed"===this._peerConnection.signalingState)throw new Error("Cannot remove MediaStreamTrack: RTCPeerConnection is closed");var t=e.track;t&&(e=this._senders.get(t))&&e.track&&(e.track=null,this._peerConnection.removeStream(this._localStream),this._localStream.removeTrack(t),this._peerConnection.addStream(this._localStream))},f.prototype.getSenders=function(){return Array.from(this._senders.values())}):f.prototype.removeTrack=function(e){if("closed"===this._peerConnection.signalingState)throw new Error("Cannot remove MediaStreamTrack: RTCPeerConnection is closed");try{this._peerConnection.removeTrack(e)}catch(e){}},f.prototype.addIceCandidate=function(e){var t,n=[].slice.call(arguments),r=this;return t="have-remote-offer"===this.signalingState?this._signalingStateLatch.when("low").then(function(){return r._peerConnection.addIceCandidate(e)}):this._peerConnection.addIceCandidate(e),n.length>1?l.legacyPromise(t,n[1],n[2]):t},f.prototype.close=function(){"closed"!==this.signalingState&&(this._pendingLocalOffer=null,this._pendingRemoteOffer=null,this._peerConnection.close())},f.prototype.createAnswer=function(){var e,t=[].slice.call(arguments),n=this;return e=this._pendingRemoteOffer?this._peerConnection.setRemoteDescription(this._pendingRemoteOffer).then(function(){return n._signalingStateLatch.lower(),n._peerConnection.createAnswer()}).then(function(e){return n._pendingRemoteOffer=null,n._rolledBackTracksToSSRCs.clear(),new r({type:"answer",sdp:y(n._sdpFormat,n._tracksToSSRCs,e.sdp)})},function(e){throw n._pendingRemoteOffer=null,e}):this._peerConnection.createAnswer().then(function(e){return n._rolledBackTracksToSSRCs.clear(),new r({type:"answer",sdp:y(n._sdpFormat,n._tracksToSSRCs,e.sdp)})}),t.length>1?l.legacyPromise(e,t[0],t[1]):e},f.prototype.createOffer=function(){var e=[].slice.call(arguments),t=(e.length>1?e[2]:e[0])||{},n=this,i=this._peerConnection.createOffer(t).then(function(e){return n._rolledBackTracksToSSRCs.clear(),new r({type:e.type,sdp:y(n._sdpFormat,n._tracksToSSRCs,e.sdp)})});return e.length>1?l.legacyPromise(i,e[0],e[1]):i},f.prototype.createDataChannel=function(e,t){t=function(e){e=Object.assign({},e),h()&&"maxPacketLifeTime"in e&&(e.maxRetransmitTime=e.maxPacketLifeTime);return e}(t);var n=this._peerConnection.createDataChannel(e,t);return v(n),n},f.prototype.setLocalDescription=function(){var e=[].slice.call(arguments),t=e[0];this._rolledBackTracksToSSRCs.size>0&&(this._tracksToSSRCs=new Map(this._rolledBackTracksToSSRCs),this._rolledBackTracksToSSRCs.clear());var n=p(this,!0,t);return e.length>1?l.legacyPromise(n,e[1],e[2]):n},f.prototype.setRemoteDescription=function(){var e=[].slice.call(arguments),t=e[0];this._rolledBackTracksToSSRCs.clear();var n=p(this,!1,t);return e.length>1?l.legacyPromise(n,e[1],e[2]):n},l.delegateMethods(RTCPeerConnection.prototype,f.prototype,"_peerConnection"),e.exports=f},function(e,t,n){"use strict";if("function"==typeof RTCPeerConnection)switch((0,n(87).guessBrowser)()){case"chrome":e.exports=n(975);break;case"firefox":e.exports=n(973);break;case"safari":e.exports=n(972);break;default:e.exports=RTCPeerConnection}else e.exports=function(){throw new Error("RTCPeerConnection is not supported")}},function(e,t,n){"use strict";"function"==typeof RTCIceCandidate?e.exports=RTCIceCandidate:e.exports=function(){throw new Error("RTCIceCandidate is not supported")}},function(e,t,n){"use strict";"function"==typeof MediaStreamTrack?e.exports=MediaStreamTrack:e.exports=function(){throw new Error("MediaStreamTrack is not supported")}},function(e,t,n){"use strict";e.exports=function(e){return"object"==typeof navigator&&"object"==typeof navigator.mediaDevices&&"function"==typeof navigator.mediaDevices.getUserMedia?(e=e||{audio:!0,video:!0},navigator.mediaDevices.getUserMedia(e)):Promise.reject(new Error("getUserMedia is not supported"))}},function(e,t,n){"use strict";var r=n(87).flatMap,i=n(87).guessBrowser,o=n(87).guessBrowserVersion,a=n(358).getSdpFormat,s=i(),u=o(),c="chrome"===s,l="firefox"===s,f="safari"===s,p=c?u.major:null,d=32767;function h(e){var t=Array.from(e.values()).find(function(e){return"candidate-pair"===e.type&&e.nominated});if(!t)return null;var n=e.get(t.localCandidateId),r=e.get(t.remoteCandidateId),i=[{key:"candidateType",type:"string"},{key:"ip",type:"string"},{key:"port",type:"number"},{key:"priority",type:"number"},{key:"protocol",type:"string"},{key:"url",type:"string"}],o=i.concat([{key:"deleted",type:"boolean"},{key:"relayProtocol",type:"string"}]),a=n?o.reduce(function(e,t){return e[t.key]=typeof n[t.key]===t.type?n[t.key]:"deleted"!==t.key&&null,e},{}):null,s=r?i.reduce(function(e,t){return e[t.key]=typeof r[t.key]===t.type?r[t.key]:null,e},{}):null;return[{key:"availableIncomingBitrate",type:"number"},{key:"availableOutgoingBitrate",type:"number"},{key:"bytesReceived",type:"number"},{key:"bytesSent",type:"number"},{key:"consentRequestsSent",type:"number"},{key:"currentRoundTripTime",type:"number"},{key:"lastPacketReceivedTimestamp",type:"number"},{key:"lastPacketSentTimestamp",type:"number"},{key:"nominated",type:"boolean"},{key:"priority",type:"number"},{key:"readable",type:"boolean"},{key:"requestsReceived",type:"number"},{key:"requestsSent",type:"number"},{key:"responsesReceived",type:"number"},{key:"responsesSent",type:"number"},{key:"retransmissionsReceived",type:"number"},{key:"retransmissionsSent",type:"number"},{key:"state",type:"string",fixup:function(e){return"inprogress"===e?"in-progress":e}},{key:"totalRoundTripTime",type:"number"},{key:"transportId",type:"string"},{key:"writable",type:"boolean"}].reduce(function(e,n){return e[n.key]=typeof t[n.key]===n.type?n.fixup?n.fixup(t[n.key]):t[n.key]:null,e},{localCandidate:a,remoteCandidate:s})}function v(e){var t=Array.from(e.values()).find(function(e){return"candidate-pair"===e.type&&e.nominated});if(!t)return null;var n=e.get(t.localCandidateId),r=e.get(t.remoteCandidateId),i=[{key:"candidateType",type:"string"},{key:"ip",ffKeys:["address","ipAddress"],type:"string"},{key:"port",ffKeys:["portNumber"],type:"number"},{key:"priority",type:"number"},{key:"protocol",ffKeys:["transport"],type:"string"},{key:"url",type:"string"}],o=i.concat([{key:"deleted",type:"boolean"},{key:"relayProtocol",type:"string"}]),a={host:"host",peerreflexive:"prflx",relayed:"relay",serverreflexive:"srflx"},s=n?o.reduce(function(e,t){var r=t.ffKeys&&t.ffKeys.find(function(e){return e in n})||t.key;return e[t.key]=typeof n[r]===t.type?"candidateType"===r&&a[n[r]]||n[r]:"deleted"!==r&&null,e},{}):null,u=r?i.reduce(function(e,t){var n=t.ffKeys&&t.ffKeys.find(function(e){return e in r})||t.key;return e[t.key]=typeof r[n]===t.type?"candidateType"===n&&a[r[n]]||r[n]:null,e},{}):null;return[{key:"availableIncomingBitrate",type:"number"},{key:"availableOutgoingBitrate",type:"number"},{key:"bytesReceived",type:"number"},{key:"bytesSent",type:"number"},{key:"consentRequestsSent",type:"number"},{key:"currentRoundTripTime",type:"number"},{key:"lastPacketReceivedTimestamp",type:"number"},{key:"lastPacketSentTimestamp",type:"number"},{key:"nominated",type:"boolean"},{key:"priority",type:"number"},{key:"readable",type:"boolean"},{key:"requestsReceived",type:"number"},{key:"requestsSent",type:"number"},{key:"responsesReceived",type:"number"},{key:"responsesSent",type:"number"},{key:"retransmissionsReceived",type:"number"},{key:"retransmissionsSent",type:"number"},{key:"state",type:"string"},{key:"totalRoundTripTime",type:"number"},{key:"transportId",type:"string"},{key:"writable",type:"boolean"}].reduce(function(e,n){return e[n.key]=typeof t[n.key]===n.type?t[n.key]:null,e},{localCandidate:s,remoteCandidate:u})}function y(e,t,n){var i="local"===n?"getSenders":"getReceivers";return e[i]?e[i]().map(function(e){return e.track}).filter(function(e){return e&&e.kind===t}):r(e["local"===n?"getLocalStreams":"getRemoteStreams"](),function(e){return e["audio"===t?"getAudioTracks":"getVideoTracks"]()})}function g(e,t){return new Promise(function(n,r){p&&p<67?e.getStats(function(e){n([function(e,t){var n=e.result().find(function(e){return"ssrc"===e.type&&e.stat("googTrackId")===t.id}),r={};n&&(r.timestamp=Math.round(Number(n.timestamp)),r=n.names().reduce(function(e,t){switch(t){case"googCodecName":e.codecName=n.stat(t);break;case"googRtt":e.roundTripTime=Number(n.stat(t));break;case"googJitterReceived":e.jitter=Number(n.stat(t));break;case"googFrameWidthInput":e.frameWidthInput=Number(n.stat(t));break;case"googFrameHeightInput":e.frameHeightInput=Number(n.stat(t));break;case"googFrameWidthSent":e.frameWidthSent=Number(n.stat(t));break;case"googFrameHeightSent":e.frameHeightSent=Number(n.stat(t));break;case"googFrameWidthReceived":e.frameWidthReceived=Number(n.stat(t));break;case"googFrameHeightReceived":e.frameHeightReceived=Number(n.stat(t));break;case"googFrameRateInput":e.frameRateInput=Number(n.stat(t));break;case"googFrameRateSent":e.frameRateSent=Number(n.stat(t));break;case"googFrameRateReceived":e.frameRateReceived=Number(n.stat(t));break;case"ssrc":e[t]=n.stat(t);break;case"bytesReceived":case"bytesSent":case"packetsLost":case"packetsReceived":case"packetsSent":case"audioInputLevel":case"audioOutputLevel":e[t]=Number(n.stat(t))}return e},r));return r}(e,t)])},null,r):e.getStats(t).then(function(e){n(function(e){var t=null,n=[],r=null,i=null,o=null,a=null;e.forEach(function(e){switch(e.type){case"inbound-rtp":t=e;break;case"outbound-rtp":n.push(e);break;case"track":o=e;break;case"codec":a=e;break;case"remote-inbound-rtp":r=e;break;case"remote-outbound-rtp":i=e}});var s=o&&o.remoteSource,u=[],c=s?i:r;return(s?[t]:n).forEach(function(e){var t={},n=[e,o,a,c&&c.ssrc===e.ssrc?c:null];function r(e){var t=n.find(function(t){return t&&void 0!==t[e]})||null;return t?t[e]:null}var i=r("ssrc");"number"==typeof i&&(t.ssrc=String(i));var l=r("timestamp");t.timestamp=Math.round(l);var f=r("mimeType");"string"==typeof f&&(f=f.split("/"),t.codecName=f[f.length-1]);var p=r("roundTripTime");"number"==typeof p&&(t.roundTripTime=Math.round(1e3*p));var h=r("jitter");"number"==typeof h&&(t.jitter=Math.round(1e3*h));var v=r("frameWidth");"number"==typeof v&&(s?t.frameWidthReceived=v:t.frameWidthSent=v);var y=r("frameHeight");"number"==typeof y&&(s?t.frameHeightReceived=y:t.frameHeightSent=y);var g=r("framesPerSecond");"number"==typeof g&&(t.frameRateSent=g);var m=r("bytesReceived");"number"==typeof m&&(t.bytesReceived=m);var _=r("bytesSent");"number"==typeof _&&(t.bytesSent=_);var b=r("packetsLost");"number"==typeof b&&(t.packetsLost=b);var w=r("packetsReceived");"number"==typeof w&&(t.packetsReceived=w);var k=r("packetsSent");"number"==typeof k&&(t.packetsSent=k);var E=r("audioLevel");"number"==typeof E&&(E=Math.round(E*d),s?t.audioOutputLevel=E:t.audioInputLevel=E),u.push(t)}),u}(e))},r)})}e.exports=function(e,t){return e&&"function"==typeof e.getStats?function(e,t){var n=y(e,"audio","local"),i=y(e,"video","local"),o=y(e,"audio"),s=y(e,"video"),u={activeIceCandidatePair:null,localAudioTrackStats:[],localVideoTrackStats:[],remoteAudioTrackStats:[],remoteVideoTrackStats:[]},p=r([[n,"localAudioTrackStats",!1],[i,"localVideoTrackStats",!1],[o,"remoteAudioTrackStats",!0],[s,"remoteVideoTrackStats",!0]],function(n){var r=n[0],i=n[1],o=n[2];return r.map(function(n){return function(e,t,n){return void 0!==(n=n||{}).testForChrome||c?g(e,t):void 0!==n.testForFirefox||l?function(e,t,n){return new Promise(function(r,i){e.getStats(t).then(function(e){r([function(e,t){var n=null,r=null;(e=e||new Map).forEach(function(t){if(!t.isRemote)switch(t.type){case"inbound-rtp":n=t,r=e.get(t.remoteId);break;case"outbound-rtp":r=t,n=e.get(t.remoteId)}});var i=t?n:r,o=t?r:n;function a(e){return i&&void 0!==i[e]?i[e]:o&&void 0!==o[e]?o[e]:null}var s={},u=a("timestamp");s.timestamp=Math.round(u);var c=a("ssrc");"number"==typeof c&&(s.ssrc=String(c));var l=a("bytesSent");"number"==typeof l&&(s.bytesSent=l);var f=a("packetsLost");"number"==typeof f&&(s.packetsLost=f);var p=a("packetsSent");"number"==typeof p&&(s.packetsSent=p);var d=a("roundTripTime");"number"==typeof d&&(s.roundTripTime=Math.round(1e3*d));var h=a("jitter");"number"==typeof h&&(s.jitter=Math.round(1e3*h));var v=a("framerateMean");"number"==typeof v&&(s.frameRateSent=Math.round(v));var y=a("bytesReceived");"number"==typeof y&&(s.bytesReceived=y);var g=a("packetsReceived");"number"==typeof g&&(s.packetsReceived=g);var m=a("framerateMean");return"number"==typeof m&&(s.frameRateReceived=Math.round(m)),s}(e,n)])},i)})}(e,t,n.isRemote):void 0!==n.testForSafari||f?void 0!==n.testForSafari||"unified"===a()?g(e,t):Promise.reject(new Error(["getStats() is not supported on this version of Safari","due to this bug: https://bugs.webkit.org/show_bug.cgi?id=192601"].join(" "))):Promise.reject(new Error("RTCPeerConnection#getStats() not supported"))}(e,n,Object.assign({isRemote:o},t)).then(function(e){e.forEach(function(e){e.trackId=n.id,u[i].push(e)})})})});return Promise.all(p).then(function(){return function(e,t){return void 0!==(t=t||{}).testForChrome||c||void 0!==t.testForSafari||f?e.getStats().then(h):void 0!==t.testForFirefox||l?e.getStats().then(v):Promise.reject(new Error("RTCPeerConnection#getStats() not supported"))}(e,t)}).then(function(e){return u.activeIceCandidatePair=e,u})}(e,t):Promise.reject(new Error("Given PeerConnection does not support getStats"))}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0};var o=n(87).guessBrowser,a=n(705),s=n(698),u="firefox"===o(),c=s(a),l=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c),r(t,[{key:"toString",value:function(){return"[LocalAudioTrack #"+this._instanceId+": "+this.id+"]"}},{key:"attach",value:function(e){return(e=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this,e)).muted=!0,e}},{key:"_end",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_end",this).apply(this,arguments)}},{key:"disable",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disable",this).apply(this,arguments)}},{key:"enable",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enable",this).apply(this,arguments)}},{key:"restart",value:function(){var e=arguments[0]||{};return u&&"deviceId"in e&&this._stop(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"restart",this).apply(this,arguments)}},{key:"stop",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"stop",this).apply(this,arguments)}}]),t}();e.exports=l},function(e,t,n){"use strict";var r=n(50).inherits,i=n(981);function o(e,t){var n=new i(e,t);return Object.setPrototypeOf(n,o.prototype),n}r(o,i),e.exports=o},function(e,t,n){"use strict";var r=n(512),i=r.LocalAudioTrack,o=r.LocalDataTrack,a=r.LocalVideoTrack,s=n(688).version,u={};Object.defineProperties(u,{connect:{enumerable:!0,value:n(963)},createLocalAudioTrack:{enumerable:!0,value:n(663).audio},createLocalTracks:{enumerable:!0,value:n(567)},createLocalVideoTrack:{enumerable:!0,value:n(663).video},isSupported:{enumerable:!0,value:n(885)()},LocalAudioTrack:{enumerable:!0,value:i},LocalDataTrack:{enumerable:!0,value:o},LocalVideoTrack:{enumerable:!0,value:a},version:{enumerable:!0,value:s}}),e.exports=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(13),o=f(i),a=f(n(983)),s=f(n(884)),u=f(n(706)),c=f(n(10)),l=f(n(882));function f(e){return e&&e.__esModule?e:{default:e}}const p=1e4;t.default=class extends i.Component{constructor(e){super(e),this.state={tracks:[]},this.room=null,this.teacherJoinTimeout=null,this.logger=c.default.withFields({filename:"ui/teacher/presentation/scripts/components/TwilioClient/index.jsx",call_id:e.activeCall.callId,participant_id:e.activeCall.participantId}),this.logger.options.stream.updateSampleRate(1),this.logger.options.stream.updateFlushInterval(1e3),this.mounted=!1}componentDidMount(){this.mounted=!0,this.connectToRoom()}componentWillUnmount(){this.mounted=!1,null!==this.room&&this.room.disconnect(),window.clearTimeout(this.teacherJoinTimeout)}connectToRoom(){return a.default.connect(this.props.activeCall.token,{name:`ggt-call.${this.props.activeCall.callId}`,bandwidthProfile:{video:{mode:"presentation",trackSwitchOffMode:"detected"}},enableDscp:!0,preferredVideoCodecs:[{codec:"VP8",simulcast:!0}],tracks:[]}).then(e=>{if(this.mounted){this.room=e,this.teacherJoinTimeout=window.setTimeout(()=>{this.logger.debug("teacher did not join before timeout"),this.props.onError()},p);for(let t of e.participants.values())this.onParticipantConnected(t);e.on("participantConnected",this.onParticipantConnected),e.on("participantDisconnected",this.onParticipantDisconnected),e.on("disconnected",this.onDisconnected),this.logger.withFields({room:e}).debug("connected to Twilio room")}else e.disconnect()}).catch(e=>{this.logger.withError(e).error("error joining Twilio room"),this.props.onError()})}onDisconnected(){this.mounted&&(this.logger.warn("failed to reconnect to Twilio room"),this.props.onError())}onParticipantConnected(e){this.logger.withFields({participant:e}).debug("participant connected"),e.identity.startsWith("admin")&&(window.clearTimeout(this.teacherJoinTimeout),e.tracks.forEach(e=>{this.onTrackPublished(e)}),e.on("trackPublished",e=>{this.onTrackPublished(e)}),this.props.onJoin())}onParticipantDisconnected(e){this.logger.withFields({participant:e}).debug("participant disconnected"),e.identity.startsWith("admin")&&(window.clearTimeout(this.teacherJoinTimeout),this.teacherJoinTimeout=window.setTimeout(()=>{this.logger.debug("peer left"),this.props.onError()},p))}onTrackPublished(e){"audio"===e.kind&&(this.setAudioEnabled(e.trackSid,!0),this.props.onAudioStateChange(!0)),e.on("subscribed",e=>{this.addTrack(e)}),e.on("unsubscribed",e=>{this.removeTrack(e)}),e.on("trackEnabled",()=>{this.logger.debug(`unmuted track ${e.trackName}`),"audio"===e.kind&&(this.setAudioEnabled(e.trackSid,!0),this.props.onAudioStateChange(!0))}),e.on("trackDisabled",()=>{this.logger.debug(`muted track ${e.trackName}`),"audio"===e.kind&&(this.setAudioEnabled(e.trackSid,!1),this.props.onAudioStateChange(!1))})}addTrack(e){this.setState({tracks:[...this.state.tracks,{track:e,hasAudio:"audio"===e.kind,hasVideo:"video"===e.kind,lastAudioLevel:0}]})}removeTrack(e){this.setState({tracks:this.state.tracks.filter(t=>t.track.sid!==e.sid)})}setAudioEnabled(e,t){this.setState({tracks:this.state.tracks.map(n=>n.track.sid===e?r({},n,{hasAudio:t}):n)})}render(){const e=[...this.state.tracks].sort((e,t)=>e.track.name.localeCompare(t.track.name));return o.default.createElement("div",{className:s.default.container},e.map(t=>o.default.createElement(l.default,{key:t.track.sid,track:t,numVisibleTracks:e.filter(e=>e.hasVideo).length})),0===e.length&&o.default.createElement("div",{className:s.default.loaderOverlay},o.default.createElement(u.default,null)))}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(13),o=(r=i)&&r.__esModule?r:{default:r},a=n(707);const s={position:"absolute !important",height:"1px",width:"1px",overflow:"hidden",clip:"rect(1px, 1px, 1px, 1px)"};t.default=class extends o.default.Component{constructor(e){super(e),this.logAppendTimeout=null,this.state={log:[]}}getText(){const[e,t,n]=(0,a.getBackgroundText)(this.props.presentationState,null);return void 0!==n?n:`${e} ${void 0!==t?t:""}`}componentDidMount(){const e=[this.getText()];this.props.isLockedToPresentation&&e.push("You are unable to browse other websites while your teacher is presenting."),this.appendToLog(e)}componentDidUpdate(e){const t=[];e.presentationState!==this.props.presentationState&&t.push(this.getText()),!e.isLockedToPresentation&&this.props.isLockedToPresentation&&t.push("You are unable to browse other websites while your teacher is presenting."),t.length>0&&this.appendToLog(t)}appendToLog(e){window.clearTimeout(this.logAppendTimeout),this.logAppendTimeout=window.setTimeout(()=>{this.setState({log:[...this.state.log,...e.filter(e=>e.trim().length>0)]})})}componentWillUnmount(){window.clearTimeout(this.logAppendTimeout)}render(){return o.default.createElement("div",{role:"log","aria-live":"assertive",style:s},this.state.log.map((e,t)=>o.default.createElement("span",{key:t},e," ")))}},e.exports=t.default},function(e,t,n){(t=e.exports=n(65)(!0)).push([e.i,"._1FlUFccihs1-f6kfEjrMvL {\n  display: inline-block;\n  text-align: center; }\n  ._1FlUFccihs1-f6kfEjrMvL ._2BQYF_pLKOjKKL3hLJDgPw {\n    animation-delay: -0.3s; }\n  ._1FlUFccihs1-f6kfEjrMvL ._251qDfjYFTEAemVc4KzBvh {\n    animation-delay: -0.15s; }\n  ._1FlUFccihs1-f6kfEjrMvL > div {\n    animation: _1CSLfWrMrtOqQwVaPVPcBN 1.4s infinite cubic-bezier(0.4, 0, 0.2, 1) both;\n    border-radius: 100%;\n    display: inline-block;\n    height: 10px;\n    margin: 0 5px;\n    width: 10px;\n    height: 10px;\n    background: white; }\n\n@keyframes _1CSLfWrMrtOqQwVaPVPcBN {\n  0%,\n  80%,\n  100% {\n    transform: scale(0); }\n  40% {\n    transform: scale(1); } }\n","",{version:3,sources:["/liminex/extensions/monitor/src/ui/teacher/presentation/scripts/components/Common/Loader.scss"],names:[],mappings:"AAAA;EACE,sBAAsB;EACtB,mBAAmB,EAAE;EACrB;IACE,uBAAuB,EAAE;EAC3B;IACE,wBAAwB,EAAE;EAC5B;IACE,mFAAkE;IAClE,oBAAoB;IACpB,sBAAsB;IACtB,aAAa;IACb,cAAc;IACd,YAAY;IACZ,aAAa;IACb,kBAAkB,EAAE;;AAExB;EACE;;;IAGE,oBAAoB,EAAE;EACxB;IACE,oBAAoB,EAAE,EAAE",file:"Loader.scss",sourcesContent:[".loader {\n  display: inline-block;\n  text-align: center; }\n  .loader .bounce1 {\n    animation-delay: -0.3s; }\n  .loader .bounce2 {\n    animation-delay: -0.15s; }\n  .loader > div {\n    animation: bounce 1.4s infinite cubic-bezier(0.4, 0, 0.2, 1) both;\n    border-radius: 100%;\n    display: inline-block;\n    height: 10px;\n    margin: 0 5px;\n    width: 10px;\n    height: 10px;\n    background: white; }\n\n@keyframes bounce {\n  0%,\n  80%,\n  100% {\n    transform: scale(0); }\n  40% {\n    transform: scale(1); } }\n"],sourceRoot:""}]),t.locals={loader:"_1FlUFccihs1-f6kfEjrMvL",bounce1:"_2BQYF_pLKOjKKL3hLJDgPw",bounce2:"_251qDfjYFTEAemVc4KzBvh",bounce:"_1CSLfWrMrtOqQwVaPVPcBN"}},function(e,t,n){var r=n(986);"string"==typeof r&&(r=[[e.i,r,""]]);var i={attrs:{media:"screen"},hmr:!0,transform:void 0,insertInto:void 0};n(64)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){e.exports=n.p+"static/media/stars.8e6d16b3.png"},function(e,t,n){e.exports=n.p+"static/media/mountains.eb72eba7.png"},function(e,t){e.exports=function(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,t,n){var r=n(990);(t=e.exports=n(65)(!0)).push([e.i,".ZHcCbxq3SHYnUh2w4iz4r {\n  width: 100%;\n  height: 100%;\n  opacity: 0;\n  transition: opacity 500ms ease-in-out;\n  pointer-events: none; }\n  .ZHcCbxq3SHYnUh2w4iz4r._1r1p3DPWkYpwbff_wtKxKl {\n    opacity: 1;\n    pointer-events: initial; }\n\n._1dhfAxC6MpiP3O5i4ZKuMj {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%; }\n  ._1dhfAxC6MpiP3O5i4ZKuMj.yWMcqF5dtrO3ilJtPzIK3 {\n    background: url("+r(n(989))+");\n    background-position: bottom center;\n    background-repeat: no-repeat;\n    background-size: 1600px;\n    z-index: 4; }\n  ._1dhfAxC6MpiP3O5i4ZKuMj._2sCC5Wcj64zE_gWV_lS7ZE {\n    background: url("+r(n(988))+");\n    background-position: top center;\n    background-repeat: repeat-x;\n    background-size: 1600px;\n    z-index: 3; }\n  ._1dhfAxC6MpiP3O5i4ZKuMj._3gizxINun23svKBvmAJNR6 {\n    display: flex;\n    align-items: flex-start;\n    align-content: center;\n    justify-content: center;\n    overflow: hidden;\n    z-index: 2; }\n    ._1dhfAxC6MpiP3O5i4ZKuMj._3gizxINun23svKBvmAJNR6:after {\n      position: relative;\n      top: -20%;\n      content: '';\n      display: block;\n      min-width: 2000px;\n      min-height: 2000px;\n      margin: 0px auto;\n      background: radial-gradient(ellipse at center, #fdcc72 0%, #fdcc72 3%, #f67000 47%, rgba(246, 112, 0, 0) 70%); }\n  ._1dhfAxC6MpiP3O5i4ZKuMj._38zeOD8kpcI0jJ1PXox9SW {\n    background-color: #f46d7f;\n    z-index: 1; }\n\n._3RX8dKhAcHkGkKKSqVMcKL {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  padding: 20px;\n  box-sizing: border-box;\n  display: flex;\n  text-align: center;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  z-index: 5;\n  color: white; }\n  ._3RX8dKhAcHkGkKKSqVMcKL > div {\n    margin-bottom: 15px; }\n  ._3RX8dKhAcHkGkKKSqVMcKL > ._1dStJczCsrscVUlMpV7aZg {\n    font-size: 30px;\n    font-weight: 300; }\n  ._3RX8dKhAcHkGkKKSqVMcKL > ._3SwtM6VLnJYvZ6tQL0Aw6G {\n    font-size: 18px;\n    font-weight: 300; }\n","",{version:3,sources:["/liminex/extensions/monitor/src/ui/teacher/presentation/scripts/components/Background/index.scss"],names:[],mappings:"AAAA;EACE,YAAY;EACZ,aAAa;EACb,WAAW;EACX,sCAAsC;EACtC,qBAAqB,EAAE;EACvB;IACE,WAAW;IACX,wBAAwB,EAAE;;AAE9B;EACE,mBAAmB;EACnB,OAAO;EACP,QAAQ;EACR,YAAY;EACZ,aAAa,EAAE;EACf;IACE,0CAAuC;IACvC,mCAAmC;IACnC,6BAA6B;IAC7B,wBAAwB;IACxB,WAAW,EAAE;EACf;IACE,0CAAmC;IACnC,gCAAgC;IAChC,4BAA4B;IAC5B,wBAAwB;IACxB,WAAW,EAAE;EACf;IACE,cAAc;IACd,wBAAwB;IACxB,sBAAsB;IACtB,wBAAwB;IACxB,iBAAiB;IACjB,WAAW,EAAE;IACb;MACE,mBAAmB;MACnB,UAAU;MACV,YAAY;MACZ,eAAe;MACf,kBAAkB;MAClB,mBAAmB;MACnB,iBAAiB;MACjB,8GAA8G,EAAE;EACpH;IACE,0BAA0B;IAC1B,WAAW,EAAE;;AAEjB;EACE,mBAAmB;EACnB,OAAO;EACP,QAAQ;EACR,YAAY;EACZ,aAAa;EACb,cAAc;EACd,uBAAuB;EACvB,cAAc;EACd,mBAAmB;EACnB,uBAAuB;EACvB,oBAAoB;EACpB,wBAAwB;EACxB,WAAW;EACX,aAAa,EAAE;EACf;IACE,oBAAoB,EAAE;EACxB;IACE,gBAAgB;IAChB,iBAAiB,EAAE;EACrB;IACE,gBAAgB;IAChB,iBAAiB,EAAE",file:"index.scss",sourcesContent:['.container {\n  width: 100%;\n  height: 100%;\n  opacity: 0;\n  transition: opacity 500ms ease-in-out;\n  pointer-events: none; }\n  .container.visible {\n    opacity: 1;\n    pointer-events: initial; }\n\n.background {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%; }\n  .background.mountains {\n    background: url("./img/mountains.png");\n    background-position: bottom center;\n    background-repeat: no-repeat;\n    background-size: 1600px;\n    z-index: 4; }\n  .background.stars {\n    background: url("./img/stars.png");\n    background-position: top center;\n    background-repeat: repeat-x;\n    background-size: 1600px;\n    z-index: 3; }\n  .background.gradient {\n    display: flex;\n    align-items: flex-start;\n    align-content: center;\n    justify-content: center;\n    overflow: hidden;\n    z-index: 2; }\n    .background.gradient:after {\n      position: relative;\n      top: -20%;\n      content: \'\';\n      display: block;\n      min-width: 2000px;\n      min-height: 2000px;\n      margin: 0px auto;\n      background: radial-gradient(ellipse at center, #fdcc72 0%, #fdcc72 3%, #f67000 47%, rgba(246, 112, 0, 0) 70%); }\n  .background.sky {\n    background-color: #f46d7f;\n    z-index: 1; }\n\n.text {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  padding: 20px;\n  box-sizing: border-box;\n  display: flex;\n  text-align: center;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  z-index: 5;\n  color: white; }\n  .text > div {\n    margin-bottom: 15px; }\n  .text > .title {\n    font-size: 30px;\n    font-weight: 300; }\n  .text > .subtitle {\n    font-size: 18px;\n    font-weight: 300; }\n'],sourceRoot:""}]),t.locals={container:"ZHcCbxq3SHYnUh2w4iz4r",visible:"_1r1p3DPWkYpwbff_wtKxKl",background:"_1dhfAxC6MpiP3O5i4ZKuMj",mountains:"yWMcqF5dtrO3ilJtPzIK3",stars:"_2sCC5Wcj64zE_gWV_lS7ZE",gradient:"_3gizxINun23svKBvmAJNR6",sky:"_38zeOD8kpcI0jJ1PXox9SW",text:"_3RX8dKhAcHkGkKKSqVMcKL",title:"_1dStJczCsrscVUlMpV7aZg",subtitle:"_3SwtM6VLnJYvZ6tQL0Aw6G"}},function(e,t,n){var r=n(991);"string"==typeof r&&(r=[[e.i,r,""]]);var i={attrs:{media:"screen"},hmr:!0,transform:void 0,insertInto:void 0};n(64)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){e.exports=n.p+"static/media/nextButton.c8acc9b9.svg"},function(e,t,n){e.exports=n.p+"static/media/logo.c47f2aee.svg"},function(e,t,n){(t=e.exports=n(65)(!0)).push([e.i,"._3AVgRZqQvqir4NxNREJS {\n  display: flex;\n  justify-content: center;\n  padding: 10px 20px;\n  font-size: 13px;\n  background: #233b4f; }\n  ._3AVgRZqQvqir4NxNREJS._11YK2g1AHhcSt0XpY0LDr7 {\n    background: #13293c; }\n  ._3AVgRZqQvqir4NxNREJS._2xutv06QisZ7PwhffIFDe0 {\n    cursor: pointer; }\n    ._3AVgRZqQvqir4NxNREJS._2xutv06QisZ7PwhffIFDe0:hover {\n      background: #13293c; }\n    ._3AVgRZqQvqir4NxNREJS._2xutv06QisZ7PwhffIFDe0._11YK2g1AHhcSt0XpY0LDr7:hover {\n      background: #0b1823; }\n  ._3AVgRZqQvqir4NxNREJS._1C_BAqBcBT1xCFalG-37SA {\n    flex-grow: 1; }\n\n._2-ZSncLIo59l1RWUBgRn0s {\n  display: flex;\n  align-items: center; }\n  ._2-ZSncLIo59l1RWUBgRn0s._4OpJzNV_VJHqC49snPC3r {\n    text-align: right; }\n  ._2-ZSncLIo59l1RWUBgRn0s._2Nhq00fNT3Vuy9jA51RaPa {\n    flex-direction: row-reverse; }\n\n._2f-dj44NryAAfTJzTzhMvL {\n  width: 15px; }\n\n._1DqDkszN8KnjxDLxHsCUvT {\n  font-weight: 600; }\n\n.y5IJcLvG6l9U710-75zZc {\n  font-size: 11px; }\n","",{version:3,sources:["/liminex/extensions/monitor/src/ui/teacher/presentation/scripts/components/Header/HeaderItem.scss"],names:[],mappings:"AAAA;EACE,cAAc;EACd,wBAAwB;EACxB,mBAAmB;EACnB,gBAAgB;EAChB,oBAAoB,EAAE;EACtB;IACE,oBAAoB,EAAE;EACxB;IACE,gBAAgB,EAAE;IAClB;MACE,oBAAoB,EAAE;IACxB;MACE,oBAAoB,EAAE;EAC1B;IACE,aAAa,EAAE;;AAEnB;EACE,cAAc;EACd,oBAAoB,EAAE;EACtB;IACE,kBAAkB,EAAE;EACtB;IACE,4BAA4B,EAAE;;AAElC;EACE,YAAY,EAAE;;AAEhB;EACE,iBAAiB,EAAE;;AAErB;EACE,gBAAgB,EAAE",file:"HeaderItem.scss",sourcesContent:[".headerItem {\n  display: flex;\n  justify-content: center;\n  padding: 10px 20px;\n  font-size: 13px;\n  background: #233b4f; }\n  .headerItem.dark {\n    background: #13293c; }\n  .headerItem.clickable {\n    cursor: pointer; }\n    .headerItem.clickable:hover {\n      background: #13293c; }\n    .headerItem.clickable.dark:hover {\n      background: #0b1823; }\n  .headerItem.grow {\n    flex-grow: 1; }\n\n.content {\n  display: flex;\n  align-items: center; }\n  .content.right {\n    text-align: right; }\n  .content.reverse {\n    flex-direction: row-reverse; }\n\n.spacer {\n  width: 15px; }\n\n.title {\n  font-weight: 600; }\n\n.subtitle {\n  font-size: 11px; }\n"],sourceRoot:""}]),t.locals={headerItem:"_3AVgRZqQvqir4NxNREJS",dark:"_11YK2g1AHhcSt0XpY0LDr7",clickable:"_2xutv06QisZ7PwhffIFDe0",grow:"_1C_BAqBcBT1xCFalG-37SA",content:"_2-ZSncLIo59l1RWUBgRn0s",right:"_4OpJzNV_VJHqC49snPC3r",reverse:"_2Nhq00fNT3Vuy9jA51RaPa",spacer:"_2f-dj44NryAAfTJzTzhMvL",title:"_1DqDkszN8KnjxDLxHsCUvT",subtitle:"y5IJcLvG6l9U710-75zZc"}},function(e,t,n){var r=n(995);"string"==typeof r&&(r=[[e.i,r,""]]);var i={attrs:{media:"screen"},hmr:!0,transform:void 0,insertInto:void 0};n(64)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(13)),i=a(n(996)),o=a(n(169));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(({logo:e,title:t,subtitle:n,grow:a,alignment:s,reverse:u,background:c,onClick:l,label:f})=>r.default.createElement("div",{className:(0,o.default)(i.default.headerItem,i.default[c],{[i.default.clickable]:!!l,[i.default.grow]:a}),onClick:l,onKeyPress:e=>{!l||"Enter"!==e.key&&" "!==e.key||l()},role:l&&"button",tabIndex:l&&0,"aria-label":f},r.default.createElement("div",{className:(0,o.default)(i.default.content,i.default[s],{[i.default.reverse]:u})},e,r.default.createElement("div",{className:i.default.spacer}),r.default.createElement("div",null,r.default.createElement("div",{className:i.default.title},t),n&&r.default.createElement("div",{className:i.default.subtitle},n))))),e.exports=t.default},function(e,t,n){(t=e.exports=n(65)(!0)).push([e.i,"._81D480gR6pU3APQ6VrdSf {\n  min-height: 55px;\n  background: #233b4f;\n  display: flex;\n  color: white;\n  font-size: 13px; }\n  ._81D480gR6pU3APQ6VrdSf._1N1RG4OYNmlCVFg52hVpnr {\n    justify-content: space-between; }\n\n._1Ty1jD2HFzPi7dBOIHGDlZ {\n  position: relative;\n  top: -8px;\n  right: -5px; }\n  ._1Ty1jD2HFzPi7dBOIHGDlZ > ._2B6ImQ3lS05BbpxrfOdJ9T {\n    border-radius: 50%;\n    width: 8px;\n    height: 8px;\n    background: #62f55f; }\n","",{version:3,sources:["/liminex/extensions/monitor/src/ui/teacher/presentation/scripts/components/Header/index.scss"],names:[],mappings:"AAAA;EACE,iBAAiB;EACjB,oBAAoB;EACpB,cAAc;EACd,aAAa;EACb,gBAAgB,EAAE;EAClB;IACE,+BAA+B,EAAE;;AAErC;EACE,mBAAmB;EACnB,UAAU;EACV,YAAY,EAAE;EACd;IACE,mBAAmB;IACnB,WAAW;IACX,YAAY;IACZ,oBAAoB,EAAE",file:"index.scss",sourcesContent:[".header {\n  min-height: 55px;\n  background: #233b4f;\n  display: flex;\n  color: white;\n  font-size: 13px; }\n  .header.spaceBetween {\n    justify-content: space-between; }\n\n.greenDotContainer {\n  position: relative;\n  top: -8px;\n  right: -5px; }\n  .greenDotContainer > .greenDot {\n    border-radius: 50%;\n    width: 8px;\n    height: 8px;\n    background: #62f55f; }\n"],sourceRoot:""}]),t.locals={header:"_81D480gR6pU3APQ6VrdSf",spaceBetween:"_1N1RG4OYNmlCVFg52hVpnr",greenDotContainer:"_1Ty1jD2HFzPi7dBOIHGDlZ",greenDot:"_2B6ImQ3lS05BbpxrfOdJ9T"}},function(e,t,n){var r=n(998);"string"==typeof r&&(r=[[e.i,r,""]]);var i={attrs:{media:"screen"},hmr:!0,transform:void 0,insertInto:void 0};n(64)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(13)),i=c(n(999)),o=c(n(997)),a=c(n(994)),s=c(n(993)),u=c(n(169));function c(e){return e&&e.__esModule?e:{default:e}}t.default=(({selectedPresentation:e,presentationState:t,isAnotherPresentationActive:n,isLockedToPresentation:c,onClickNext:l})=>{if((null===e||"presenting"!==t)&&!n)return null;const f=null!==e&&e.hasAudio,p=1+f+n;let d="",h="";if(null!==e&&"presenting"===t){d="Your teacher is presenting";const t=(e.classroomSession.classroomSubject||"").toLowerCase();t&&"other"!==t&&(d+=` (${t} class)`)}c&&(h="You are unable to browse other websites while your teacher is presenting.");const v=r.default.createElement(o.default,{key:"classroom-info",logo:r.default.createElement("img",{src:a.default,alt:"",role:"presentation",style:{height:22}}),title:d,subtitle:h,grow:3===p,alignment:"left",background:"light"}),y=r.default.createElement(o.default,{key:"next-button",logo:r.default.createElement("img",{src:s.default,alt:"",role:"presentation",style:{height:18}}),title:"Another teacher is presenting",subtitle:"Click here to see what they’re presenting.",grow:3===p,alignment:"right",reverse:!0,background:3===p?"dark":"light",onClick:l,label:"switch to another teacher's presentation"}),g=r.default.createElement(o.default,{key:"microphone",logo:r.default.createElement("div",{className:i.default.greenDotContainer},r.default.createElement("div",{className:i.default.greenDot})),title:"Your teacher has their microphone on",subtitle:"Make sure your volume is on.",grow:3===p,alignment:3===p?"left":"right",background:3===p?"dark":"light"}),m=[v];return f&&n?(m.unshift(g),m.push(y)):n?m.push(y):f&&m.push(g),r.default.createElement("div",{className:(0,u.default)(i.default.header,{[i.default.spaceBetween]:3!==p})},m)}),e.exports=t.default},function(e,t,n){(t=e.exports=n(65)(!0)).push([e.i,"._1aQsw1i24cdmcqvSYfxAHg {\n  display: flex;\n  flex-direction: column;\n  height: 100%; }\n\n.Q5ztm52Al_TAIvqKoDCX7 {\n  z-index: 3;\n  position: relative; }\n\n._3cvffhIIwjjJ4Kt3eZ3VoZ {\n  flex-grow: 1;\n  z-index: 1; }\n\n.CA_QheC8UbDlH9HCeFOB3 {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0px;\n  bottom: 0px;\n  z-index: 2;\n  pointer-events: none; }\n","",{version:3,sources:["/liminex/extensions/monitor/src/ui/teacher/presentation/scripts/components/Presentation.scss"],names:[],mappings:"AAAA;EACE,cAAc;EACd,uBAAuB;EACvB,aAAa,EAAE;;AAEjB;EACE,WAAW;EACX,mBAAmB,EAAE;;AAEvB;EACE,aAAa;EACb,WAAW,EAAE;;AAEf;EACE,mBAAmB;EACnB,YAAY;EACZ,aAAa;EACb,SAAS;EACT,YAAY;EACZ,WAAW;EACX,qBAAqB,EAAE",file:"Presentation.scss",sourcesContent:[".container {\n  display: flex;\n  flex-direction: column;\n  height: 100%; }\n\n.headerContainer {\n  z-index: 3;\n  position: relative; }\n\n.videoContainer {\n  flex-grow: 1;\n  z-index: 1; }\n\n.backgroundContainer {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0px;\n  bottom: 0px;\n  z-index: 2;\n  pointer-events: none; }\n"],sourceRoot:""}]),t.locals={container:"_1aQsw1i24cdmcqvSYfxAHg",headerContainer:"Q5ztm52Al_TAIvqKoDCX7",videoContainer:"_3cvffhIIwjjJ4Kt3eZ3VoZ",backgroundContainer:"CA_QheC8UbDlH9HCeFOB3"}},function(e,t,n){var r=n(1001);"string"==typeof r&&(r=[[e.i,r,""]]);var i={attrs:{media:"screen"},hmr:!0,transform:void 0,insertInto:void 0};n(64)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";var r=s(n(13)),i=n(151),o=s(n(708)),a=n(106);function s(e){return e&&e.__esModule?e:{default:e}}const u=new(n(147).Store)({portName:"ui-rcrV2"});(0,i.render)(r.default.createElement(a.Provider,{store:u},r.default.createElement(o.default,null)),document.getElementById("root"))}]);